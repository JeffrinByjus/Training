window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!c&&p)return p(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"7d415hYHSJHfLA0HTdAFyS0","AudioManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tapAudio=null,e.dragAudio=null,e.dropAudio=null,e.bgAudio=null,e.tryAgainAudio=null,e.submitAudio=null,e.posFeedbackAudio=null,e.negFeedbackAudio=null,e.bottomBarAudio=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){null==o.Instance?o.Instance=this:(cc.log("Multiple Instance found: ",this.name),this.node.destroy())},e.prototype.playButtonTap=function(){this.playEffect(this.tapAudio)},e.prototype.playDragAudio=function(){this.playEffect(this.dragAudio)},e.prototype.playDropAudio=function(){this.playEffect(this.dropAudio)},e.prototype.playTryAgain=function(){this.playEffect(this.tryAgainAudio)},e.prototype.playBGMusic=function(){cc.audioEngine.playMusic(this.bgAudio,!0)},e.prototype.playPosFeedback=function(){this.playEffect(this.posFeedbackAudio)},e.prototype.playNegFeedback=function(){this.playEffect(this.negFeedbackAudio)},e.prototype.playSubmitAudio=function(){this.playEffect(this.submitAudio)},e.prototype.playBottomBarAppearAudio=function(){this.playEffect(this.bottomBarAudio)},e.prototype.playEffect=function(t){cc.audioEngine.playEffect(t,!1)},e.Instance=null,i([c({type:cc.AudioClip})],e.prototype,"tapAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"dragAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"dropAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"bgAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"tryAgainAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"submitAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"posFeedbackAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"negFeedbackAudio",void 0),i([c({type:cc.AudioClip})],e.prototype,"bottomBarAudio",void 0),e=o=i([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],BasePhase:[function(t,e,o){"use strict";cc._RF.push(e,"0c3f7BELAlIz7vV7+XI0/P4","BasePhase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phaseManager=null,e}return n(e,t),e.prototype.onPhaseActivated=function(t){this.phaseManager=t},e.prototype.onPhaseDeactivated=function(){},e=i([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],CompletionPhase:[function(t,e,o){"use strict";cc._RF.push(e,"32f17nCFzFMGYqPbh+1ynh+","CompletionPhase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BasePhase"),a=t("./Notifications/NotificationManager"),c=cc._decorator,s=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.completionText="",e.bottomButtonBar=null,e.bottomBarInitialPos=null,e.topTextPanel=null,e}return n(e,t),e.prototype.onLoad=function(){this.bottomBarInitialPos=this.bottomButtonBar.getPosition()},e.prototype.onPhaseActivated=function(e){var o=this;t.prototype.onPhaseActivated.call(this,e),this.topTextPanel=a.default.Instance.showTopNotification(this.completionText,function(){o.scheduleOnce(o.showButtons,3)})},e.prototype.showButtons=function(){cc.tween(this.bottomButtonBar).to(1,{position:cc.Vec2.ZERO},{easing:"cubicOut"}).start()},e.prototype.onReplayClicked=function(){this.phaseManager.startNextPhase()},e.prototype.onNextClicked=function(){cc.log("Next Clicked....")},e.prototype.onPhaseDeactivated=function(){t.prototype.onPhaseDeactivated.call(this),a.default.Instance.hideTopNotification(this.topTextPanel),this.bottomButtonBar.setPosition(this.bottomBarInitialPos)},i([p({multiline:!0})],e.prototype,"completionText",void 0),i([p(cc.Node)],e.prototype,"bottomButtonBar",void 0),e=i([s],e)}(r.default);o.default=u,cc._RF.pop()},{"./BasePhase":"BasePhase","./Notifications/NotificationManager":"NotificationManager"}],DragDropManager:[function(t,e,o){"use strict";cc._RF.push(e,"d63c2WALtZOG6IE8vK4NWyc","DragDropManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Audio/AudioManager"),a=t("../QuestionPhase"),c=t("./Option"),s=t("./Placeholder"),p=cc._decorator,u=p.ccclass,l=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.placeHolders=[],e.options=[],e.snapRange=100,e.resetButton=null,e.goButton=null,e.topRenderedNode=null,e.matchedHoldersCount=0,e}return n(e,t),e.prototype.onLoad=function(){this.questionPhase=this.getComponent(a.default),this.resetButton.interactable=this.goButton.interactable=!1},e.prototype.SetData=function(t,e){for(var o=0;o<this.options.length;o++){var n=this.options[o];n.setData(t[o]),n.draggableNode.on("posttouchstart",this.onTouchStart,this),n.draggableNode.on("posttouchend",this.onTouchEnd,this),this.placeHolders[o].setData(e[o])}},e.prototype.onTouchStart=function(t,e){r.default.Instance.playDragAudio();var o=this.getLocalPosition(e.draggableNode.getPosition(),e.draggableNode.parent,this.topRenderedNode);e.draggableNode.setParent(this.topRenderedNode),e.draggableNode.setPosition(o)},e.prototype.onTouchEnd=function(t,e){for(var o=Number.POSITIVE_INFINITY,n=null,i=0,a=this.placeHolders;i<a.length;i++){var c=a[i],s=this.getLocalPosition(c.node.getPosition(),c.node.parent),p=this.getLocalPosition(e.draggableNode.getPosition(),e.draggableNode.parent),u=cc.Vec2.distance(p,s);u<o&&(o=u,n=c)}if(cc.log("Minimum Distance calculated to snap: ",o),o<this.snapRange&&!n.isOccupied){e.drop(n.node),n.snapItem(e.getOptionId(),e.draggableNode),r.default.Instance.playDropAudio(),this.matchedHoldersCount+=1;var l=this.matchedHoldersCount==this.placeHolders.length;this.resetButton.interactable=!0,this.goButton.interactable=l}else e.resetPosition()},e.prototype.reset=function(){this.options.forEach(function(t){return t.reset()}),this.placeHolders.forEach(function(t){return t.reset()}),this.matchedHoldersCount=0,this.resetButton.interactable=this.goButton.interactable=!1},e.prototype.showEyeAnim=function(t){this.placeHolders.forEach(function(e){return e.showFeedback(t)})},e.prototype.submit=function(){for(var t=!0,e=0,o=this.placeHolders;e<o.length;e++){if(!o[e].isCorrect){t=!1;break}}t?this.questionPhase.positiveFeedback():this.questionPhase.negativeFeedback(),this.goButton.interactable=!1},e.prototype.getLocalPosition=function(t,e,o){void 0===o&&(o=null),null==o&&(o=this.node);var n=e.convertToWorldSpaceAR(t);return o.convertToNodeSpaceAR(n)},e.prototype.onDestroy=function(){for(var t=0,e=this.options;t<e.length;t++){var o=e[t];o.draggableNode.off("posttouchstart",this.onTouchStart,this),o.draggableNode.off("posttouchend",this.onTouchEnd,this)}},i([l([s.default])],e.prototype,"placeHolders",void 0),i([l(c.default)],e.prototype,"options",void 0),i([l({slide:!0,range:[0,150]})],e.prototype,"snapRange",void 0),i([l(cc.Button)],e.prototype,"resetButton",void 0),i([l(cc.Button)],e.prototype,"goButton",void 0),i([l(cc.Node)],e.prototype,"topRenderedNode",void 0),e=i([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Audio/AudioManager":"AudioManager","../QuestionPhase":"QuestionPhase","./Option":"Option","./Placeholder":"Placeholder"}],DraggableItem:[function(t,e,o){"use strict";cc._RF.push(e,"b50521LP09J9oJGBn3yUIga","DraggableItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eyeSprites=[],e}return n(e,t),e.prototype.setEyeSpriteFrame=function(t){this.eyeSprites.forEach(function(e){return e.spriteFrame=t})},i([c([cc.Sprite])],e.prototype,"eyeSprites",void 0),e=i([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Farmer:[function(t,e,o){"use strict";cc._RF.push(e,"3d7f2St+2xDKJ9pLdgqVFGu","Farmer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idleFarmer=null,e.anim=null,e.sprite=null,e}return n(e,t),e.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},e.prototype.playHappyAnim=function(){this.anim.play("HappyFarmer")},e.prototype.playAngryAnim=function(){this.anim.play("AngryFarmer")},e.prototype.reset=function(){this.sprite.spriteFrame=this.idleFarmer},i([c(cc.SpriteFrame)],e.prototype,"idleFarmer",void 0),i([c(cc.Animation)],e.prototype,"anim",void 0),e=i([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],IntroPhase:[function(t,e,o){"use strict";cc._RF.push(e,"2e53eg7ljpPX5B6wSAwNkE3","IntroPhase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BasePhase"),a=t("./Notifications/NotificationManager"),c=cc._decorator,s=c.ccclass,p=c.property,u=function(){function t(){this.panel=null,this.message="",this.voiceOverClip=null,this.currentNotPanel=null,this.initialPos=null}return t.prototype.init=function(){this.initialPos=this.panel.getPosition()},t.prototype.play=function(t){var e=this;cc.tween(this.panel).to(1,{position:{value:cc.Vec2.ZERO,easing:"cubicOut"}}).call(function(){e.currentNotPanel=a.default.Instance.showTopNotification(e.message)}).delay(3).call(function(){return a.default.Instance.hideTopNotification(e.currentNotPanel)}).delay(2).call(function(){return t(e)}).start()},t.prototype.reset=function(){this.panel.setPosition(this.initialPos)},i([p(cc.Node)],t.prototype,"panel",void 0),i([p({multiline:!0})],t.prototype,"message",void 0),i([p({type:cc.AudioClip})],t.prototype,"voiceOverClip",void 0),t=i([s("IntroPhaseData")],t)}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.introPanels=[],e.currentInroPhaseIndex=0,e}return n(e,t),e.prototype.onLoad=function(){this.introPanels.forEach(function(t){return t.init()})},e.prototype.onPhaseActivated=function(e){t.prototype.onPhaseActivated.call(this,e),cc.log("Phase: ",this.name),this.currentInroPhaseIndex=0,this.playIntroSequence()},e.prototype.playIntroSequence=function(){var t=this;this.introPanels[this.currentInroPhaseIndex].play(function(e){return t.onSequenceCompleted(e)})},e.prototype.onSequenceCompleted=function(t){this.currentInroPhaseIndex+=1,this.currentInroPhaseIndex<this.introPanels.length?this.playIntroSequence():this.phaseManager.startNextPhase()},e.prototype.onPhaseDeactivated=function(){t.prototype.onPhaseDeactivated.call(this),this.introPanels.forEach(function(t){return t.reset()})},i([p([u])],e.prototype,"introPanels",void 0),e=i([s],e)}(r.default);o.default=l,cc._RF.pop()},{"./BasePhase":"BasePhase","./Notifications/NotificationManager":"NotificationManager"}],NotificationManager:[function(t,e,o){"use strict";cc._RF.push(e,"2f473rvPWxE+IUWbBTOCmg2","NotificationManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r,a=cc._decorator,c=a.ccclass,s=a.property;(function(t){t[t.None=0]="None",t[t.OneLine=1]="OneLine",t[t.TwoLine=2]="TwoLine",t[t.ThreeLine=3]="ThreeLine"})(r=o.NotificationType||(o.NotificationType={}));var p=function(){function t(){this.prefab=null,this.type=r.None,this.messageSizeLimit=0,this.pool=null}return t.prototype.getPanel=function(){if(null==this.pool&&(this.pool=new cc.NodePool),this.pool.size()<=0){var t=cc.instantiate(this.prefab);this.pool.put(t)}return this.pool.get()},t.prototype.putPanel=function(t){this.pool.put(t)},i([s(cc.Prefab)],t.prototype,"prefab",void 0),i([s({type:cc.Enum(r)})],t.prototype,"type",void 0),i([s()],t.prototype,"messageSizeLimit",void 0),t=i([c("NotificationHead")],t)}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panelTweenDuration=1,e.notificationUIList=[],e.topNotPositionNode=null,e.bottomNotPositionNode=null,e.bottomInitialPositionNode=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){if(null==o.Instance){o.Instance=this,this.notificationPool=new Map;for(var t=0,e=this.notificationUIList;t<e.length;t++){var n=e[t];this.notificationPool.set(n.type,n)}}else cc.log("Multiple Instance found: ",this.name),this.node.destroy()},e.prototype.showTopNotification=function(t,e){var o=this.notificationPool.get(this.getNotificationType(t)).getPanel();return o.getComponentInChildren(cc.Label).string=t,o.setParent(this.node),o.setPosition(this.topNotPositionNode.getPosition().sub(new cc.Vec2(100,0))),o.opacity=0,o.active=!0,cc.tween(o).to(this.panelTweenDuration,{position:this.topNotPositionNode.getPosition(),opacity:255},{easing:"cubicOut"}).call(e).start(),o},e.prototype.hideTopNotification=function(t,e){var o=this;cc.tween(t).to(this.panelTweenDuration,{position:t.getPosition().add(new cc.Vec2(100,0)),opacity:0},{easing:"cubicOut"}).call(function(){var n=t.getComponentInChildren(cc.Label).string;o.notificationPool.get(o.getNotificationType(n)).putPanel(t),e&&e()}).start()},e.prototype.showBottomNotification=function(t,e){var o=this.notificationPool.get(this.getNotificationType(t)).getPanel();return o.getComponentInChildren(cc.Label).string=t,o.setParent(this.node),o.setPosition(this.bottomInitialPositionNode.getPosition()),o.opacity=0,o.active=!0,cc.tween(o).to(this.panelTweenDuration,{position:this.bottomNotPositionNode.getPosition(),opacity:255},{easing:"cubicOut"}).call(e).start(),o},e.prototype.hideBottomNotification=function(t,e){var o=this;cc.tween(t).to(this.panelTweenDuration,{position:this.bottomInitialPositionNode.getPosition(),opacity:0},{easing:"cubicOut"}).call(function(){var n=t.getComponentInChildren(cc.Label).string;o.notificationPool.get(o.getNotificationType(n)).putPanel(t),e&&e()}).start()},e.prototype.getNotificationType=function(t){for(var e=t.length,o=0,n=this.notificationUIList;o<n.length;o++){var i=n[o];if(e<i.messageSizeLimit)return i.type}},e.Instance=null,i([s],e.prototype,"panelTweenDuration",void 0),i([s([p])],e.prototype,"notificationUIList",void 0),i([s(cc.Node)],e.prototype,"topNotPositionNode",void 0),i([s(cc.Node)],e.prototype,"bottomNotPositionNode",void 0),i([s(cc.Node)],e.prototype,"bottomInitialPositionNode",void 0),e=o=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Option:[function(t,e,o){"use strict";cc._RF.push(e,"4aea5dCq65EV7sx7f32jfC/","Option");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.optionLabelBox=null,e.optionLabel=null,e.draggableNode=null,e.initialPos=null,e.initialParent=null,e.optionData=null,e}var o;return n(e,t),o=e,e.prototype.getOptionId=function(){return this.optionData.optionId},e.prototype.setData=function(t){null!=t&&(this.optionData=t,this.optionLabel.string=t.optionName,null!=this.draggableNode&&this.draggableNode.destroy(),this.draggableNode=cc.instantiate(t.optionPrefab),this.draggableNode.setParent(this.node),this.initialParent=this.draggableNode.parent,this.initialPos=this.draggableNode.getPosition(),this.subscribeTouchEvents())},e.prototype.onTouchStarted=function(t){this.isMultiTouch(t)||(o.currentTouchId=t.getID(),this.optionLabelBox.active=!1,this.draggableNode.emit("posttouchstart",t,this),this.touchOffset=this.getLocalPos(t.getLocation()).sub(this.draggableNode.getPosition()))},e.prototype.onTouchMoved=function(t){if(!this.isMultiTouch(t)){var e=this.getLocalPos(t.getLocation()).sub(this.touchOffset);this.draggableNode.setPosition(e)}},e.prototype.onTouchEnd=function(t){this.isMultiTouch(t)||(o.currentTouchId=0,this.draggableNode.emit("posttouchend",t,this))},e.prototype.drop=function(t){this.draggableNode.setParent(t),this.draggableNode.setPosition(cc.Vec2.ZERO),this.unsubscribeTouchEvents()},e.prototype.getLocalPos=function(t){return this.draggableNode.parent.convertToNodeSpaceAR(t)},e.prototype.getWorldPos=function(t){return this.draggableNode.parent.convertToWorldSpaceAR(t)},e.prototype.isMultiTouch=function(t){return 0!=o.currentTouchId&&t.getID()!=o.currentTouchId},e.prototype.resetPosition=function(){var t=this,e=this.initialParent.convertToWorldSpaceAR(this.initialPos),o=this.getLocalPos(e);this.unsubscribeTouchEvents(),cc.tween(this.draggableNode).to(.5,{position:o},{easing:"cubicOut"}).call(function(){t.optionLabelBox.active=!0,t.draggableNode.setParent(t.initialParent),t.draggableNode.setPosition(cc.Vec2.ZERO),t.subscribeTouchEvents()}).start()},e.prototype.reset=function(){this.unsubscribeTouchEvents(),this.subscribeTouchEvents(),this.draggableNode.setParent(this.initialParent),this.draggableNode.setPosition(this.initialPos),this.optionLabelBox.active=!0},e.prototype.subscribeTouchEvents=function(){this.draggableNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStarted,this),this.draggableNode.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.draggableNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.draggableNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.unsubscribeTouchEvents=function(){this.draggableNode.off(cc.Node.EventType.TOUCH_START,this.onTouchStarted,this),this.draggableNode.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.draggableNode.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.draggableNode.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onDestroy=function(){this.unsubscribeTouchEvents()},e.currentTouchId=0,i([c(cc.Node)],e.prototype,"optionLabelBox",void 0),i([c(cc.Label)],e.prototype,"optionLabel",void 0),e=o=i([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],PhaseManager:[function(t,e,o){"use strict";cc._RF.push(e,"92275aWeftLx6hisrpO/Eu/","PhaseManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./BasePhase"),a=cc._decorator,c=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePhases=[],e.currentPhase=null,e}return n(e,t),e.prototype.reset=function(){this.gamePhases.forEach(function(t){return t.node.active=!1})},e.prototype.start=function(){this.reset(),this.activatePhase(this.gamePhases[0])},e.prototype.startNextPhase=function(){var t=(this.gamePhases.indexOf(this.currentPhase)+1)%this.gamePhases.length,e=this.gamePhases[t];this.deactivatePhase(this.currentPhase),this.activatePhase(e)},e.prototype.activatePhase=function(t){cc.log("Activating Phase: ",t.node.name),this.currentPhase=t,t.node.active=!0,t.onPhaseActivated(this)},e.prototype.deactivatePhase=function(t){t.onPhaseDeactivated(),t.node.active=!1},i([s([r.default])],e.prototype,"gamePhases",void 0),e=i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./BasePhase":"BasePhase"}],Placeholder:[function(t,e,o){"use strict";cc._RF.push(e,"a67986PGWBPPJtQPEA7+G0g","Placeholder");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./DraggableItem"),a=cc._decorator,c=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.holderLabel=null,e.shadow=null,e.placeholderData=null,e}return n(e,t),Object.defineProperty(e.prototype,"isOccupied",{get:function(){return this.placeholderData.isOccupied},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCorrect",{get:function(){return this.placeholderData.isCorrect},enumerable:!0,configurable:!0}),e.prototype.setData=function(t){null!=t&&(this.placeholderData=t,this.holderLabel.string=t.placeHolderName)},e.prototype.snapItem=function(t,e){return this.placeholderData.draggableNode=e,this.placeholderData.isOccupied=!0,this.placeholderData.isCorrect=t==this.placeholderData.optionId,this.shadow.active=!0,this.placeholderData.isOccupied},e.prototype.showFeedback=function(t){null!=this.placeholderData.draggableNode&&this.placeholderData.draggableNode.getComponent(r.default).setEyeSpriteFrame(t)},e.prototype.reset=function(){this.shadow.active=!1,this.placeholderData.isOccupied=!1,this.placeholderData.isCorrect=!1,this.placeholderData.draggableNode=null},i([s(cc.Label)],e.prototype,"holderLabel",void 0),i([s(cc.Node)],e.prototype,"shadow",void 0),e=i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./DraggableItem":"DraggableItem"}],QuestionData:[function(t,e,o){"use strict";cc._RF.push(e,"0ece6BYJ0hCxIkEEKhOaNM7","QuestionData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(){function t(){this.optionId=0,this.optionName="",this.optionPrefab=null}return i([c()],t.prototype,"optionId",void 0),i([c()],t.prototype,"optionName",void 0),i([c(cc.Prefab)],t.prototype,"optionPrefab",void 0),t=i([a("OptionData")],t)}();o.OptionData=s;var p=function(){function t(){this.placeHolderName="",this.optionId=0}return i([c()],t.prototype,"placeHolderName",void 0),i([c()],t.prototype,"optionId",void 0),t=i([a("PlaceHolderData")],t)}();o.PlaceHolderData=p;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.questionText="",e.options=[],e.placeholders=[],e.positiveFeedback=[],e.negativeFeedback=[],e}return n(e,t),i([c({multiline:!0})],e.prototype,"questionText",void 0),i([c([s])],e.prototype,"options",void 0),i([c([p])],e.prototype,"placeholders",void 0),i([c({type:[cc.String],multiline:!0})],e.prototype,"positiveFeedback",void 0),i([c({type:[cc.String],multiline:!0})],e.prototype,"negativeFeedback",void 0),e=i([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],QuestionPhase:[function(t,e,o){"use strict";cc._RF.push(e,"eb6c4nD0lNNio6FCQG7FIEg","QuestionPhase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Audio/AudioManager"),a=t("./BasePhase"),c=t("./DragAndDrop/DragDropManager"),s=t("./Farmer"),p=t("./Notifications/NotificationManager"),u=t("./QuestionData"),l=cc._decorator,h=l.ccclass,d=l.property,f=function(){function t(){this.idleEyes=null,this.happyEyes=null,this.sadEyes=null}return i([d(cc.SpriteFrame)],t.prototype,"idleEyes",void 0),i([d(cc.SpriteFrame)],t.prototype,"happyEyes",void 0),i([d(cc.SpriteFrame)],t.prototype,"sadEyes",void 0),t=i([h("Eye")],t)}();o.Eye=f;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.questions=[],e.bottomBar=null,e.nextButton=null,e.tryAgainButton=null,e.farmer=null,e.eye=null,e.dragMgr=null,e.currentQuestionIndex=-1,e.currentShownMessages=[],e.currentMessageIndex=-1,e.topTextPanel=null,e}return n(e,t),e.prototype.onLoad=function(){this.dragMgr=this.getComponent(c.default),this.bottomBarInitialPos=this.bottomBar.getPosition()},e.prototype.onPhaseActivated=function(e){t.prototype.onPhaseActivated.call(this,e),this.currentQuestionIndex=-1,this.startNextQuestionPhase()},e.prototype.startNextQuestionPhase=function(){this.currentQuestionIndex+=1,this.currentQuestionIndex>=this.questions.length?this.phaseManager.startNextPhase():this.startQuestionPhase()},e.prototype.startQuestionPhase=function(){var t=this,e=this.questions[this.currentQuestionIndex];this.dragMgr.SetData(e.options,e.placeholders),this.topTextPanel=p.default.Instance.showTopNotification(e.questionText,function(){cc.tween(t.bottomBar).to(1,{position:cc.Vec2.ZERO}).call(function(){r.default.Instance.playBottomBarAppearAudio()}).start()})},e.prototype.positiveFeedback=function(){var t=this;r.default.Instance.playPosFeedback(),this.farmer.playHappyAnim(),this.dragMgr.showEyeAnim(this.eye.happyEyes),cc.tween(this.bottomBar).to(1,{position:this.bottomBarInitialPos}).call(function(){var e=t.questions[t.currentQuestionIndex];t.currentShownMessages=e.positiveFeedback,t.showMessages(t.nextButton)}).start()},e.prototype.showMessages=function(t){var e=this;this.currentMessageIndex+=1,this.currentMessageIndex<this.currentShownMessages.length?this.showFeedbackMessage(this.currentShownMessages[this.currentMessageIndex],function(){return e.showMessages(t)}):(this.currentMessageIndex=-1,cc.tween(t.node).to(.5,{position:new cc.Vec2(0,-323)}).start())},e.prototype.showFeedbackMessage=function(t,e){var o=this,n=p.default.Instance.showBottomNotification(t,function(){o.scheduleOnce(function(){p.default.Instance.hideBottomNotification(n,e)},3)})},e.prototype.negativeFeedback=function(){var t=this;r.default.Instance.playNegFeedback(),this.farmer.playAngryAnim(),this.dragMgr.showEyeAnim(this.eye.sadEyes),cc.tween(this.bottomBar).to(1,{position:this.bottomBarInitialPos}).call(function(){var e=t.questions[t.currentQuestionIndex];t.currentShownMessages=e.negativeFeedback,t.showMessages(t.tryAgainButton)}).start()},e.prototype.tryAgainClicked=function(){var t=this;this.resetGameElements(this.tryAgainButton,function(){return t.startQuestionPhase()})},e.prototype.nextClicked=function(){var t=this;this.resetGameElements(this.nextButton,function(){return t.startNextQuestionPhase()})},e.prototype.resetGameElements=function(t,e){var o=this;p.default.Instance.hideTopNotification(this.topTextPanel),cc.tween(t.node).to(.5,{position:new cc.Vec2(0,-540)}).call(function(){o.farmer.reset(),o.dragMgr.reset(),e()}).start()},e.prototype.onPhaseDeactivated=function(){t.prototype.onPhaseDeactivated.call(this)},i([d([u.default])],e.prototype,"questions",void 0),i([d(cc.Node)],e.prototype,"bottomBar",void 0),i([d(cc.Button)],e.prototype,"nextButton",void 0),i([d(cc.Button)],e.prototype,"tryAgainButton",void 0),i([d(s.default)],e.prototype,"farmer",void 0),i([d(f)],e.prototype,"eye",void 0),e=i([h],e)}(a.default);o.default=y,cc._RF.pop()},{"./Audio/AudioManager":"AudioManager","./BasePhase":"BasePhase","./DragAndDrop/DragDropManager":"DragDropManager","./Farmer":"Farmer","./Notifications/NotificationManager":"NotificationManager","./QuestionData":"QuestionData"}],StartPhase:[function(t,e,o){"use strict";cc._RF.push(e,"d4e557Zdf1AEb/SYGVhjWao","StartPhase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Audio/AudioManager"),a=t("./BasePhase"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onPhaseActivated=function(e){t.prototype.onPhaseActivated.call(this,e),cc.log("Phase: ",this.name),r.default.Instance.playBGMusic()},e.prototype.onPhaseDeactivated=function(){t.prototype.onPhaseDeactivated.call(this)},e.prototype.play=function(){this.phaseManager.startNextPhase()},e=i([s],e)}(a.default));o.default=p,cc._RF.pop()},{"./Audio/AudioManager":"AudioManager","./BasePhase":"BasePhase"}]},{},["AudioManager","BasePhase","CompletionPhase","DragDropManager","DraggableItem","Option","Placeholder","Farmer","IntroPhase","NotificationManager","PhaseManager","QuestionData","QuestionPhase","StartPhase"]);