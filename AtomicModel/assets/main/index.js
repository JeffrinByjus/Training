System.register("chunks:///_virtual/ObjectRotator.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,r,i,a,c,l,u,s,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.defineProperty},function(t){a=t.cclegacy,c=t._decorator,l=t.CCFloat,u=t.Vec3,s=t.v3,p=t.tween,d=t.Component}],execute:function(){var f,v,b,h,y,g,w;a._RF.push({},"03396O2DvtMAJl6gM7L49QE","ObjectRotator",void 0);var R=c.ccclass,j=c.property;t("ObjectRotator",(f=R("ObjectRotator"),v=j(l),b=j(u),f((g=e((y=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"duration",g,r(e)),n(r(e),"rotation",w,r(e)),i(r(e),"nodeTween",void 0),e}o(e,t);var a=e.prototype;return a.onLoad=function(){var t=p(this.node).by(this.duration,{eulerAngles:this.rotation});this.nodeTween=p(this.node).repeatForever(t)},a.onEnable=function(){var t;null===(t=this.nodeTween)||void 0===t||t.start()},a.onDisable=function(){var t;null===(t=this.nodeTween)||void 0===t||t.stop()},e}(d)).prototype,"duration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),w=e(y.prototype,"rotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s(0,-360,0)}}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/AnalyticsManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BridgeCommunication.ts"],(function(n){"use strict";var e,i,o,t,c,r,l,u,a;return{setters:[function(n){e=n.defineProperty,i=n.inheritsLoose,o=n.assertThisInitialized,t=n.createClass},function(n){c=n.cclegacy,r=n._decorator,l=n.Enum,u=n.Component},function(n){a=n.BridgeCommunication}],execute:function(){var s,d,y;c._RF.push({},"04e7cfZT65MwI+flELMmdRE","AnalyticsManager",void 0);var v,m=r.ccclass;r.property;!function(n){n.CLICK="click",n.VIEW="view",n.AUTO="auto"}(v||(v={}));n("AnalyticsManager",m((y=d=function(n){function c(){for(var i,t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return i=n.call.apply(n,[this].concat(c))||this,e(o(i),"Phylum",l({Click:"click",View:"view",Auto:"auto"})),e(o(i),"bridgeCommunication",null),i}i(c,n);var r=c.prototype;return r.onLoad=function(){c.instance=this,this.bridgeCommunication=this.getComponent(a)},r.SendInteractionStart=function(){console.log("%cSendInteractionStart","color: cyan");this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",{m_priority:"high",u_event_id:"5000002",kingdom:"explore",phylum:"view",counter:"",value1:"",value2:""})},r.SendInteractionEnd=function(){console.log("%cSendInteractionEnd","color: cyan");this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",{m_priority:"high",u_event_id:"5000003",kingdom:"explore",phylum:"view",counter:"",value1:"",value2:""})},r.SendNextButtonClick=function(n,e,i){void 0===i&&(i=v.CLICK),console.log("%cSendNextButtonClick\nAnalytics: 5000007\nQuestion: "+n+"\nisEndScreen: "+e+"\nPhylum: "+i,"color: cyan");var o={m_priority:"high",u_event_id:"5000007",kingdom:"explore",phylum:i,counter:"",value1:n,value2:e?2:1};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",o)},r.SendAnswerTap=function(n,e,i){console.log("%cSendAnswerTap\nAnalytics: 5000006\nQuestion: "+n+"\nAnswer: "+e+"\nisAnswerCorrect: "+i,"color: cyan");var o={m_priority:"high",u_event_id:"5000006",kingdom:"explore",phylum:"click",counter:"boolean"==typeof i?i?"correct":"incorrect":i,value1:n,value2:e};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",o)},r.SendOnOptionDrop=function(n,e,i){console.log("%cSendOnOptionDrop\nAnalytics: 5000005\nQuestion: "+n+"\nAnswer: "+e+"\nisAnswerCorrect: "+i,"color: cyan");var o={m_priority:"high",u_event_id:"5000005",kingdom:"explore",phylum:"drop",counter:"boolean"==typeof i?i?"correct":"incorrect":i,value1:n,value2:e};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",o)},r.SendOnOptionDrag=function(n,e,i){console.log("%cSendOnOptionDrag\nAnalytics: 5000004\nQuestion: "+n+"\nAnswer: "+e+"\nisAnswerCorrect: "+i,"color: cyan");var o={m_priority:"high",u_event_id:"5000004",kingdom:"explore",phylum:"drag",counter:"boolean"==typeof i?i?"correct":"incorrect":i,value1:n,value2:e};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",o)},r.SendOnTryAgain=function(n,e){void 0===e&&(e=""),console.log("%cSendOnTryAgain\nAnalytics: 5000008\nQuestion: "+n+"\nAnswer: "+e,"color: cyan");var i={m_priority:"high",u_event_id:"5000008",kingdom:"explore",phylum:"click",counter:"",value1:n,value2:e};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",i)},r.SendSubmitAnswer=function(n,e,i){void 0===i&&(i=v.CLICK),console.log("%cSendSubmitAnswer\nAnalytics: 5000013\nQuestion: "+n+"\nisAnswerCorrect: "+e+"\nPhylum: "+i,"color: cyan");var o={m_priority:"high",u_event_id:"5000013",kingdom:"explore",phylum:i,counter:e?"correct":"incorrect",value1:n};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",o)},r.SendCloseButtonClick=function(n){console.log("%cSendCloseButtonClick\nAnalytics: 500009\nQuestion: "+n,"color: cyan");var e={m_priority:"low",u_event_id:"5000009",kingdom:"explore",phylum:"click",counter:"",value1:n,value2:""};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",e)},r.SendOnPlayAgainButtonClick=function(n){console.log("%cSendOnPlayAgainButtonClick\nAnalytics: 500010\nQuestion: "+n,"color: cyan");var e={m_priority:"low",u_event_id:"5000010",kingdom:"explore",phylum:"click",counter:"",value1:n,value2:""};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",e)},r.SendOnScrollWheelChange=function(n,e,i){console.log("%cSendOnScrollWheelChange\nAnalytics: 5000014\nQuestion: "+n+"\nCounter: "+e+"\nAnswer: "+i,"color: cyan");var o={m_priority:"high",u_event_id:"5000014",kingdom:"explore",phylum:"click",counter:e,value1:n,value2:i};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",o)},r.SendOnHintButtonClick=function(n){console.log("%cSendOnHintButtonClick\nAnalytics: 500017\nQuestion: "+n,"color: cyan");var e={m_priority:"high",u_event_id:"5000017",kingdom:"explore",phylum:"click",counter:"click_hint",value1:n};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",e)},r.SendOnHintView=function(n){console.log("%cSendOnHintView\nAnalytics: 500019\nQuestion: "+n,"color: cyan");var e={m_priority:"high",u_event_id:"5000019",kingdom:"explore",phylum:"view",counter:"hint_viewed",value1:n};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",e)},r.SendOnOptionsSelect=function(n,e,i){console.log("%cSendOnOptionsSelect\nAnalytics: 5000012\nQuestion: "+n+"\nCounter: "+e+"\nAnswer: "+i,"color: cyan");var o={m_priority:"high",u_event_id:"5000012",kingdom:"explore",phylum:"click",counter:e,value1:n,value2:i};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",o)},r.SendOnLevelStart=function(n){console.log("%cSendOnLevelStart\nAnalytics: 5000020\nQuestion: "+n,"color: cyan");var e={m_priority:"high",u_event_id:"5000020",kingdom:"explore",phylum:"trigger",value1:n};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",e)},r.SendOnLevelEnd=function(n){console.log("%cSendOnLevelEnd\nAnalytics: 5000021\nQuestion: "+n,"color: cyan");var e={m_priority:"high",u_event_id:"5000021",kingdom:"explore",phylum:"trigger",value1:n};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",e)},r.SendOnGenericButtonClick=function(n,e){console.log("%cSendOnGenericButtonClick\nAnalytics: 5000022\nQuestion: "+n+"\nButton name: "+e,"color: cyan");var i={m_priority:"high",u_event_id:"5000022",kingdom:"explore",phylum:"trigger",counter:e,value1:n};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",i)},r.SendOnViewTutorial=function(n){console.log("%cSendOnViewTutorial\nAnalytics: 5000018\nQuestion: "+n,"color: cyan");var e={m_priority:"high",u_event_id:"5000018",kingdom:"explore",phylum:"view",counter:"view_tutorial",value1:n};this.bridgeCommunication.SendEvent("byjus.sendExploreAnalyticsEvent",e)},t(c,null,[{key:"Instance",get:function(){return c.instance}}]),c}(u),e(d,"instance",null),s=y))||s);c._RF.pop()}}}));

System.register("chunks:///_virtual/ToolState.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,s,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,i=e.defineProperty},function(e){s=e.cclegacy,n=e._decorator}],execute:function(){var r;e("InteractionMode",void 0),s._RF.push({},"088e7zBYANAYbHlcgPtUJQY","ToolState",void 0);var a,o=n.ccclass;n.property;!function(e){e[e.HIGHLIGHT=0]="HIGHLIGHT",e[e.LABEL=1]="LABEL",e[e.FADE=2]="FADE",e[e.HIDE=3]="HIDE",e[e.ISOLATE=4]="ISOLATE",e[e.VIEW=5]="VIEW",e[e.ANIMATION=6]="ANIMATION",e[e.INTERIOR_EXTERIOR=7]="INTERIOR_EXTERIOR"}(a||(a=e("InteractionMode",{})));e("ToolState",o("ToolState")(r=function(){function e(e){i(this,"numberOfParts",0),i(this,"highlight",new Map),i(this,"label",new Map),i(this,"fade",new Map),i(this,"hide",new Map),i(this,"isolate",new Map),i(this,"viewIndex",0),i(this,"animationIndex",0),i(this,"isAnimationPaused",!1),i(this,"isInterior",!1),i(this,"interaction",a.HIGHLIGHT),this.numberOfParts=e;for(var t=0;t<e;t++)this.highlight.set(t,!1),this.label.set(t,!1),this.fade.set(t,!1),this.hide.set(t,!1),this.isolate.set(t,!0)}return e.prototype.Clone=function(){var i=new e(this.numberOfParts);i.numberOfParts=this.numberOfParts;for(var s,n=t(this.highlight.entries());!(s=n()).done;){var r=s.value;i.highlight.set(r[0],r[1])}for(var a,o=t(this.label.entries());!(a=o()).done;){var h=a.value;i.label.set(h[0],h[1])}for(var l,I=t(this.fade.entries());!(l=I()).done;){var u=l.value;i.fade.set(u[0],u[1])}for(var d,c=t(this.hide.entries());!(d=c()).done;){var v=d.value;i.hide.set(v[0],v[1])}for(var f,p=t(this.isolate.entries());!(f=p()).done;){var E=f.value;i.isolate.set(E[0],E[1])}return i.viewIndex=this.viewIndex,i.animationIndex=this.animationIndex,i.isAnimationPaused=this.isAnimationPaused,i.isInterior=this.isInterior,i.interaction=this.interaction,i},e}())||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(o){"use strict";var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){var n,t,u;o({AtomModel:void 0,Element:void 0,InteractionMode:void 0}),e._RF.push({},"0c7a9dV0zBPK44pIsMVT9zq","Enums",void 0),function(o){o[o.Default=0]="Default",o[o.ThomsonModel=1]="ThomsonModel",o[o.RutherfordModel=2]="RutherfordModel",o[o.BohrModel=3]="BohrModel",o[o.QuantumModel=4]="QuantumModel"}(n||(n=o("AtomModel",{}))),function(o){o[o.Default=0]="Default",o[o.Hydrogen=1]="Hydrogen",o[o.Lithium=2]="Lithium",o[o.Carbon=3]="Carbon",o[o.Boron=4]="Boron",o[o.Calcium=5]="Calcium",o[o.Argon=6]="Argon"}(t||(t=o("Element",{}))),function(o){o[o.NONE=0]="NONE",o[o.SELECT=1]="SELECT",o[o.LABEL=2]="LABEL",o[o.ELEMENTS=3]="ELEMENTS",o[o.MODELS=4]="MODELS"}(u||(u=o("InteractionMode",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/StateManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.defineProperty},function(t){n=t.cclegacy,i=t._decorator}],execute:function(){var s;n._RF.push({},"13fc1f4NotKxbCygstYRCD2","StateManager",void 0);var a=i.ccclass;t("Action",(function(){e(this,"name",""),e(this,"data",null)})),t("StateManager",a("StateManager")(s=function(){function t(t,n,i){e(this,"undoButton",null),e(this,"redoButton",null),e(this,"resetButton",null),e(this,"states",[]),e(this,"currentStateIndex",-1),e(this,"isActive",!0),this.undoButton=t,this.redoButton=n,this.resetButton=n,this.states=[],this.currentStateIndex=-1,this.isActive=!0,this.undoButton.interactable=!1,this.redoButton.interactable=!1}var n=t.prototype;return n.UpdateButtonsInteraction=function(){this.undoButton.interactable=this.currentStateIndex>0&&this.isActive,this.redoButton.interactable=this.currentStateIndex<this.states.length-1&&this.isActive},n.RegisterAction=function(t){for(;this.states.length>this.currentStateIndex+1;)this.states.pop();this.states.push(t),this.currentStateIndex++,this.UpdateButtonsInteraction()},n.GetPreviousState=function(){if(!(this.currentStateIndex<1)){var t=this.currentStateIndex-1,e=this.states[t];return this.currentStateIndex--,this.UpdateButtonsInteraction(),e}},n.GetNextState=function(){if(!(this.currentStateIndex>=this.states.length-1)){var t=this.states[this.currentStateIndex+1];return this.currentStateIndex++,this.UpdateButtonsInteraction(),t}},n.Reset=function(t){this.currentStateIndex=-1,this.states=[],this.undoButton.interactable=!1,this.redoButton.interactable=!1,this.RegisterAction(t)},n.Activate=function(){this.isActive=!0,this.UpdateButtonsInteraction(),this.resetButton.interactable=!0},n.Deactivate=function(){this.undoButton.interactable=!1,this.redoButton.interactable=!1,this.resetButton.interactable=!1,this.isActive=!1},n.Show=function(){this.undoButton.node.active=!0,this.redoButton.node.active=!0,this.resetButton.node.active=!0},n.Hide=function(){this.undoButton.node.active=!1,this.redoButton.node.active=!1,this.resetButton.node.active=!1},t}())||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/CameraTarget.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,n,t,a,l,r;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.initializerDefineProperty},function(i){t=i.cclegacy,a=i._decorator,l=i.Node,r=i.CCFloat}],execute:function(){var o,m,s,u,h,b,p,c,g,f,y,x,P,A,z,X,Y,w,d,v,C,Z,_,F,T;t._RF.push({},"16b629vnUhFlJyQkSR6Ands","CameraTarget",void 0);var D=a.ccclass,R=a.property;i("CameraTarget",(o=D("CameraTarget"),m=R(l),s=R(r),u=R(r),h=R(r),b=R(r),p=R(r),c=R(r),g=R(r),f=R(r),y=R(r),x=R(r),o((z=e((A=function(){n(this,"node",z,this),n(this,"minZoom",X,this),n(this,"maxZoom",Y,this),n(this,"minPanX",w,this),n(this,"maxPanX",d,this),n(this,"minPanY",v,this),n(this,"maxPanY",C,this),n(this,"minAngleX",Z,this),n(this,"maxAngleX",_,this),n(this,"minAngleY",F,this),n(this,"maxAngleY",T,this),this.node=null,this.minZoom=0,this.maxZoom=0,this.minPanX=0,this.maxPanX=0,this.minPanY=0,this.maxPanY=0,this.minAngleX=-90,this.maxAngleX=90,this.minAngleY=-360,this.maxAngleY=360}).prototype,"node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(A.prototype,"minZoom",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(A.prototype,"maxZoom",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(A.prototype,"minPanX",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(A.prototype,"maxPanX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(A.prototype,"minPanY",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(A.prototype,"maxPanY",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(A.prototype,"minAngleX",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(A.prototype,"maxAngleX",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(A.prototype,"minAngleY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(A.prototype,"maxAngleY",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A))||P));t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseInteractableModel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseModel.ts"],(function(n){"use strict";var t,e,o,s,i,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,s=n.input,i=n.Input},function(n){c=n.BaseModel}],execute:function(){var h;e._RF.push({},"18e85oJB/lOwJ/+3akHaP2w","BaseInteractableModel",void 0);var u=o.ccclass;n("BaseInteractableModel",u("BaseInteractableModel")(h=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.AddListeners=function(){s.on(i.EventType.TOUCH_START,this.OnTouchStart,this),s.on(i.EventType.TOUCH_MOVE,this.OnTouchMove,this),s.on(i.EventType.TOUCH_END,this.OnTouchEnd,this),s.on(i.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),s.on(i.EventType.MOUSE_WHEEL,this.OnScroll,this),s.on(i.EventType.MOUSE_DOWN,this.OnMouseDown,this),s.on(i.EventType.MOUSE_UP,this.OnMouseUp,this),s.on(i.EventType.MOUSE_MOVE,this.OnMouseMove,this)},o.OnTouchStart=function(n){},o.OnTouchMove=function(n){},o.OnTouchEnd=function(n){},o.OnScroll=function(n){},o.OnMouseDown=function(n){},o.OnMouseUp=function(n){},o.OnMouseMove=function(n){},o.RemoveListeners=function(){s.off(i.EventType.TOUCH_START,this.OnTouchStart,this),s.off(i.EventType.TOUCH_MOVE,this.OnTouchMove,this),s.off(i.EventType.TOUCH_END,this.OnTouchEnd,this),s.off(i.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),s.off(i.EventType.MOUSE_WHEEL,this.OnScroll,this),s.off(i.EventType.MOUSE_DOWN,this.OnMouseDown,this),s.off(i.EventType.MOUSE_UP,this.OnMouseUp,this),s.off(i.EventType.MOUSE_MOVE,this.OnMouseMove,this)},o.EnableInteraction=function(){this.AddListeners()},o.DisableInteraction=function(){this.RemoveListeners()},e}(c))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,a,i,s;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,s=e.Component}],execute:function(){var c;a._RF.push({},"197a6hEpY5INqrZDyCiAPPI","BaseUI",void 0);var o=i.ccclass;e("BaseUI",o("BaseUI")(c=function(e){function a(){for(var t,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(r(t),"updateCallback",void 0),t}t(a,e);var i=a.prototype;return i.AddListener=function(e){this.updateCallback=e},i.RemoveListener=function(){this.updateCallback=null},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/ModelHighlighter.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./RaycastHandler.ts"],(function(e){"use strict";var t,i,r,o,s,a,n,l,c,h,d,u,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty,a=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,l=e._decorator,c=e.Material,h=e.input,d=e.Input,u=e.MeshRenderer,p=e.Component},function(e){g=e.RaycastHandler}],execute:function(){var f,M,v,y,H;n._RF.push({},"1cedaJhhFNCvLEIcvup9t6K","ModelHighlighter",void 0);var T=l.ccclass,R=l.property;e("ModelHighlighter",(f=T("ModelHighlighter"),M=R(c),f((H=t((y=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,r(o(t),"highlightMaterial",H,o(t)),s(o(t),"selectedMeshes",void 0),t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.selectedMeshes=new Map,h.on(d.EventType.TOUCH_START,this.onTouchStart,this)},n.onTouchStart=function(e){var t=g.Instance.raycast(e.getLocation());this.onRaycastHit(t)},n.onRaycastHit=function(e){if(console.log("GGG",e),e&&!(e.length<=0)){for(var t,i,r=a(e);!(i=r()).done;){var o=i.value;if(console.log(o.collider.node.name),0==o.collider.node.layer){t=o.collider.node;break}}if(t){var s=t.getComponent(u);if(this.selectedMeshes.has(s))s.setMaterial(this.selectedMeshes.get(s),0),this.selectedMeshes.delete(s);else{var n=s.getMaterial(0);this.selectedMeshes.set(s,n),s.setMaterial(this.highlightMaterial,0)}}}},n.reset=function(){for(var e,t=a(this.selectedMeshes);!(e=t()).done;){var i=e.value;i[0].setMaterial(i[1],0)}this.selectedMeshes.clear()},n.onDestroy=function(){h.off(d.EventType.TOUCH_START,this.onTouchStart,this)},t}(p)).prototype,"highlightMaterial",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/RaycastHandler.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventInvoker_T.ts"],(function(t){"use strict";var n,e,a,r,s,i,c,o,u,y,l,f,h,p;return{setters:[function(t){n=t.defineProperty,e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,i=t.createClass},function(t){c=t.cclegacy,o=t._decorator,u=t.Camera,y=t.input,l=t.Input,f=t.PhysicsSystem,h=t.Component},function(t){p=t.EventInvoker_T}],execute:function(){var v,R,T,d,H,_,m;c._RF.push({},"1f520VoNcBLRovstRnfxRX9","RaycastHandler",void 0);var C=o.ccclass,g=o.property;t("RaycastHandler",(v=C("RaycastHandler"),R=g(u),v((m=_=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,r(s(e),"camera",H,s(e)),n(s(e),"_OnRaycastHit",void 0),e}a(e,t);var c=e.prototype;return c.onLoad=function(){e.instance||(e.instance=this),this._OnRaycastHit=new p("OnRaycastHit",this.node)},c.start=function(){y.on(l.EventType.TOUCH_START,this.onTouchStart,this)},c.onTouchStart=function(t){this.raycastClosest(t.getLocation(),!0)},c.raycastClosest=function(t,n){void 0===n&&(n=!1);var e=this.camera.screenPointToRay(t.x,t.y);if(f.instance.raycastClosest(e)){var a=f.instance.raycastClosestResult;return n&&this._OnRaycastHit.Invoke(a),a}return null},c.raycast=function(t){var n=this.camera.screenPointToRay(t.x,t.y);return f.instance.raycast(n)?f.instance.raycastResults:null},c.onDestroy=function(){y.off(l.EventType.TOUCH_START,this.onTouchStart,this)},i(e,[{key:"OnRaycastHit",get:function(){return this._OnRaycastHit}}],[{key:"Instance",get:function(){return this.instance}}]),e}(h),n(_,"instance",void 0),H=e((d=m).prototype,"camera",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=d))||T));c._RF.pop()}}}));

System.register("chunks:///_virtual/CheckboxHandler.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventInvoker_T.ts","./TextLoader.ts"],(function(e){"use strict";var t,n,i,s,c,o,h,r,l,u;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){c=e.cclegacy,o=e._decorator,h=e.Button,r=e.Component},function(e){l=e.EventInvoker_T},function(e){u=e.TextLoader}],execute:function(){var d;c._RF.push({},"237fbgQd9NB2LNZ+HP4eIbs","CheckboxHandler",void 0);var k=o.ccclass;o.property,e("CheckboxHandler",k("CheckboxHandler")(d=function(e){function c(){for(var t,s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return t=e.call.apply(e,[this].concat(c))||this,n(i(t),"fill",null),n(i(t),"button",null),n(i(t),"index",-1),n(i(t),"_isChecked",!1),n(i(t),"isReferencesTaken",!1),n(i(t),"_OnClickCheckbox",null),t}t(c,e);var o=c.prototype;return o.Initialize=function(e,t,n,i){void 0===n&&(n=!1),this.GetReferences(),null!=i?this.node.children[1].getComponent(u).ChangeKey(e,i):this.node.children[1].getComponent(u).Set(e),this.index=t,this.isChecked=n},o.GetReferences=function(){this.button=this.getComponent(h),this.fill=this.button.target.children[0],this.isReferencesTaken=!0,this._OnClickCheckbox=new l("OnClickCheckbox",this.node)},o.onEnable=function(){this.AddListeners()},o.AddListeners=function(){this.button.node.on("click",this.OnClick,this)},o.OnClick=function(e){this.isChecked=!this.isChecked,this._OnClickCheckbox.Invoke(this.index)},o.Selected=function(){this.fill.active=!0},o.Unselected=function(){this.fill.active=!1},o.onDisable=function(){this.RemoveListeners()},o.RemoveListeners=function(){this.button.node.off("click",this.OnClick,this)},s(c,[{key:"OnClickCheckbox",get:function(){return this._OnClickCheckbox}},{key:"isChecked",get:function(){return this._isChecked},set:function(e){this.isReferencesTaken||this.GetReferences(),e?this.Selected():this.Unselected(),this._isChecked=e}}]),c}(r))||d);c._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./StepController.ts"],(function(n){"use strict";var e,t,r,o,i,s,a,c,l;return{setters:[function(n){e=n.defineProperty,t=n.inheritsLoose,r=n.assertThisInitialized,o=n.createClass},function(n){i=n.cclegacy,s=n._decorator,a=n.Label,c=n.Component},function(n){l=n.StepController}],execute:function(){var u,p,f;i._RF.push({},"24845afAUtBKIugb5UJbJGc","UIManager",void 0);var g=s.ccclass;s.property,n("UIManager",g("UIManager")((f=p=function(n){function i(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i))||this,e(r(t),"version",null),t}t(i,n);var s=i.prototype;return s.onLoad=function(){i._instance=this},s.GetReferences=function(){this.version=this.node.getChildByName("Version").getComponent(a)},s.OnJsonLoad=function(){this.version.string=l.instance.version},o(i,null,[{key:"instance",get:function(){return i._instance}}]),i}(c),e(p,"_instance",null),u=f))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseModel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,s,a,c,r,l;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Vec3,c=t.Quat,r=t.tween,l=t.Component}],execute:function(){var d;o._RF.push({},"26080yywgZJZomjKeFIeK0s","BaseModel",void 0);var h=s.ccclass;s.property,t("BaseModel",h("BaseModel")(d=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(i(e),"initScale",void 0),n(i(e),"initRotation",void 0),n(i(e),"nodeTween",void 0),e}e(o,t);var s=o.prototype;return s.onLoad=function(){this.initScale=new a,this.initRotation=new c,this.node.getScale(this.initScale),this.node.getRotation(this.initRotation)},s.onStart=function(t){var e;null===(e=this.nodeTween)||void 0===e||e.stop(),this.node.active=!0,this.node.setScale(a.ZERO),this.nodeTween=r(this.node).to(.2,{scale:this.initScale}).start()},s.onEnd=function(){var t,e=this;null===(t=this.nodeTween)||void 0===t||t.stop(),this.nodeTween=r(this.node).to(.1,{scale:a.ZERO}).call((function(){return e.node.active=!1})).start()},s.initialize=function(t){this.node.setWorldPosition(t),this.node.setRotation(this.initRotation)},s.onToggleUpdated=function(t){},o}(l))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseElement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./InteractableModel.ts"],(function(e){"use strict";var t,n,i,a,r,l,o,c,u,s,p,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Enum,c=e.Node,u=e.tween,s=e.Vec3},function(e){p=e.Element},function(e){m=e.InteractableModel}],execute:function(){var f,h,y,w,d,b,v,g,V;r._RF.push({},"2cade4hn2tA1ZOB5D+tjFQ8","BaseElement",void 0);var E=l.ccclass,B=l.property;e("BaseElement",(f=E("BaseElement"),h=B({type:o(p)}),y=B(c),w=B(c),f((v=t((b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(a(t),"elementType",v,a(t)),i(a(t),"normalView",g,a(t)),i(a(t),"quantumView",V,a(t)),t}n(t,e);var r=t.prototype;return r.onStart=function(t){e.prototype.onStart.call(this,t),this.normalView.active=!t,this.quantumView.active=t},r.onToggleUpdated=function(t){var n,i;e.prototype.onToggleUpdated.call(this,t),t?(n=this.normalView,i=this.quantumView):(n=this.quantumView,i=this.normalView),u(n).to(.1,{scale:s.ZERO}).call((function(){return n.active=!1})).start(),i.active=!0,i.setScale(s.ZERO),u(i).to(.2,{scale:s.ONE}).start()},t}(m)).prototype,"elementType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(b.prototype,"normalView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(b.prototype,"quantumView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/BaseAtomModel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./InteractableModel.ts"],(function(e){"use strict";var t,o,r,n,i,a,l,c,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Enum,c=e.MeshRenderer},function(e){s=e.AtomModel},function(e){u=e.InteractableModel}],execute:function(){var p,d,f,h,y,m,M;i._RF.push({},"2d129KkLidGD7aC6aGlnVCA","BaseAtomModel",void 0);var g=a.ccclass,b=a.property;e("BaseAtomModel",(p=g("BaseAtomModel"),d=b({type:l(s)}),f=b([c]),p((m=t((y=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(n(t),"atomModelType",m,n(t)),r(n(t),"outerSpheres",M,n(t)),t}o(t,e);var i=t.prototype;return i.onStart=function(t){e.prototype.onStart.call(this,t),this.outerSpheres.forEach((function(e){return e.node.active=t}))},i.onToggleUpdated=function(t){e.prototype.onToggleUpdated.call(this,t)},t}(u)).prototype,"atomModelType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(y.prototype,"outerSpheres",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIFollow.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./CameraController.ts"],(function(t){"use strict";var e,r,n,o,i,a,l,s,c,u,f,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,c=t.Camera,u=t.Vec2,f=t.v2,p=t.Component},function(t){g=t.CameraController}],execute:function(){var h,m,y,d,v,C,b,w,P;a._RF.push({},"3124cPwWqdLvqsnELmgLN6X","UIFollow",void 0);var I=l.ccclass,F=l.property;t("UIFollow",(h=I("UIFollow"),m=F(s),y=F(c),d=F(u),h((b=e((C=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(o(e),"target",b,o(e)),n(o(e),"targetCamera",w,o(e)),n(o(e),"offset",P,o(e)),e}r(e,t);var a=e.prototype;return a.update=function(t){var e=this.GetPosition();e.x+=this.offset.x,e.y+=this.offset.y,this.node.setPosition(e)},a.GetPosition=function(){return null==this.camera?this.node.getPosition():this.camera.convertToUINode(this.target.getWorldPosition(),this.node.getParent())},i(e,[{key:"camera",get:function(){return this.targetCamera?this.targetCamera:g.Instance?g.Instance.camera:null}}]),e}(p)).prototype,"target",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"targetCamera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(C.prototype,"offset",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f(0,0)}}),v=C))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/AtmoicModelTools.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./BaseUI.ts","./EventInvoker_T.ts","./EventInvoker.ts","./StepController.ts","./UIManager.ts","./GameState.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,l,c,u,d,h,p,f,g,v,I,O,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.createClass,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.defineProperty,s=t.createForOfIteratorHelperLoose},function(t){l=t.cclegacy,c=t._decorator,u=t.Button,d=t.Enum,h=t.ToggleComponent},function(t){p=t.InteractionMode},function(t){f=t.BaseUI},function(t){g=t.EventInvoker_T},function(t){v=t.EventInvoker},function(t){I=t.StepController},function(t){O=t.UIManager},function(t){y=t.GameState}],execute:function(){var U,m,b,k,T,_,H,L,D,M,E,w,C,B,z,A;l._RF.push({},"33132nVaV9GdrQNZxE7jVw8","AtmoicModelTools",void 0);var S=c.ccclass,G=c.property,J=(U=S("InteractionButton"),m=G(u),b=G(f),k=G({type:d(p)}),U((H=n((_=function(){function t(){o(this,"button",H,this),o(this,"handler",L,this),o(this,"mode",D,this)}return e(t,[{key:"Button",get:function(){return this.button}},{key:"Handler",get:function(){return this.handler}},{key:"Mode",get:function(){return this.mode}}]),t}()).prototype,"button",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(_.prototype,"handler",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(_.prototype,"mode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=_))||T);t("AtmoicModelTools",(M=S("AtmoicModelTools"),E=G([J]),w=G(h),M((z=n((B=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,o(a(n),"interactionData",z,a(n)),o(a(n),"toggle",A,a(n)),r(a(n),"isHidden",!1),r(a(n),"stateManager",null),r(a(n),"_OnToggleUpdate",void 0),r(a(n),"_OnUpdate",void 0),n}i(n,t);var l=n.prototype;return l.onLoad=function(){t.prototype.onLoad.call(this),this.GetReferences()},l.GetReferences=function(){t.prototype.GetReferences.call(this),this._OnUpdate=new v("OnUpdate",this.node),this._OnToggleUpdate=new g("OnToggleUpdate",this.node)},l.start=function(){I.instance.OnJsonLoad.AddListener(this.OnJsonLoad,this)},l.OnJsonLoad=function(){var n=this;t.prototype.OnJsonLoad.call(this);for(var e,i=function(){var t=e.value;t.Button.node.on("click",(function(){return n.OnButtonClick(t.Mode)}),n)},o=s(this.interactionData);!(e=o()).done;)i();this.toggle.node.on("toggle",this.OnToggleClicked,this)},l.OnToggleClicked=function(t){var n;y.Instance.toggleState=t.isChecked,null===(n=this._OnToggleUpdate)||void 0===n||n.Invoke(t.isChecked)},l.OnButtonClick=function(t){if(!(y.Instance.interaction==t)||this.isHidden){if(!this.isHidden){var n,e=null===(n=this.getInteractionData(y.Instance.interaction))||void 0===n?void 0:n.Handler;null==e||e.Hide()}y.Instance.interaction=t;var i=this.getInteractionData(t).Handler;i.Show(),i.AddListener(this.OnUIUpdate.bind(this)),this.isHidden=!1}},l.OnUIUpdate=function(){this.EmitUpdateEvent()},l.Hide=function(){var t=this.getInteractionData(y.Instance.interaction),n=null==t?void 0:t.Handler;n&&(n.Hide(),this.isHidden=!0)},l.getInteractionData=function(t){return this.interactionData.find((function(n){return n.Mode==t}))},l.EmitUpdateEvent=function(){var t;null===(t=this._OnUpdate)||void 0===t||t.Invoke()},l.onDestroy=function(){I.instance.OnJsonLoad.RemoveListener(this.OnJsonLoad,this)},e(n,[{key:"OnToggleUpdate",get:function(){return this._OnToggleUpdate}},{key:"OnUpdate",get:function(){return this._OnUpdate}}]),n}(O)).prototype,"interactionData",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(B.prototype,"toggle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=B))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/EventInvoker_T.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy,o=e._decorator}],execute:function(){n._RF.push({},"37ce79qZMZPJogoHL5l+no4","EventInvoker_T",void 0);o.ccclass,o.property,e("EventInvoker_T",function(){function e(e,n){t(this,"eventName",""),t(this,"node",void 0),this.eventName=e,this.node=n}var n=e.prototype;return n.AddListener=function(e,t){this.node.on(this.eventName,e,t)},n.RemoveListener=function(e,t){this.node.off(this.eventName,e,t)},n.Invoke=function(e){this.node.emit(this.eventName,e)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BridgeCommunication.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,e,n,r,a,o,c,s;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,c=i.CCString,s=i.Component}],execute:function(){var l,u,d,g,p;a._RF.push({},"406b8af3SpMM6W8jI6I5lXs","BridgeCommunication",void 0);var m=o.ccclass,f=o.property;i("BridgeCommunication",(l=m("BridgeCommunication"),u=f(c),l((p=t((g=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=i.call.apply(i,[this].concat(a))||this,n(r(t),"mid",p,r(t)),t}e(t,i);var a=t.prototype;return a.start=function(){var i={};i.gameid=this.mid,i.gamestatus="in game",i.totalgametime_secs=0,i.interactions={},i.currentInteractionTime=0,console.log("----------- payload data ",JSON.stringify(i)),bridge.call("byjus.sendExploreUIEvent",{tag:"init",data:""}),bridge.register("init",function(t){return console.log("init received"),this.bridge.call("byjus.sendExploreUIEvent",{tag:"ready",data:JSON.stringify(i)}),1}.bind(this))},a.SendEvent=function(i,t){bridge.call(i,t)},t}(s)).prototype,"mid",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ModelSelect.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventInvoker_T.ts","./CameraController.ts"],(function(t){"use strict";var e,n,i,o,r,l,s,c,a,h,u,d,C;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,s=t.input,c=t.Input,a=t.v2,h=t.PhysicsSystem,u=t.Component},function(t){d=t.EventInvoker_T},function(t){C=t.CameraController}],execute:function(){var T;r._RF.push({},"43f3bbR3hNB9Yc/hu24Og2h","ModelSelect",void 0);var f=l.ccclass;l.property,t("ModelSelect",f("ModelSelect")(T=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(i(e),"_OnClickCollider",null),n(i(e),"_OnClickPart",null),n(i(e),"dragThreshold",5),n(i(e),"selectableParts",[]),n(i(e),"isDragStarted",!1),e}e(r,t);var l=r.prototype;return l.onLoad=function(){this._OnClickCollider=new d("OnClickCollider",this.node),this._OnClickPart=new d("OnClickPart",this.node)},l.Initialize=function(t){this.selectableParts=t},l.onEnable=function(){s.on(c.EventType.TOUCH_START,this.OnTouchStart,this),s.on(c.EventType.TOUCH_MOVE,this.OnTouchMove,this),s.on(c.EventType.TOUCH_END,this.OnTouchEnd,this),s.on(c.EventType.TOUCH_CANCEL,this.OnTouchEnd,this)},l.OnTouchStart=function(t){this.isDragStarted=!1,null!=this.IsTouchingCollider(a(t.getLocationX(),t.getLocationY()))&&(this.isDragStarted=!0)},l.OnTouchMove=function(t){this.isDragStarted&&(t.getDelta().lengthSqr()<this.dragThreshold||(this.isDragStarted=!1))},l.OnTouchEnd=function(t){if(this.isDragStarted){this.isDragStarted=!1;var e=this.IsTouchingCollider(a(t.getLocationX(),t.getLocationY()));null!=e.collider&&this._OnClickCollider.Invoke(e.collider),-1!=e.index&&this._OnClickPart.Invoke(e.index)}},l.IsTouchingCollider=function(t){var e=null,n=C.Instance.camera.screenPointToRay(t.x,t.y);if(h.instance.raycastClosest(n)){var i=h.instance.raycastClosestResult;e=i.collider;for(var o=0;o<this.selectableParts.length;o++)if(this.selectableParts[o].CheckIfHit(i.collider))return{collider:e,index:o}}return{collider:e,index:-1}},l.onDisable=function(){s.off(c.EventType.TOUCH_START,this.OnTouchStart,this),s.off(c.EventType.TOUCH_MOVE,this.OnTouchMove,this),s.off(c.EventType.TOUCH_END,this.OnTouchEnd,this),s.off(c.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.isDragStarted=!1},o(r,[{key:"OnClickCollider",get:function(){return this._OnClickCollider}},{key:"OnClickPart",get:function(){return this._OnClickPart}}]),r}(u))||T);r._RF.pop()}}}));

System.register("chunks:///_virtual/IStep.ts",["cc"],(function(t){"use strict";var e,c;return{setters:[function(t){e=t.cclegacy,c=t._decorator}],execute:function(){var r;e._RF.push({},"50f8aimFjhHNIr2AtOyxwiQ","IStep",void 0);var s=c.ccclass;c.property,t("IStep",s("IStep")(r=function(){})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonHandler.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventInvoker_T.ts"],(function(i){"use strict";var t,e,n,o,s,r,l,u,c,a,h,f,p,d,v,b,S;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.defineProperty,r=i.createClass},function(i){l=i.cclegacy,u=i._decorator,c=i.SpriteFrame,a=i.AudioClip,h=i.CCBoolean,f=i.Button,p=i.Sprite,d=i.AudioSource,v=i.Node,b=i.Component},function(i){S=i.EventInvoker_T}],execute:function(){var E,I,y,O,_,k,z,M,m,C,g,L,w;l._RF.push({},"63ed4AKlnRPeJJinpcELlZj","ButtonHandler",void 0);var T=u.ccclass,A=u.property;i("ButtonHandler",(E=T("ButtonHandler"),I=A(c),y=A(c),O=A(c),_=A(a),k=A(h),E((m=t((M=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=i.call.apply(i,[this].concat(r))||this,n(o(t),"normalSprite",m,o(t)),n(o(t),"selectedSprite",C,o(t)),n(o(t),"inactiveSprite",g,o(t)),n(o(t),"clickSfx",L,o(t)),n(o(t),"showInfo",w,o(t)),s(o(t),"_OnClick",null),s(o(t),"sprite",null),s(o(t),"_button",null),s(o(t),"audioSource",null),s(o(t),"info",null),s(o(t),"isInitialized",!1),t}e(t,i);var l=t.prototype;return l.onLoad=function(){this.Initialize(),this.info&&(this.info.active=!1)},l.Initialize=function(){this._button=this.getComponent(f),this.sprite=this._button.target.getComponent(p),this.audioSource=this.getComponent(d),this.info=this.node.getChildByName("Info"),this._OnClick=new S("OnClick",this.node),this.isInitialized=!0},l.onEnable=function(){this.AddListeners()},l.AddListeners=function(){this.showInfo&&(this.node.on(v.EventType.MOUSE_ENTER,this.OnMouseEnter,this),this.node.on(v.EventType.MOUSE_MOVE,this.OnMouseMove,this),this.node.on(v.EventType.MOUSE_LEAVE,this.OnMouseLeave,this)),this._button.node.on("click",this.Clicked,this)},l.OnMouseEnter=function(i){},l.OnMouseMove=function(i){var t=this;this.unscheduleAllCallbacks(),this.scheduleOnce((function(){t.info&&(t.info.active=t.showInfo)}),.5)},l.OnMouseLeave=function(i){this.unscheduleAllCallbacks(),this.info&&(this.info.active=!1)},l.Clicked=function(i){var t;this.Selected(),null===(t=this.audioSource)||void 0===t||t.stop(),this.clickSfx&&this.audioSource.playOneShot(this.clickSfx),this._OnClick.Invoke(i)},l.Selected=function(){this.isInitialized||this.Initialize(),this.selectedSprite&&(this.sprite.spriteFrame=this.selectedSprite)},l.Unselected=function(){this.isInitialized||this.Initialize(),this.normalSprite&&(this.sprite.spriteFrame=this.normalSprite)},l.onDisable=function(){this.RemoveListeners()},l.RemoveListeners=function(){this.showInfo&&(this.node.off(v.EventType.MOUSE_ENTER,this.OnMouseEnter,this),this.node.off(v.EventType.MOUSE_MOVE,this.OnMouseMove,this),this.node.off(v.EventType.MOUSE_LEAVE,this.OnMouseLeave,this)),this._button.node.off("click",this.Clicked,this)},r(t,[{key:"OnClick",get:function(){return this.isInitialized||this.Initialize(),this._OnClick}},{key:"button",get:function(){return this.isInitialized||this.Initialize(),this._button}},{key:"interactable",get:function(){return this.isInitialized||this.Initialize(),this._button.interactable},set:function(i){this.isInitialized||this.Initialize(),this._button.interactable=i}}]),t}(b)).prototype,"normalSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(M.prototype,"selectedSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(M.prototype,"inactiveSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(M.prototype,"clickSfx",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"showInfo",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=M))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameState.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./Utils.ts"],(function(t){"use strict";var e,n,i,c,s;return{setters:[function(t){e=t.createClass,n=t.defineProperty},function(t){i=t.cclegacy},function(t){c=t.InteractionMode},function(t){s=t.Utils}],execute:function(){i._RF.push({},"70323Q1xbpF6JPlLCEtiC6y","GameState",void 0);var a=t("GameState",function(){function t(){n(this,"highlight",new Map),n(this,"label",new Map),n(this,"checkboxSelected",new Array),n(this,"toggleState",!1),n(this,"interaction",c.NONE)}return t.prototype.Clone=function(){var e=new t;return e.highlight=s.CloneMap(this.highlight),e.label=s.CloneMap(this.label),e.checkboxSelected=s.CloneArray(this.checkboxSelected),e.toggleState=this.toggleState,e.interaction=this.interaction,e},e(t,null,[{key:"Instance",get:function(){return this.instance||(this.instance=new t),this.instance},set:function(t){this.instance=t}}]),t}());n(a,"instance",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/Vector.ts",["cc"],(function(r){"use strict";var t,n,c,e;return{setters:[function(r){t=r.cclegacy,n=r._decorator,c=r.v3,e=r.Vec3}],execute:function(){var o;t._RF.push({},"72d0bHs/+BAa4+QmaSmmdop","Vector",void 0);var u=n.ccclass;n.property,r("Vector",u("Vector")(o=function(){function r(){}return r.GetDirection=function(r,t,n){void 0===n&&(n=!0);var e=c(0,0,0);return e.x=t.x-r.x,e.y=t.y-r.y,e.z=t.z-r.z,n?e.normalize():e},r.Multiply=function(r,t){var n=c(0,0,0);return n.x=r.x*t,n.y=r.y*t,n.z=r.z*t,n},r.Add=function(r,t){var n=c(0,0,0);return n.x=r.x+t.x,n.y=r.y+t.y,n.z=r.z+t.z,n},r.Subtract=function(r,t){var n=c(0,0,0);return n.x=r.x-t.x,n.y=r.y-t.y,n.z=r.z-t.z,n},r.Normalize=function(r){var t=c(0,0,0);return e.copy(t,r),t.normalize()},r.Cross=function(r,t){return c(r.y*t.z-r.z*t.y,r.z*t.x-r.x*t.z,r.x*t.y-r.y*t.x)},r}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPulsator.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Vector.ts"],(function(e){"use strict";var t,r,n,i,o,s,a,l,c,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,l=e.CCFloat,c=e.v3,u=e.tween,p=e.Component},function(e){f=e.Vector}],execute:function(){var h,d,b,v,y,w,O;s._RF.push({},"78774HwDL1B5pU/P6AXRZMk","ObjectPulsator",void 0);var P=a.ccclass,g=a.property;e("ObjectPulsator",(h=P("ObjectPulsator"),d=g(l),b=g(l),h((w=t((y=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(i(t),"duration",w,i(t)),n(i(t),"scaleOffset",O,i(t)),o(i(t),"pulseTween",void 0),t}r(t,e);var s=t.prototype;return s.onLoad=function(){var e=c(this.scaleOffset,this.scaleOffset,this.scaleOffset),t=f.Multiply(e,-1),r=u(this.node).by(this.duration/2,{scale:e}),n=u(this.node).by(this.duration/2,{scale:t});this.pulseTween=u(this.node).sequence(r,n).repeatForever()},s.onEnable=function(){var e;null===(e=this.pulseTween)||void 0===e||e.start()},s.onDisable=function(){var e;null===(e=this.pulseTween)||void 0===e||e.stop()},t}(p)).prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=t(y.prototype,"scaleOffset",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),v=y))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/NerveImpulseEffect.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,s,r,l,a,n,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,r=t.assertThisInitialized,l=t.defineProperty},function(t){a=t.cclegacy,n=t._decorator,u=t.MeshRenderer,p=t.Component}],execute:function(){var o,m,f,h,c,y,O,P;a._RF.push({},"7dc34AcJUFLfraFmpnTKdBK","NerveImpulseEffect",void 0);var d=n.ccclass,g=n.property;t("NerveImpulseEffect",d("NerveImpulseEffect")((f=i((m=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return i=t.call.apply(t,[this].concat(a))||this,s(r(i),"impulseWidth",f,r(i)),s(r(i),"impulseStartOffset",h,r(i)),s(r(i),"impulseEndOffset",c,r(i)),s(r(i),"impulseDuration",y,r(i)),s(r(i),"impulsePause",O,r(i)),s(r(i),"isAutoplayOn",P,r(i)),l(r(i),"material",null),l(r(i),"isPlaying",!1),l(r(i),"playTime",0),i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.material=this.node.getComponent(u).material,this.material.setProperty("impulseWidth",this.impulseWidth),this.material.setProperty("tilingOffsetWForImpulse",this.impulseStartOffset)},a.start=function(){this.startImpulsesAutoPlay()},a.startImpulsesAutoPlay=function(){this.isAutoplayOn=!0,this.isPlaying=!0,this.playTime=0},a.startImpulsesAutoPlayFromTime=function(t){this.isAutoplayOn=!0,this.isPlaying=!0,this.playTime=t},a.setPlayTime=function(t){this.isAutoplayOn=!1,this.playTime=t;var i=this.impulseStartOffset+(this.impulseEndOffset-this.impulseStartOffset)*(this.playTime/this.impulseDuration);this.material.setProperty("tilingOffsetWForImpulse",i)},a.stopImpulses=function(){this.isPlaying=!1,this.playTime=0,this.material.setProperty("tilingOffsetWForImpulse",this.impulseStartOffset)},a.setImpulseDuration=function(t){this.impulseDuration=t},a.setImpulsePause=function(t){this.impulsePause=t},a.update=function(t){if(this.isPlaying&&this.isAutoplayOn)if(this.playTime<=this.impulseDuration){var i=this.impulseStartOffset+(this.impulseEndOffset-this.impulseStartOffset)*(this.playTime/this.impulseDuration);this.material.setProperty("tilingOffsetWForImpulse",i),this.playTime+=t}else this.playTime<=this.impulseDuration+this.impulsePause?this.playTime+=t:this.playTime=0},i}(p)).prototype,"impulseWidth",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),h=i(m.prototype,"impulseStartOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-.7}}),c=i(m.prototype,"impulseEndOffset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=i(m.prototype,"impulseDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=i(m.prototype,"impulsePause",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=i(m.prototype,"isAutoplayOn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),o=m))||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/CatmullRom.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o,n,s,l;return{setters:[function(t){i=t.defineProperty},function(t){o=t.cclegacy,n=t._decorator,s=t.v3,l=t.Vec3}],execute:function(){var r;o._RF.push({},"8017bV66J1CurekvqIEQS6X","CatmullRom",void 0);var e=n.ccclass,h=(n.property,t("CatmullRomPoint",(function(t,o,n){i(this,"position",s(0,0,0)),i(this,"tangent",s(0,0,0)),i(this,"normal",s(0,0,0)),this.position=t,this.tangent=o,this.normal=n})));t("CatmullRom",e("CatmullRom")(r=function(){function t(t,o,n){if(i(this,"resolution",0),i(this,"closedLoop",void 0),i(this,"splinePoints",[]),i(this,"controlPoints",[]),!(null==t||t.length<=2||o<2)){this.controlPoints=[];for(var s=0;s<t.length;s++)this.controlPoints.push(t[s]);this.resolution=o,this.closedLoop=n,this.GenerateSplinePoints()}}var o=t.prototype;return o.GenerateSplinePoints=function(){var t,i,o,n;this.InitializeProperties();for(var s=this.closedLoop?0:1,l=0;l<this.controlPoints.length-s;l++){var r=this.closedLoop&&l==this.controlPoints.length-1;t=this.controlPoints[l],i=r?this.controlPoints[0]:this.controlPoints[l+1],o=0==l?this.closedLoop?this.Subtract(i,this.controlPoints[this.controlPoints.length-1]):this.Subtract(i,t):this.Subtract(i,this.controlPoints[l-1]),n=this.closedLoop?l==this.controlPoints.length-1?this.Subtract(this.controlPoints[(l+2)%this.controlPoints.length],t):0==l?this.Subtract(this.controlPoints[l+2],t):this.Subtract(this.controlPoints[(l+2)%this.controlPoints.length],t):l<this.controlPoints.length-2?this.Subtract(this.controlPoints[(l+2)%this.controlPoints.length],t):this.Subtract(i,t),o=this.Multiply(o,.5),n=this.Multiply(n,.5);var e=1/this.resolution;(l==this.controlPoints.length-2&&!this.closedLoop||r)&&(e=1/(this.resolution-1));for(var h=0;h<this.resolution;h++){var u=h*e,c=this.Evaluate(t,i,o,n,u);this.splinePoints[l*this.resolution+h]=c}}},o.InitializeProperties=function(){var t=0;t=this.closedLoop?this.resolution*this.controlPoints.length:this.resolution*(this.controlPoints.length-1),this.splinePoints=[];for(var i=0;i<t;i++)this.splinePoints.push(new h(s(0,0,0),s(0,0,0),s(0,0,0)))},o.Evaluate=function(t,i,o,n,s){var l=this.CalculatePosition(t,i,o,n,s),r=this.CalculateTangent(t,i,o,n,s),e=this.NormalFromTangent(r);return new h(l,r,e)},o.CalculatePosition=function(t,i,o,n,s){var l=this.Multiply(t,2*s*s*s-3*s*s+1),r=this.Multiply(o,s*s*s-2*s*s+s),e=this.Multiply(i,-2*s*s*s+3*s*s),h=this.Multiply(n,s*s*s-s*s),u=this.Add(l,r);return u=this.Add(u,e),u=this.Add(u,h)},o.CalculateTangent=function(t,i,o,n,s){var l=this.Multiply(t,6*s*s-6*s),r=this.Multiply(o,3*s*s-4*s+1),e=this.Multiply(i,-6*s*s+6*s),h=this.Multiply(n,3*s*s-2*s),u=this.Add(l,r);return u=this.Add(u,e),(u=this.Add(u,h)).normalize()},o.NormalFromTangent=function(t){return this.Multiply(this.Cross(t,l.UP).normalize(),.5)},o.UpdateControlPoints=function(t){if(!(t.length<=0||null==t)){this.controlPoints=[];for(var i=0;i<t.length;i++)this.controlPoints.push(t[i]);this.GenerateSplinePoints()}},o.UpdateResolution=function(t,i){t<2||(this.resolution=t,this.closedLoop=i,this.GenerateSplinePoints())},o.GetPoints=function(){return null==this.splinePoints?null:this.splinePoints},o.Add=function(t,i){var o=s(0,0,0);return o.x=t.x+i.x,o.y=t.y+i.y,o.z=t.z+i.z,o},o.Subtract=function(t,i){var o=s(0,0,0);return o.x=t.x-i.x,o.y=t.y-i.y,o.z=t.z-i.z,o},o.Multiply=function(t,i){var o=s(0,0,0);return o.x=t.x*i,o.y=t.y*i,o.z=t.z*i,o},o.Cross=function(t,i){return s(t.y*i.z-t.z*i.y,t.z*i.x-t.x*i.z,t.x*i.y-t.y*i.x)},t}())||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,o,c,s,h;return{setters:[function(e){t=e.defineProperty,n=e.createClass,r=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,o=e._decorator,c=e.find,s=e.UITransform,h=e.view}],execute:function(){var a,u,g;i._RF.push({},"82e01FTRcFOLI0NQuGd/sgr","Utils",void 0);var f=o.ccclass;o.property,e("Utils",f("Utils")((g=u=function(){function e(){}return e.CloneMap=function(e){for(var t,n=new Map,i=r(e.entries());!(t=i()).done;){var o=t.value;n.set(o[0],o[1])}return n},e.CloneArray=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t},e.AreMapsIdentical=function(e,t){if(e.keys.length!=t.keys.length)return!1;for(var n,i=r(e.entries());!(n=i()).done;){var o=n.value;if(!t.has(o[0]))return!1;if(t.get(o[0])!=o[1])return!1}return!0},e.IsContains=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},n(e,null,[{key:"screenWidth",get:function(){if(null==this._screenWidth){var e=c("CommonCanvas");if(e||(e=c("Canvas")),!e)return 0;var t=e.getComponent(s).contentSize.width/2+h.getViewportRect().x*e.getComponent(s).contentSize.width/h.getViewportRect().width;this._screenWidth=2*t;var n=e.getComponent(s).contentSize.height/2+h.getViewportRect().y*e.getComponent(s).contentSize.height/h.getViewportRect().height;this._screenHeight=2*n}return this._screenWidth}},{key:"screenHeight",get:function(){if(null==this._screenHeight){var e=c("CommonCanvas");if(e||(e=c("Canvas")),!e)return 0;var t=e.getComponent(s).contentSize.width/2+h.getViewportRect().x*e.getComponent(s).contentSize.width/h.getViewportRect().width;this._screenWidth=2*t;var n=e.getComponent(s).contentSize.height/2+h.getViewportRect().y*e.getComponent(s).contentSize.height/h.getViewportRect().height;this._screenHeight=2*n}return this._screenHeight}}]),e}(),t(u,"_screenWidth",void 0),t(u,"_screenHeight",void 0),a=g))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/InteractableModel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseInteractableModel.ts","./Vector.ts"],(function(t){"use strict";var i,e,n,o,a,s,r,l,h,m,c,u,g,f,p,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){s=t.cclegacy,r=t._decorator,l=t.CCFloat,h=t.v3,m=t.v2,c=t.Quat,u=t.Vec3,g=t.Vec2,f=t.clamp},function(t){p=t.BaseInteractableModel},function(t){d=t.Vector}],execute:function(){var P,y,v,b,x,O,z,D,Y,A,S;s._RF.push({},"869e6EHMpZNWYbjzA4tmMOI","InteractableModel",void 0);var X=r.ccclass,Z=r.property;t("InteractableModel",(P=X("InteractableModel"),y=Z(l),P((x=i((b=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(o(i),"rotateSensitivity",x,o(i)),n(o(i),"minDragToleranceForRotating",O,o(i)),n(o(i),"zoomSensitivity",z,o(i)),n(o(i),"scrollSensitivity",D,o(i)),n(o(i),"zoomAtCursor",Y,o(i)),n(o(i),"panTouchSensitivity",A,o(i)),n(o(i),"panSensitivity",S,o(i)),a(o(i),"shouldDisablePan",!0),a(o(i),"shouldOrbit",!1),a(o(i),"cameraTargetZoomPosition",h(0,0,0)),a(o(i),"touchStartPos",m(0,0)),a(o(i),"deltaDragX",0),a(o(i),"deltaDragY",0),a(o(i),"rotation",new c),a(o(i),"minZoom",0),a(o(i),"maxZoom",0),a(o(i),"minZoomOffset",0),a(o(i),"maxZoomOffset",1),a(o(i),"zoom",h(0,0,0)),a(o(i),"minPanX",0),a(o(i),"maxPanX",0),a(o(i),"minPanXOffset",-1),a(o(i),"maxPanXOffset",1),a(o(i),"minPanY",0),a(o(i),"maxPanY",0),a(o(i),"minPanYOffset",-1),a(o(i),"maxPanYOffset",1),a(o(i),"isMousePanning",!1),a(o(i),"pan",h(0,0,0)),a(o(i),"minAngleX",0),a(o(i),"maxAngleX",0),a(o(i),"minAngleXOffset",-90),a(o(i),"maxAngleXOffset",90),a(o(i),"minAngleY",0),a(o(i),"maxAngleY",0),a(o(i),"minAngleYOffset",-360),a(o(i),"maxAngleYOffset",360),i}e(i,t);var s=i.prototype;return s.initialize=function(i){t.prototype.initialize.call(this,i),this.node.getRotation(this.rotation),this.node.getPosition(this.pan),this.zoom=this.initScale;var e=this.node.getPosition().x;this.minPanX=e+this.minPanXOffset,this.maxPanX=e+this.maxPanXOffset;var n=this.node.getPosition().y;this.minPanY=n+this.minPanYOffset,this.maxPanY=n+this.maxPanYOffset;var o=this.node.eulerAngles.x;this.minAngleX=o+this.minAngleXOffset,this.maxAngleX=o+this.maxAngleXOffset;var a=this.node.eulerAngles.y;this.minAngleY=a+this.minAngleYOffset,this.maxAngleY=a+this.maxAngleYOffset,this.minZoom=this.zoom.x+this.minZoomOffset,this.maxZoom=this.zoom.x+this.maxZoomOffset},s.update=function(t){this.shouldOrbit&&(this.deltaDragY+=10*t,this.rotation=c.fromEuler(new c,this.deltaDragX,this.deltaDragY,0)),this.node.setRotation(c.slerp(new c,this.node.getRotation(),this.rotation,10*t)),this.node.setScale(u.lerp(new u,this.node.getScale(),this.zoom,10*t));var i=h(0,0,0);if(this.zoomAtCursor)u.lerp(i,this.node.getPosition(),this.cameraTargetZoomPosition,10*t);else{var e=h(0,0,0);u.lerp(e,this.node.getPosition(),this.pan,10*t),i=h(e.x,e.y,0)}this.node.setPosition(i)},s.ObjectRotation=function(t){var i=t[0].getLocation();if(!(g.distance(i,this.touchStartPos)<this.minDragToleranceForRotating)){var e=t[0].getDelta();this.deltaDragX-=e.y*this.rotateSensitivity/10,this.deltaDragY+=e.x*this.rotateSensitivity/10,this.deltaDragX%=360,this.deltaDragY%=360,this.deltaDragX=f(this.deltaDragX,this.minAngleX,this.maxAngleX),this.deltaDragY=f(this.deltaDragY,this.minAngleY,this.maxAngleY),this.rotation=c.fromEuler(new c,this.deltaDragX,this.deltaDragY,0)}},s.PerformZoomByPinch=function(t){var i=t[0].getPreviousLocation(),e=t[1].getPreviousLocation(),n=t[0].getLocation(),o=t[1].getLocation(),a=g.distance(i,e),s=(g.distance(n,o)-a)*this.zoomSensitivity/10;this.ObjectZoom(s,h(0,0,0))},s.ObjectZoom=function(t,i){if(this.zoomAtCursor){var e=this.node.getPosition(),n=d.GetDirection(i,e,!0),o=d.Multiply(n,t),a=d.Add(e,o).z-i.z;a=f(a,this.minZoom,this.maxZoom)}else{this.node.getScale(this.zoom);var s=h(t,t,t);this.zoom.add(s),this.zoom.x=f(this.zoom.x,this.minZoom,this.maxZoom),this.zoom.y=f(this.zoom.y,this.minZoom,this.maxZoom),this.zoom.z=f(this.zoom.z,this.minZoom,this.maxZoom)}},s.PerformPanByTwoFingers=function(t){var i=t[0].getDelta().x,e=t[0].getDelta().y,n=t[1].getDelta().x,o=t[1].getDelta().y;if(i<0&&n<0||i>0&&n>0||e<0&&o<0||e>0&&o>0){var a=h((i+n)/2*(this.panTouchSensitivity/10),(e+o)/2*(this.panTouchSensitivity/10),0);this.ObjectPan(a)}},s.ObjectPan=function(t){if(!this.shouldDisablePan){this.pan.clone();u.add(this.pan,this.node.getPosition(),t),this.pan.x=f(this.pan.x,this.minPanX,this.maxPanX),this.pan.y=f(this.pan.y,this.minPanY,this.maxPanY)}},s.OnTouchStart=function(t){this.touchStartPos=t.getLocation()},s.OnTouchMove=function(t){if(!this.isMousePanning){var i=t.getAllTouches();switch(i.length){case 1:this.ObjectRotation(i);break;case 2:this.PerformZoomByPinch(i),this.PerformPanByTwoFingers(i)}}},s.OnMouseDown=function(t){2==t.getButton()&&(this.isMousePanning=!0)},s.OnMouseUp=function(t){2==t.getButton()&&(this.isMousePanning=!1)},s.OnMouseMove=function(t){if(this.isMousePanning){var i=h(t.getDeltaX()*(this.panSensitivity/10),t.getDeltaY()*(this.panSensitivity/10),0);this.ObjectPan(i)}},s.OnScroll=function(t){var i=h(0,0,0),e=t.getScrollY()/1e3*this.scrollSensitivity;this.ObjectZoom(e,i)},i}(p)).prototype,"rotateSensitivity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=i(b.prototype,"minDragToleranceForRotating",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=i(b.prototype,"zoomSensitivity",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),D=i(b.prototype,"scrollSensitivity",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Y=i(b.prototype,"zoomAtCursor",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=i(b.prototype,"panTouchSensitivity",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),S=i(b.prototype,"panSensitivity",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),v=b))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/StepController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventInvoker.ts","./ToolManager.ts"],(function(o){"use strict";var n,t,e,s,r,i,a,d,l,c;return{setters:[function(o){n=o.defineProperty,t=o.inheritsLoose,e=o.assertThisInitialized,s=o.createClass},function(o){r=o.cclegacy,i=o._decorator,a=o.resources,d=o.Component},function(o){l=o.EventInvoker},function(o){c=o.ToolManager}],execute:function(){var u,m,h;r._RF.push({},"8bd41BjYsFKYI7OopMK5Fu+","StepController",void 0);var y=i.ccclass;i.property,o("StepController",y("StepController")((h=m=function(o){function r(){for(var t,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r))||this,n(e(t),"OnJsonLoad",null),n(e(t),"OnGameReady",null),n(e(t),"_common",null),n(e(t),"_storyboard",null),n(e(t),"_version",""),n(e(t),"gameId",""),n(e(t),"gameName",""),n(e(t),"_tool",null),n(e(t),"_gameTexts",null),n(e(t),"_steps",[]),n(e(t),"isCommonJsonLoaded",!1),n(e(t),"isStoryboardLoaded",!1),t}t(r,o);var i=r.prototype;return i.onLoad=function(){r._instance=this,this.OnJsonLoad=new l("OnJsonLoad",this.node),this.OnGameReady=new l("OnGameReady",this.node)},i.start=function(){this.LoadCommonJson()},i.LoadCommonJson=function(){var o=this;a.load("common",(function(n,t){n?console.error(n):o.OnCommonJsonLoad(t.json)}))},i.OnCommonJsonLoad=function(o){this._common=o,this.isCommonJsonLoaded=!0,this.isStoryboardLoaded&&this.OnAllJsonLoaded()},i.Initialize=function(o){this.LoadStoryboard(o)},i.LoadStoryboard=function(o){var n=this;a.load(o+"/storyboard",(function(o,t){o?console.error(o):n.OnStoryboardLoad(t.json)}))},i.OnStoryboardLoad=function(o){this._storyboard=o,this._version=this._storyboard.version,this.gameId=this._storyboard.gameId,this.gameName=this._storyboard.gameName,this._tool=this._storyboard.tool,this._gameTexts=this._storyboard.gameTexts,this._steps=this._storyboard.steps,this.isStoryboardLoaded=!0,this.isCommonJsonLoaded&&this.OnAllJsonLoaded()},i.OnAllJsonLoaded=function(){"Tutor"==this._storyboard.mode&&c.Instance.Initialize(this._tool.views,this._tool.animations),this.OnJsonLoad.Invoke(),this.OnGameReady.Invoke()},s(r,[{key:"common",get:function(){return this._common}},{key:"version",get:function(){return this._version}},{key:"tool",get:function(){return this._tool}},{key:"gameTexts",get:function(){return this._gameTexts}}],[{key:"instance",get:function(){return r._instance}}]),r}(d),n(m,"_instance",null),u=h))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./StepController.ts","./BaseElement.ts","./BaseAtomModel.ts","./GameState.ts","./AtmoicModelTools.ts","./ModelSelector.ts"],(function(e){"use strict";var t,n,o,i,r,l,s,a,c,u,d,h,m,f,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){l=e.cclegacy,s=e._decorator,a=e.Node,c=e.Component},function(e){u=e.InteractionMode},function(e){d=e.StepController},function(e){h=e.BaseElement},function(e){m=e.BaseAtomModel},function(e){f=e.GameState},function(e){p=e.AtmoicModelTools},function(e){g=e.ModelSelector}],execute:function(){var M,E,S,b,y,A,L,O,v,w,P,T,z,I,U;l._RF.push({},"92e09cVMIdB2ZHf6Tna1jM8","GameManager",void 0);var B=s.ccclass,D=s.property;e("GameManager",(M=B("GameManager"),E=D([h]),S=D([m]),b=D([a]),y=D(a),A=D(p),L=D(g),M((w=t((v=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,o(i(t),"elements",w,i(t)),r(i(t),"currentElements",void 0),o(i(t),"atomModels",P,i(t)),r(i(t),"currentAtomModels",void 0),o(i(t),"layoutPositions",T,i(t)),o(i(t),"centerPosition",z,i(t)),o(i(t),"tools",I,i(t)),o(i(t),"modelSelector",U,i(t)),r(i(t),"toggleState",!1),t}n(t,e);var l=t.prototype;return l.onLoad=function(){d.instance.Initialize("CBSE11CHE02E01_AtomicModel"),this.currentElements=[],this.currentAtomModels=[]},l.start=function(){d.instance.OnJsonLoad.AddListener(this.OnJsonLoad,this),this.modelSelector.OnModelSelected.AddListener(this.OnModelSelected,this)},l.OnJsonLoad=function(){this.tools.OnUpdate.AddListener(this.OnToolsUpdated,this),this.tools.OnToggleUpdate.AddListener(this.OnToggleUpdated,this)},l.OnModelSelected=function(){this.tools.Hide()},l.onDestroy=function(){d.instance.OnJsonLoad.RemoveListener(this.OnJsonLoad,this),this.modelSelector.OnModelSelected.RemoveListener(this.OnModelSelected,this)},l.OnToggleUpdated=function(e){if(this.toggleState!=e)switch(this.toggleState=e,f.Instance.interaction){case u.ELEMENTS:this.currentElements.forEach((function(t){return t.onToggleUpdated(e)}));break;case u.MODELS:this.currentAtomModels.forEach((function(t){return t.onToggleUpdated(e)}))}},l.OnToolsUpdated=function(){switch(f.Instance.interaction){case u.ELEMENTS:this.currentAtomModels.forEach((function(e){return e.onEnd()})),this.currentAtomModels=[],this.switchElement(f.Instance.checkboxSelected);break;case u.MODELS:this.currentElements.forEach((function(e){return e.onEnd()})),this.currentElements=[],this.switchAtomModel(f.Instance.checkboxSelected)}},l.switchElement=function(e){var t=this;this.currentElements.forEach((function(e){return e.onEnd()})),this.currentElements=[];for(var n=function(n){var o=e[n]+1,i=t.elements.find((function(e){return e.elementType==o})),r=e.length>1?t.layoutPositions[n].worldPosition:t.centerPosition.worldPosition;i.onStart(t.toggleState),i.initialize(r),t.currentElements.push(i)},o=0;o<e.length;o++)n(o)},l.switchAtomModel=function(e){var t=this;this.currentAtomModels.forEach((function(e){return e.onEnd()})),this.currentAtomModels=[];for(var n=function(n){var o=e[n]+1,i=t.atomModels.find((function(e){return e.atomModelType==o})),r=e.length>1?t.layoutPositions[n].worldPosition:t.centerPosition.worldPosition;i.onStart(t.toggleState),i.initialize(r),t.currentAtomModels.push(i)},o=0;o<e.length;o++)n(o)},t}(c)).prototype,"elements",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(v.prototype,"atomModels",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(v.prototype,"layoutPositions",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"centerPosition",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"tools",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(v.prototype,"modelSelector",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=v))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/ToolManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./ToolState.ts","./StateManager.ts","./ButtonHandler.ts","./EventInvoker.ts","./ToggleHandler.ts","./Utils.ts","./CameraController.ts","./CheckboxPanel.ts","./ModelController.ts","./TextLoader.ts"],(function(t){"use strict";var e,i,n,a,s,o,r,h,l,c,d,u,g,S,v,m,f,C,k,I,E,_,p,O;return{setters:[function(t){e=t.defineProperty,i=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose,r=t.createClass},function(t){h=t.cclegacy,l=t._decorator,c=t.CCBoolean,d=t.find,u=t.Animation,g=t.Component},function(t){S=t.InteractionMode,v=t.ToolState},function(t){m=t.StateManager},function(t){f=t.ButtonHandler},function(t){C=t.EventInvoker},function(t){k=t.ToggleHandler},function(t){I=t.Utils},function(t){E=t.CameraController},function(t){_=t.CheckboxPanel},function(t){p=t.ModelController},function(t){O=t.Dictionary}],execute:function(){var A,P,b,H,w,B,U,x,L,R,T,y,G,M,F,V,N,z,D,W,X;h._RF.push({},"a4fcbarjc5CgqYRXzyB2Czj","ToolManager",void 0);var j=l.ccclass,q=l.property;t("ToolManager",(A=j("ToolManager"),P=q(c),b=q(c),H=q(c),w=q(c),B=q(c),U=q(c),x=q(c),L=q(c),A((X=W=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,a(s(i),"includeHighlight",y,s(i)),a(s(i),"includeLabel",G,s(i)),a(s(i),"includeFade",M,s(i)),a(s(i),"includeHide",F,s(i)),a(s(i),"includeIsolate",V,s(i)),a(s(i),"includeView",N,s(i)),a(s(i),"includeAnimation",z,s(i)),a(s(i),"includeIntExt",D,s(i)),e(s(i),"_OnClickHighlight",null),e(s(i),"_OnClickLabel",null),e(s(i),"_OnClickFade",null),e(s(i),"_OnClickHide",null),e(s(i),"_OnClickIsolate",null),e(s(i),"_OnClickView",null),e(s(i),"_OnClickAnimation",null),e(s(i),"_OnUpdateHighlight",null),e(s(i),"_OnUpdateLabel",null),e(s(i),"_OnUpdateFade",null),e(s(i),"_OnUpdateHide",null),e(s(i),"_OnUpdateView",null),e(s(i),"_OnUpdateAnimation",null),e(s(i),"_OnClickIsolateButton",null),e(s(i),"_OnClickAnimationToggle",null),e(s(i),"_OnClickIntExtToggle",null),e(s(i),"_OnClickUndo",null),e(s(i),"_OnClickRedo",null),e(s(i),"_OnClickReset",null),e(s(i),"modelController",null),e(s(i),"stateManager",null),e(s(i),"parts",[]),e(s(i),"views",[]),e(s(i),"animations",[]),e(s(i),"hidePanel",null),e(s(i),"isolatePanel",null),e(s(i),"viewPanel",null),e(s(i),"animationPanel",null),e(s(i),"interactionButtons",[]),e(s(i),"interactionButtonAnimations",[]),e(s(i),"isolateButton",null),e(s(i),"animationToggle",null),e(s(i),"intExtToggle",null),e(s(i),"intExtAnimation",null),e(s(i),"undoButton",null),e(s(i),"redoButton",null),e(s(i),"resetButton",null),e(s(i),"_currentState",null),e(s(i),"_isActive",!0),e(s(i),"_registerActions",!0),i}n(i,t);var h=i.prototype;return h.onLoad=function(){i.instance=this,this.GetReferences(),this.InitializeEventInvokers(),this.InitializeTool(),this.AddListeners()},h.GetReferences=function(){this.modelController=d("ModelController").getComponent(p);var t=this.node.getChildByName("SidePanel");this.interactionButtons=t.getChildByName("Layout").getComponentsInChildren(f),this.interactionButtonAnimations=t.getChildByName("Layout").getComponentsInChildren(u),this.hidePanel=this.node.getChildByName("HidePanel").getComponent(_),this.isolatePanel=this.node.getChildByName("IsolatePanel").getComponent(_),this.viewPanel=this.node.getChildByName("ViewPanel").getComponent(_),this.animationPanel=this.node.getChildByName("AnimationPanel").getComponent(_),this.isolateButton=this.isolatePanel.node.getComponentInChildren(f),this.animationToggle=this.animationPanel.node.getComponentInChildren(k),this.intExtToggle=this.node.getChildByName("IntExtToggle").getComponent(k),this.intExtAnimation=this.intExtToggle.getComponent(u);var e=this.node.getChildByName("BottomPanel").getChildByName("Layout");this.undoButton=e.getChildByName("Undo").getComponent(f),this.redoButton=e.getChildByName("Redo").getComponent(f),this.resetButton=e.getChildByName("Reset").getComponent(f)},h.InitializeEventInvokers=function(){this._OnClickHighlight=new C("OnClickHighlight",this.node),this._OnClickLabel=new C("OnClickLabel",this.node),this._OnClickFade=new C("OnClickFade",this.node),this._OnClickHide=new C("OnClickHide",this.node),this._OnClickIsolate=new C("OnClickIsolate",this.node),this._OnClickView=new C("OnClickView",this.node),this._OnClickAnimation=new C("OnClickAnimation",this.node),this._OnUpdateHighlight=new C("OnUpdateHighlight",this.node),this._OnUpdateLabel=new C("OnUpdateLabel",this.node),this._OnUpdateFade=new C("OnUpdateFade",this.node),this._OnUpdateHide=new C("OnUpdateHide",this.node),this._OnUpdateView=new C("OnUpdateView",this.node),this._OnUpdateAnimation=new C("OnUpdateAnimation",this.node),this._OnClickIsolateButton=new C("OnClickIsolateButton",this.node),this._OnClickAnimationToggle=new C("OnClickAnimationToggle",this.node),this._OnClickIntExtToggle=new C("OnClickIntExtToggle",this.node),this._OnClickUndo=new C("OnClickUndo",this.node),this._OnClickRedo=new C("OnClickRedo",this.node),this._OnClickReset=new C("OnClickReset",this.node)},h.InitializeTool=function(){this.interactionButtons[0].node.active=this.includeHighlight,this.interactionButtons[1].node.active=this.includeLabel,this.interactionButtons[2].node.active=this.includeFade,this.interactionButtons[3].node.active=this.includeHide,this.interactionButtons[4].node.active=this.includeIsolate,this.interactionButtons[5].node.active=this.includeView,this.interactionButtons[6].node.active=this.includeAnimation,this.intExtToggle.node.active=this.includeIntExt,this.InitializePanels(),this.HideAllPanels(),this.SelectInteractionButton(S.HIGHLIGHT),this.stateManager=new m(this.undoButton,this.redoButton,this.resetButton)},h.AddListeners=function(){this.interactionButtons[0].OnClick.AddListener(this.ClickedHighlight,this),this.interactionButtons[1].OnClick.AddListener(this.ClickedLabel,this),this.interactionButtons[2].OnClick.AddListener(this.ClickedFade,this),this.interactionButtons[3].OnClick.AddListener(this.ClickedHide,this),this.interactionButtons[4].OnClick.AddListener(this.ClickedIsolate,this),this.interactionButtons[5].OnClick.AddListener(this.ClickedView,this),this.interactionButtons[6].OnClick.AddListener(this.ClickedAnimation,this),this.isolateButton.OnClick.AddListener(this.ClickedIsolateButton,this),this.animationToggle.OnClick.AddListener(this.ClickedAnimationToggle,this),this.intExtToggle.OnClick.AddListener(this.ClickedIntExtToggle,this),this.undoButton.OnClick.AddListener(this.ClickedUndo,this),this.redoButton.OnClick.AddListener(this.ClickedRedo,this),this.resetButton.OnClick.AddListener(this.ClickedReset,this),this.hidePanel.node.on("OnSelectCheckbox",this.SelectedHideCheckbox,this),this.isolatePanel.node.on("OnSelectCheckbox",this.SelectedIsolateCheckbox,this),this.viewPanel.node.on("OnSelectCheckbox",this.SelectedViewCheckbox,this),this.animationPanel.node.on("OnSelectCheckbox",this.SelectedAnimationCheckbox,this),this.modelController.node.on("OnClickPart",this.ClickedPart,this)},h.Initialize=function(t,e){this.Register(t,e),this._currentState=new v(this.parts.length),this.RegisterAction(),this.modelController.Initialize(this._currentState.Clone())},h.Register=function(t,e){var i=this;this.parts=this.modelController.GetPartNames(),this.views=["3d","holographic"],t.forEach((function(t){i.views.push(t)})),this.animations=e},h.start=function(){E.Instance.node.on("OnCameraUpdate",this.OnCameraUpdate,this)},h.OnCameraUpdate=function(t){this.hidePanel.Hide(),this.isolatePanel.Hide(),this.viewPanel.Hide(),this.animationPanel.Hide()},h.ClickedHighlight=function(t){this.SetInteractionMode(S.HIGHLIGHT),this.EmitHighlightEvent()},h.ClickedLabel=function(t){this.SetInteractionMode(S.LABEL),this.EmitLabelEvent()},h.ClickedFade=function(t){this.SetInteractionMode(S.FADE),this.EmitFadeEvent()},h.ClickedHide=function(t){this.SetInteractionMode(S.HIDE),this.SetupHidePanel(),this.hidePanel.isShown?this.hidePanel.Hide():this.hidePanel.Show(),this.EmitHideEvent()},h.ClickedIsolate=function(t){this.SetInteractionMode(S.ISOLATE),this.SetupIsolatePanel(),this.isolatePanel.isShown?this.isolatePanel.Hide():this.isolatePanel.Show(),this.EmitIsolateEvent()},h.ClickedView=function(t){this.SetInteractionMode(S.VIEW),this.SetupViewPanel(),this.viewPanel.isShown?this.viewPanel.Hide():this.viewPanel.Show(),this.EmitViewEvent()},h.ClickedAnimation=function(t){this.SetInteractionMode(S.ANIMATION),this.SetupAnimatePanel(),this.animationPanel.isShown?this.animationPanel.Hide():this.animationPanel.Show(),this.EmitAnimationEvent()},h.ClickedIsolateButton=function(t){this.isolateButton.interactable=!1;for(var e=I.CloneMap(this._currentState.isolate),i=1;i<this.isolatePanel.length;i++)this._currentState.isolate.set(i-1,this.isolatePanel.GetState(i));if(!I.AreMapsIdentical(e,this._currentState.isolate)){for(var n=1;n<=this.parts.length;n++)this._currentState.highlight.set(n-1,!1),this._currentState.label.set(n-1,!1),this._currentState.fade.set(n-1,!1),this._currentState.hide.set(n-1,!this.isolatePanel.GetState(n)),this._currentState.isolate.set(n-1,this.isolatePanel.GetState(n));this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitIsolateButtonEvent()}},h.ClickedAnimationToggle=function(t){this._currentState.isAnimationPaused=this.animationToggle.isOn,this.RegisterAction(),this.EmitAnimationButtonEvent()},h.ClickedIntExtToggle=function(t){this.HideAllPanels(),this._currentState.isInterior=this.intExtToggle.isOn,this.RegisterAction(),this.EmitIntExtToggleEvent()},h.InitializePanels=function(){this.hidePanel.InitializeWithoutOptions(this.interactionButtons[3].node,20),this.isolatePanel.InitializeWithoutOptions(this.interactionButtons[4].node,20),this.viewPanel.InitializeWithoutOptions(this.interactionButtons[5].node,10),this.animationPanel.InitializeWithoutOptions(this.interactionButtons[6].node,5)},h.HideAllPanels=function(){this.hidePanel.isShown&&this.hidePanel.Hide(),this.isolatePanel.isShown&&this.isolatePanel.Hide(),this.viewPanel.isShown&&this.viewPanel.Hide(),this.animationPanel.isShown&&this.animationPanel.Hide()},h.SetupHidePanel=function(){var t=this.GetIsolatedPartIndices(),e=[],i=[];e.push("all"),i.push(O.COMMON);for(var n=0;n<t.length;n++)e.push(this.parts[t[n]]),i.push(O.GAME_TEXTS);for(var a=[],s=0;s<e.length;s++){var o=!0;if(0==s){for(var r=0;r<t.length;r++)if(this._currentState.hide.get(t[r])){o=!1;break}}else o=!this._currentState.hide.get(t[s-1]);a.push(o)}this.hidePanel.Setup(e,a,i)},h.SelectedHideCheckbox=function(t){this._currentState.hide=this.UpdateHidePanel(t);for(var e,i=o(this._currentState.hide.entries());!(e=i()).done;){var n=e.value;n[1]&&this._currentState.highlight.set(n[0],!1)}this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitUpdateHideEvent()},h.UpdateHidePanel=function(t){for(var e=[],i=0;i<this.hidePanel.length;i++)e.push(this.hidePanel.GetState(i));if(0==t)for(var n=1;n<this.hidePanel.length;n++)e[n]=this.hidePanel.GetState(0);for(var a=0,s=1;s<this.hidePanel.length;s++)a+=e[s]?1:0;e[0]=a==this.hidePanel.length-1,this.hidePanel.UpdateCheckboxes(e);for(var o=this.GetIsolatedPartIndices(),r=this._currentState.hide,h=1;h<this.hidePanel.length;h++)r.set(o[h-1],!e[h]);return r},h.SetupIsolatePanel=function(){var t=[],e=[];t.push("all"),e.push(O.COMMON),this.parts.forEach((function(i){t.push(i),e.push(O.GAME_TEXTS)}));for(var i=this.GetIsolatedPartIndices(),n=[],a=0;a<t.length;a++){var s=!1;if(0==a)s=i.length==this.parts.length;else for(var o=0;o<i.length;o++)if(i[o]==a-1){s=!0;break}n.push(s)}this.isolatePanel.Setup(t,n,e),this.isolateButton.interactable=!1},h.SelectedIsolateCheckbox=function(t){this.UpdateIsolatePanel(t)},h.UpdateIsolatePanel=function(t){for(var e=[],i=0;i<this.isolatePanel.length;i++)e.push(this.isolatePanel.GetState(i));if(0==t)for(var n=1;n<this.isolatePanel.length;n++)e[n]=this.isolatePanel.GetState(0);for(var a=0,s=1;s<this.isolatePanel.length;s++)a+=e[s]?1:0;e[0]=a==this.isolatePanel.length-1,this.isolatePanel.UpdateCheckboxes(e);for(var o=!1,r=new Map,h=1;h<this.isolatePanel.length;h++)r.set(h-1,this.isolatePanel.GetState(h)),o||(o=this.isolatePanel.GetState(h));this.isolateButton.interactable=o&&!I.AreMapsIdentical(this._currentState.isolate,r)},h.SetupViewPanel=function(){for(var t=[],e=[],i=0;i<this.views.length;i++)t.push(i==this._currentState.viewIndex),e.push(i<2?O.COMMON:void 0);this.viewPanel.Setup(this.views,t,e)},h.SelectedViewCheckbox=function(t){var e=this,i=this._currentState.viewIndex;this._currentState.viewIndex=t,this.UpdateViewPanel(t);if([0,1,2,3,4,6].forEach((function(i){e.interactionButtons[i].interactable=0==t||1==t})),i!=t){if(0!=t&&1!=t)for(var n,a=o(this._currentState.label.entries());!(n=a()).done;){var s=n.value;this._currentState.label.set(s[0],!1)}this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitUpdateViewEvent()}},h.UpdateViewPanel=function(t){for(var e=[],i=0;i<this.viewPanel.length;i++)e.push(i==t);this.viewPanel.UpdateCheckboxes(e)},h.SetupAnimatePanel=function(){for(var t=[],e=[],i=0;i<this.animations.length;i++)t.push(i==this._currentState.animationIndex),e.push(void 0);this.animationPanel.Setup(this.animations,t,e),this.animationToggle.isOn=this._currentState.isAnimationPaused},h.SelectedAnimationCheckbox=function(t){var e=this._currentState.animationIndex;this._currentState.animationIndex=t,this.UpdateAnimationPanel(t),e!=t&&(this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitUpdateAnimationEvent())},h.UpdateAnimationPanel=function(t){for(var e=[],i=0;i<this.animationPanel.length;i++)e.push(i==t);this.animationPanel.UpdateCheckboxes(e)},h.ClickedUndo=function(){var t=this.stateManager.GetPreviousState();this.SetState(t),this.EmitUndoEvent()},h.ClickedRedo=function(){var t=this.stateManager.GetNextState();this.SetState(t),this.EmitRedoEvent()},h.ClickedReset=function(){for(var t,e=this._currentState.interaction,i=o(this._currentState.highlight.entries());!(t=i()).done;){var n=t.value;this._currentState.highlight.set(n[0],!1)}for(var a,s=o(this._currentState.label.entries());!(a=s()).done;){var r=a.value;this._currentState.label.set(r[0],!1)}for(var h,l=o(this._currentState.fade.entries());!(h=l()).done;){var c=h.value;this._currentState.fade.set(c[0],!1)}for(var d,u=o(this._currentState.hide.entries());!(d=u()).done;){var g=d.value;this._currentState.hide.set(g[0],!1)}for(var v,m=o(this._currentState.isolate.entries());!(v=m()).done;){var f=v.value;this._currentState.isolate.set(f[0],!0)}this._currentState.viewIndex=0,this._currentState.animationIndex=0,this._currentState.isAnimationPaused=!1,this._currentState.isInterior=!1,this._currentState.interaction=S.HIGHLIGHT,this.hidePanel.Hide(),this.isolatePanel.Hide(),this.viewPanel.Hide(),this.animationPanel.Hide(),this.animationToggle.isOn=this._currentState.isAnimationPaused,this.intExtToggle.isOn=this._currentState.isInterior,this.interactionButtonAnimations.forEach((function(t){t.play("StopEffect")})),this.intExtAnimation.play("StopEffect"),this.ActivateAll(),this.UnselectInteractionButton(e),this._currentState.interaction=S.HIGHLIGHT,this.SelectInteractionButton(this._currentState.interaction),this.modelController.SetState(this.currentState),this.modelController.ResetCamera(),this.ShowUndoRedo(),this.stateManager.Reset(this._currentState.Clone()),this.EmitResetEvent()},h.ClickedPart=function(t){var e=this.modelController.GetPartIndexFromId(t);switch(this._currentState.interaction){case S.HIGHLIGHT:this._currentState.highlight.set(e,!this._currentState.highlight.get(e)),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitUpdateHighlightEvent();break;case S.LABEL:this._currentState.label.set(e,!this._currentState.label.get(e)),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitUpdateLabelEvent();break;case S.FADE:this._currentState.fade.set(e,!this._currentState.fade.get(e)),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitUpdateFadeEvent();break;case S.HIDE:this._currentState.hide.set(e,!this._currentState.hide.get(e)),this._currentState.highlight.set(e,!this._currentState.hide.get(e)),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),this.EmitUpdateHideEvent()}},h.RegisterAction=function(){this._registerActions&&this.stateManager.RegisterAction(this._currentState.Clone())},h.EmitHighlightEvent=function(){this._OnClickHighlight.Invoke()},h.EmitLabelEvent=function(){this._OnClickLabel.Invoke()},h.EmitFadeEvent=function(){this._OnClickFade.Invoke()},h.EmitHideEvent=function(){this._OnClickHide.Invoke()},h.EmitIsolateEvent=function(){this._OnClickIsolate.Invoke()},h.EmitViewEvent=function(){this._OnClickView.Invoke()},h.EmitAnimationEvent=function(){this._OnClickAnimation.Invoke()},h.EmitUpdateHighlightEvent=function(){this._OnUpdateHighlight.Invoke()},h.EmitUpdateLabelEvent=function(){this._OnUpdateLabel.Invoke()},h.EmitUpdateFadeEvent=function(){this._OnUpdateFade.Invoke()},h.EmitUpdateHideEvent=function(){this._OnUpdateHide.Invoke()},h.EmitUpdateViewEvent=function(){this._OnUpdateView.Invoke()},h.EmitUpdateAnimationEvent=function(){this._OnUpdateAnimation.Invoke()},h.EmitIsolateButtonEvent=function(){this._OnClickIsolateButton.Invoke()},h.EmitAnimationButtonEvent=function(){this._OnClickAnimationToggle.Invoke()},h.EmitIntExtToggleEvent=function(){this._OnClickIntExtToggle.Invoke()},h.EmitResetEvent=function(){this._OnClickReset.Invoke()},h.EmitUndoEvent=function(){this._OnClickUndo.Invoke()},h.EmitRedoEvent=function(){this._OnClickRedo.Invoke()},h.SetState=function(t){var e=this;if(null!=t){var i=this._currentState;this._currentState=t.Clone(),this.SetupHidePanel(),this.SetupIsolatePanel(),this.SetupViewPanel(),this.SetupAnimatePanel(),this.animationToggle.isOn=this._currentState.isAnimationPaused,this.intExtToggle.isOn=this._currentState.isInterior,this.UnselectInteractionButton(i.interaction),this.SelectInteractionButton(this._currentState.interaction),this.hidePanel.Hide(),this.isolatePanel.Hide(),this.viewPanel.Hide(),this.animationPanel.Hide();[0,1,2,3,4,6].forEach((function(t){e.interactionButtons[t].interactable=0==e._currentState.viewIndex||1==e._currentState.viewIndex})),this._currentState=this.modelController.SetState(this.currentState),I.AreMapsIdentical(i.highlight,this._currentState.highlight)||this.EmitUpdateHighlightEvent(),I.AreMapsIdentical(i.label,this._currentState.label)||this.EmitUpdateLabelEvent(),I.AreMapsIdentical(i.fade,this._currentState.fade)||this.EmitUpdateFadeEvent(),I.AreMapsIdentical(i.hide,this._currentState.hide)||this.EmitUpdateHideEvent(),I.AreMapsIdentical(i.isolate,this._currentState.isolate)||this.EmitIsolateButtonEvent(),i.viewIndex!=this._currentState.viewIndex&&this.EmitUpdateViewEvent(),i.animationIndex!=this._currentState.animationIndex&&this.EmitUpdateAnimationEvent(),i.isAnimationPaused!=this._currentState.isAnimationPaused&&this.EmitAnimationButtonEvent(),i.isInterior!=this._currentState.isInterior&&this.EmitIntExtToggleEvent()}},h.SetInteractionMode=function(t){this.UnselectInteractionButton(this._currentState.interaction),this.HideAllPanels(),this._currentState.interaction=t,this.SelectInteractionButton(this._currentState.interaction),this.HighlightMode(this._currentState.interaction,!1)},h.SelectInteractionButton=function(t){var e=-1;switch(t){case S.HIGHLIGHT:e=0;break;case S.LABEL:e=1;break;case S.FADE:e=2;break;case S.HIDE:e=3;break;case S.ISOLATE:e=4;break;case S.VIEW:e=5;break;case S.ANIMATION:e=6}-1!=e&&this.interactionButtons[e].Selected()},h.UnselectInteractionButton=function(t){var e=-1;switch(t){case S.HIGHLIGHT:e=0;break;case S.LABEL:e=1;break;case S.FADE:e=2;break;case S.HIDE:e=3;break;case S.ISOLATE:e=4;break;case S.VIEW:e=5;break;case S.ANIMATION:e=6}-1!=e&&this.interactionButtons[e].Unselected()},h.GetIsolatedPartIndices=function(){for(var t,e=[],i=o(this._currentState.isolate.entries());!(t=i()).done;){var n=t.value;n[1]&&e.push(n[0])}return e},h.GetPartIndicesFromIds=function(t){var e=this,i=[];return t.forEach((function(t){var n=e.modelController.GetPartIndexFromId(t);-1!=n&&i.push(n)})),i},h.SetSelectionOfParts=function(t){this.modelController.SetSelectionOfParts(t)},h.HighlightParts=function(t,e,i){var n=this;void 0===e&&(e=!0),void 0===i&&(i=!0),this.GetPartIndicesFromIds(t).forEach((function(t){n._currentState.highlight.set(t,e)})),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),i&&this.EmitUpdateHighlightEvent()},h.LabelParts=function(t,e,i){var n=this;void 0===e&&(e=!0),void 0===i&&(i=!0),this.GetPartIndicesFromIds(t).forEach((function(t){n._currentState.label.set(t,e)})),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),i&&this.EmitUpdateLabelEvent()},h.FadeParts=function(t,e,i){var n=this;void 0===e&&(e=!0),void 0===i&&(i=!0),this.GetPartIndicesFromIds(t).forEach((function(t){n._currentState.fade.set(t,e)})),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),i&&this.EmitUpdateFadeEvent()},h.HideParts=function(t,e,i){var n=this;void 0===e&&(e=!0),void 0===i&&(i=!0),this.GetPartIndicesFromIds(t).forEach((function(t){n._currentState.hide.set(t,e)})),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),i&&this.EmitUpdateHideEvent()},h.IsolateParts=function(t,e,i){var n=this;void 0===e&&(e=!0),void 0===i&&(i=!0),this.GetPartIndicesFromIds(t).forEach((function(t){n._currentState.isolate.set(t,e)})),this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),i&&this.EmitIsolateButtonEvent()},h.SetViewIndex=function(t,e){void 0===e&&(e=!0),this._currentState.viewIndex=t,this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),e&&this.EmitUpdateViewEvent()},h.SetAnimationIndex=function(t,e){void 0===e&&(e=!0),this._currentState.animationIndex=t,this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),e&&this.EmitUpdateAnimationEvent()},h.SetInterior=function(t,e){void 0===e&&(e=!0),this._currentState.isInterior=t,this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction(),e&&this.EmitIntExtToggleEvent()},h.ResetMode=function(t,e){void 0===e&&(e=!0);var i=!1;switch(t){case S.HIGHLIGHT:for(var n,a=o(this._currentState.highlight.entries());!(n=a()).done;){var s=n.value;this._currentState.highlight.set(s[0],!1)}i=!0,e&&this.EmitUpdateHighlightEvent();break;case S.LABEL:for(var r,h=o(this._currentState.label.entries());!(r=h()).done;){var l=r.value;this._currentState.label.set(l[0],!1)}i=!0,e&&this.EmitUpdateLabelEvent();break;case S.FADE:for(var c,d=o(this._currentState.fade.entries());!(c=d()).done;){var u=c.value;this._currentState.fade.set(u[0],!1)}i=!0,e&&this.EmitUpdateFadeEvent();break;case S.HIDE:for(var g,v=o(this._currentState.hide.entries());!(g=v()).done;){var m=g.value;this._currentState.hide.set(m[0],!1)}i=!0,e&&this.EmitUpdateHideEvent();break;case S.ISOLATE:for(var f,C=o(this._currentState.isolate.entries());!(f=C()).done;){var k=f.value;this._currentState.isolate.set(k[0],!0)}i=!0,e&&this.EmitIsolateButtonEvent();break;case S.INTERIOR_EXTERIOR:this._currentState.isInterior=!1,i=!0,e&&this.EmitIntExtToggleEvent();break;case S.VIEW:this._currentState.viewIndex=0,i=!0,e&&this.EmitUpdateViewEvent();break;case S.ANIMATION:this._currentState.animationIndex=0,i=!0,e&&this.EmitUpdateAnimationEvent()}i&&(this._currentState=this.modelController.SetState(this.currentState),this.RegisterAction())},h.Reset=function(){this.ClickedReset()},h.GetInteraction=function(){return this._currentState.interaction},h.GetHighlightedParts=function(){for(var t,e=[],i=o(this._currentState.highlight.entries());!(t=i()).done;){var n=t.value;n[1]&&e.push(this.modelController.GetPartIdFromIndex(n[0]))}return e},h.GetLabeledParts=function(){for(var t,e=[],i=o(this._currentState.label.entries());!(t=i()).done;){var n=t.value;n[1]&&e.push(this.modelController.GetPartIdFromIndex(n[0]))}return e},h.GetFadedParts=function(){for(var t,e=[],i=o(this._currentState.fade.entries());!(t=i()).done;){var n=t.value;n[1]&&e.push(this.modelController.GetPartIdFromIndex(n[0]))}return e},h.GetHiddenParts=function(){for(var t,e=[],i=o(this._currentState.hide.entries());!(t=i()).done;){var n=t.value;n[1]&&e.push(this.modelController.GetPartIdFromIndex(n[0]))}return e},h.GetIsolatedParts=function(){for(var t,e=[],i=o(this._currentState.isolate.entries());!(t=i()).done;){var n=t.value;n[1]&&e.push(this.modelController.GetPartIdFromIndex(n[0]))}return e},h.Show=function(){this.node.active=!0},h.Hide=function(){this.node.active=!1,this._isActive=!1},h.ShowUndoRedo=function(){this.stateManager.Show()},h.HideUndoRedo=function(){this.stateManager.Hide()},h.ActivateAll=function(){this.interactionButtons.forEach((function(t){t.interactable=!0})),this.intExtToggle.interactable=!0,this.stateManager.Activate(),this.SetSelectionOfParts(!0),this._isActive=!0},h.DeactivateAll=function(){this.interactionButtons.forEach((function(t){t.interactable=!1})),this.interactionButtonAnimations.forEach((function(t){t.play("StopEffect")})),this.intExtToggle.interactable=!1,this.intExtAnimation.play("StopEffect"),this.stateManager.Deactivate(),this.SetSelectionOfParts(!1),this._isActive=!1},h.Activate=function(t,e){if(void 0===e&&(e=!1),e&&this.HighlightMode(t),t==S.INTERIOR_EXTERIOR)this.intExtToggle.interactable=!0;else{var i=-1;switch(t){case S.HIGHLIGHT:i=0;break;case S.LABEL:i=1;break;case S.FADE:i=2;break;case S.HIDE:i=3;break;case S.ISOLATE:i=4;break;case S.VIEW:i=5;break;case S.ANIMATION:i=6}-1!=i&&(this.UnselectInteractionButton(this._currentState.interaction),this._currentState.interaction=t,this.SelectInteractionButton(this._currentState.interaction),this.interactionButtons[i].interactable=!0,i<4&&this.SetSelectionOfParts(!0))}this._isActive=!0},h.ActivateUndoRedo=function(){this.stateManager.Activate()},h.DeactivateUndoRedo=function(){this.stateManager.Deactivate()},h.ClearHistory=function(){this.stateManager.Reset(this._currentState.Clone())},h.HighlightMode=function(t,e){void 0===e&&(e=!0);var i=e?"PlayEffect":"StopEffect";if(t==S.INTERIOR_EXTERIOR)this.intExtAnimation.play(i);else{var n=-1;switch(t){case S.HIGHLIGHT:n=0;break;case S.LABEL:n=1;break;case S.FADE:n=2;break;case S.HIDE:n=3;break;case S.ISOLATE:n=4;break;case S.VIEW:n=5;break;case S.ANIMATION:n=6}-1!=n&&(this.interactionButtonAnimations[n].play(i),this.interactionButtons[n].node.setSiblingIndex(this.interactionButtons.length-1))}},h.OnDestroy=function(){this.RemoveListeners()},h.RemoveListeners=function(){this.interactionButtons[0].OnClick.RemoveListener(this.ClickedHighlight,this),this.interactionButtons[1].OnClick.RemoveListener(this.ClickedLabel,this),this.interactionButtons[2].OnClick.RemoveListener(this.ClickedFade,this),this.interactionButtons[3].OnClick.RemoveListener(this.ClickedHide,this),this.interactionButtons[4].OnClick.RemoveListener(this.ClickedIsolate,this),this.interactionButtons[5].OnClick.RemoveListener(this.ClickedView,this),this.interactionButtons[6].OnClick.RemoveListener(this.ClickedAnimation,this),this.isolateButton.OnClick.RemoveListener(this.ClickedIsolateButton,this),this.animationToggle.OnClick.RemoveListener(this.ClickedAnimationToggle,this),this.intExtToggle.OnClick.RemoveListener(this.ClickedIntExtToggle,this),this.undoButton.OnClick.RemoveListener(this.ClickedUndo,this),this.redoButton.OnClick.RemoveListener(this.ClickedRedo,this),this.resetButton.OnClick.RemoveListener(this.ClickedReset,this),this.hidePanel.node.off("OnSelectCheckbox",this.SelectedHideCheckbox,this),this.isolatePanel.node.off("OnSelectCheckbox",this.SelectedIsolateCheckbox,this),this.viewPanel.node.off("OnSelectCheckbox",this.SelectedViewCheckbox,this),this.animationPanel.node.off("OnSelectCheckbox",this.SelectedAnimationCheckbox,this),this.modelController.node.off("OnClickPart",this.ClickedPart,this)},r(i,[{key:"viewIndex",get:function(){return this._currentState.viewIndex}},{key:"animationIndex",get:function(){return this._currentState.animationIndex}},{key:"isAnimationPaused",get:function(){return this._currentState.isAnimationPaused}},{key:"isInterior",get:function(){var t;return null===(t=this._currentState)||void 0===t?void 0:t.isInterior}},{key:"isActive",get:function(){return this._isActive}},{key:"registerActions",get:function(){return this._registerActions},set:function(t){this._registerActions=t}},{key:"currentState",get:function(){return this._currentState.Clone()}},{key:"OnClickHighlight",get:function(){return this._OnClickHighlight}},{key:"OnClickLabel",get:function(){return this._OnClickLabel}},{key:"OnClickFade",get:function(){return this._OnClickFade}},{key:"OnClickHide",get:function(){return this._OnClickHide}},{key:"OnClickIsolate",get:function(){return this._OnClickIsolate}},{key:"OnClickView",get:function(){return this._OnClickView}},{key:"OnClickAnimation",get:function(){return this._OnClickAnimation}},{key:"OnUpdateHighlight",get:function(){return this._OnUpdateHighlight}},{key:"OnUpdateLabel",get:function(){return this._OnUpdateLabel}},{key:"OnUpdateFade",get:function(){return this._OnUpdateFade}},{key:"OnUpdateHide",get:function(){return this._OnUpdateHide}},{key:"OnUpdateView",get:function(){return this._OnUpdateView}},{key:"OnUpdateAnimation",get:function(){return this._OnUpdateAnimation}},{key:"OnClickIsolateButton",get:function(){return this._OnClickIsolateButton}},{key:"OnClickAnimationToggle",get:function(){return this._OnClickAnimationToggle}},{key:"OnClickIntExtToggle",get:function(){return this._OnClickIntExtToggle}},{key:"OnClickUndo",get:function(){return this._OnClickUndo}},{key:"OnClickRedo",get:function(){return this._OnClickRedo}},{key:"OnClickReset",get:function(){return this._OnClickReset}}],[{key:"Instance",get:function(){return i.instance}}]),i}(g),e(W,"instance",null),y=i((T=X).prototype,"includeHighlight",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),G=i(T.prototype,"includeLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=i(T.prototype,"includeFade",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=i(T.prototype,"includeHide",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=i(T.prototype,"includeIsolate",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=i(T.prototype,"includeView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=i(T.prototype,"includeAnimation",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=i(T.prototype,"includeIntExt",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=T))||R));h._RF.pop()}}}));

System.register("chunks:///_virtual/CustomWidget.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,l,f,c,u,d,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty,s=t.createClass},function(t){a=t.cclegacy,l=t._decorator,f=t.CCBoolean,c=t.CCFloat,u=t.find,d=t.UITransform,h=t.Component},function(t){p=t.Utils}],execute:function(){var g,v,y,m,b,C,O,W,P,w,z,x,E,k,H;a._RF.push({},"a6e77IFY2BJ1bNIsL/D9exZ","CustomWidget",void 0);var U=l.ccclass,_=l.property;t("CustomWidget",(g=U("CustomWidget"),v=_(f),y=_(f),m=_(c),b=_(c),C=_(c),O=_(c),g((w=e((P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(o(e),"centerHorizontally",w,o(e)),n(o(e),"centerVertically",z,o(e)),n(o(e),"leftOffset",x,o(e)),n(o(e),"rightOffset",E,o(e)),n(o(e),"bottomOffset",k,o(e)),n(o(e),"topOffset",H,o(e)),r(o(e),"canvas",null),e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.canvas=u("CommonCanvas"),this.canvas||(this.canvas=u("Canvas")),this.canvas?this.Update(this.centerHorizontally,this.centerVertically,this.leftOffset,this.rightOffset,this.topOffset,this.bottomOffset):console.warn("Couldn't find CommonCanvas or Canvas. CustomWidget won't work.")},a.Update=function(t,e,i,n,o,r){if(void 0===t&&(t=void 0),void 0===e&&(e=void 0),void 0===i&&(i=void 0),void 0===n&&(n=void 0),void 0===o&&(o=void 0),void 0===r&&(r=void 0),t){var s=this.node.getWorldPosition();s.x=this.canvas.getWorldPosition().x,this.node.setWorldPosition(s)}if(e){var a=this.node.getWorldPosition();a.y=this.canvas.getWorldPosition().y,this.node.setWorldPosition(a)}var l=this.node.getPosition(),f=this.node.getScale(),c=this.node.getComponent(d).width,u=this.node.getComponent(d).height,h=this.node.getComponent(d).anchorPoint;0!=i&&null!=i&&(l.x=this.leftEnd+this.leftOffset+c*h.x*f.x),0!=n&&null!=n&&(l.x=this.rightEnd-this.rightOffset-c*(1-h.x)*f.x),0!=r&&null!=r&&(l.y=this.bottomEnd+this.bottomOffset+u*h.y*f.y),0!=o&&null!=o&&(l.y=this.topEnd-this.topOffset-u*(1-h.y)*f.y),this.node.setPosition(l)},s(e,[{key:"leftEnd",get:function(){return-p.screenWidth/2}},{key:"rightEnd",get:function(){return p.screenWidth/2}},{key:"topEnd",get:function(){return p.screenHeight/2}},{key:"bottomEnd",get:function(){return-p.screenHeight/2}}]),e}(h)).prototype,"centerHorizontally",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=e(P.prototype,"centerVertically",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=e(P.prototype,"leftOffset",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(P.prototype,"rightOffset",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=e(P.prototype,"bottomOffset",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=e(P.prototype,"topOffset",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=P))||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/SelectableMesh.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,a,i,n,s,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,a=e.defineProperty},function(e){i=e.cclegacy,n=e._decorator,s=e.MeshRenderer,o=e.Material}],execute:function(){var l,c,h,p,u,d,f;i._RF.push({},"ad1edALn09H15IBC3N1I0Df","SelectableMesh",void 0);var b=n.ccclass,M=n.property;e("SelectableMesh",(l=b("SelectableMesh"),c=M({type:s,tooltip:"Meshes that are to be considered for this part."}),h=M({type:o,tooltip:"Materials to be used when fading. The order of the materials should be same as to that of the materials attached in the renderer component."}),l((d=t((u=function(){r(this,"meshRenderer",d,this),r(this,"transparentMaterials",f,this),a(this,"opaqueMaterials",[])}).prototype,"meshRenderer",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(u.prototype,"transparentMaterials",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=u))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleHandler.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventInvoker_T.ts"],(function(e){"use strict";var i,t,n,o,s,r,l,h,c,a,u,f,p,d,g,S,E,k;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty,r=e.createClass},function(e){l=e.cclegacy,h=e._decorator,c=e.SpriteFrame,a=e.CCBoolean,u=e.Sprite,f=e.AudioClip,p=e.Toggle,d=e.AudioSource,g=e.Node,S=e.Color,E=e.Component},function(e){k=e.EventInvoker_T}],execute:function(){var v,C,y,b,O,I,z,M,T,m,_,w,L,x,N,U,W;l._RF.push({},"af4a5EgCv1LK4Q2Puv7Xy9+","ToggleHandler",void 0);var A=h.ccclass,H=h.property;e("ToggleHandler",(v=A("ToggleHandler"),C=H(c),y=H(c),b=H(c),O=H(a),I=H(u),z=H(u),M=H(f),v((_=i((m=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,n(o(i),"offSprite",_,o(i)),n(o(i),"onSprite",w,o(i)),n(o(i),"inactiveSprite",L,o(i)),n(o(i),"showInfo",x,o(i)),n(o(i),"extraSpritesWhenNonChecked",N,o(i)),n(o(i),"extraNodesWhenChecked",U,o(i)),n(o(i),"clickSfx",W,o(i)),s(o(i),"_OnClick",null),s(o(i),"sprite",null),s(o(i),"toggle",null),s(o(i),"audioSource",null),s(o(i),"isInitialized",!1),i}t(i,e);var l=i.prototype;return l.onLoad=function(){this.Initialize(),this.offSprite&&(this.sprite.spriteFrame=this.offSprite)},l.Initialize=function(){this.toggle=this.getComponent(p),this.sprite=this.toggle.target.getComponent(u),this.audioSource=this.getComponent(d),this._OnClick=new k("OnClick",this.node),this.isInitialized=!0},l.onEnable=function(){this.AddListeners()},l.AddListeners=function(){this.showInfo&&(this.node.on(g.EventType.MOUSE_ENTER,this.OnMouseEnter,this),this.node.on(g.EventType.MOUSE_MOVE,this.OnMouseMove,this),this.node.on(g.EventType.MOUSE_LEAVE,this.OnMouseLeave,this)),this.audioSource.stop(),this.clickSfx&&this.audioSource.playOneShot(this.clickSfx),this.toggle.node.on("toggle",this.ClickedToggle,this)},l.OnMouseEnter=function(e){},l.OnMouseMove=function(e){},l.OnMouseLeave=function(e){},l.ClickedToggle=function(e){this.isOn=e.isChecked,e.isChecked?this.Selected():this.Unselected(),this._OnClick.Invoke(this.toggle)},l.Selected=function(){this.onSprite&&(this.sprite.spriteFrame=this.onSprite)},l.Unselected=function(){this.offSprite&&(this.sprite.spriteFrame=this.offSprite)},l.onDisable=function(){this.RemoveListeners()},l.RemoveListeners=function(){this.showInfo&&(this.node.off(g.EventType.MOUSE_ENTER,this.OnMouseEnter,this),this.node.off(g.EventType.MOUSE_MOVE,this.OnMouseMove,this),this.node.off(g.EventType.MOUSE_LEAVE,this.OnMouseLeave,this)),this.toggle.node.off("toggle",this.ClickedToggle,this)},r(i,[{key:"OnClick",get:function(){return this.isInitialized||this.Initialize(),this._OnClick}},{key:"isOn",get:function(){return this.isInitialized||this.Initialize(),this.toggle.isChecked},set:function(e){this.isInitialized||this.Initialize(),this.toggle.setIsCheckedWithoutNotify(e),e?this.Selected():this.Unselected()}},{key:"interactable",get:function(){return this.isInitialized||this.Initialize(),this.toggle.interactable},set:function(e){this.isInitialized||this.Initialize(),this.extraSpritesWhenNonChecked.forEach((function(i){i.color=e?S.WHITE:new S(141,141,141,255)})),this.extraNodesWhenChecked.forEach((function(i){i.color=e?S.WHITE:new S(141,141,141,255)})),this.toggle.interactable=e}}]),i}(E)).prototype,"offSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(m.prototype,"onSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(m.prototype,"inactiveSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(m.prototype,"showInfo",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=i(m.prototype,"extraSpritesWhenNonChecked",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(m.prototype,"extraNodesWhenChecked",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(m.prototype,"clickSfx",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=m))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/ModelController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./CameraTarget.ts","./Utils.ts","./CameraController.ts","./ModelFade.ts","./ModelSelect.ts"],(function(e){"use strict";var t,a,r,n,i,o,s,l,c,u,h,m,f,d,v,g,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty,o=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.CCFloat,h=e.v3,m=e.Vec3,f=e.Component},function(e){d=e.CameraTarget},function(e){v=e.Utils},function(e){g=e.CameraController},function(e){b=e.ModelFade},function(e){p=e.ModelSelect}],execute:function(){var P,S,C,x,I,w,y,T,Z,F,M,z,Y,H,X,G,L;s._RF.push({},"b3757tShHNAqbsnp+N5BaYs","ModelController",void 0);var N=l.ccclass,_=l.property;e("ModelController",(P=N("ModelController"),S=_(c),C=_(u),x=_(u),I=_(u),w=_(u),y=_(u),T=_(u),P((M=t((F=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"target",M,n(t)),r(n(t),"minZoom",z,n(t)),r(n(t),"maxZoom",Y,n(t)),r(n(t),"minPanX",H,n(t)),r(n(t),"maxPanX",X,n(t)),r(n(t),"minPanY",G,n(t)),r(n(t),"maxPanY",L,n(t)),i(n(t),"cameraTarget",null),i(n(t),"selectableParts",[]),i(n(t),"parts",[]),i(n(t),"nonSelectableParts",[]),i(n(t),"previousState",null),i(n(t),"currentState",null),t}a(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;this.node.getComponentsInChildren(b).forEach((function(t){t.isSelectable?e.selectableParts.push(t):e.nonSelectableParts.push(t)}));for(var t=0;t<this.selectableParts.length;t++)this.parts.push(this.selectableParts[t].Name);this.addComponent(p).Initialize(this.selectableParts)},s.start=function(){this.cameraTarget=this.GetCameraTarget(),g.Instance.ChangeTarget(this.cameraTarget)},s.GetCameraTarget=function(){var e=new d;return e.node=this.target,e.minZoom=this.minZoom,e.maxZoom=this.maxZoom,e.minPanX=this.minPanX,e.maxPanX=this.maxPanX,e.minPanY=this.minPanY,e.maxPanY=this.maxPanY,e},s.Initialize=function(e){this.previousState=e,this.currentState=e},s.SetState=function(e){return this.previousState=this.currentState,this.currentState=e,this.UpdateView(e.viewIndex),this.Highlight(this.currentState.highlight),this.Label(this.currentState.label),this.Fade(this.currentState.fade),this.Hide(this.currentState.hide),this.Isolate(this.currentState.isolate),this.currentState.Clone()},s.UpdateView=function(e){if(this.previousState.viewIndex!=e)switch(e){case 0:for(var t,a=o(this.currentState.highlight.entries());!(t=a()).done;){var r=t.value;this.currentState.highlight.set(r[0],!1)}for(var n,i=o(this.currentState.label.entries());!(n=i()).done;){var s=n.value;this.currentState.label.set(s[0],!1)}for(var l,c=o(this.currentState.fade.entries());!(l=c()).done;){var u=l.value;this.currentState.fade.set(u[0],!1)}for(var h,m=o(this.currentState.hide.entries());!(h=m()).done;){var f=h.value;this.currentState.hide.set(f[0],!this.currentState.isolate.get(f[0]))}break;case 1:for(var d,v=o(this.currentState.highlight.entries());!(d=v()).done;){var g=d.value;this.currentState.highlight.set(g[0],!1)}for(var b,p=o(this.currentState.label.entries());!(b=p()).done;){var P=b.value;this.currentState.label.set(P[0],!1)}for(var S,C=o(this.currentState.fade.entries());!(S=C()).done;){var x=S.value;this.currentState.fade.set(x[0],!0)}}},s.Highlight=function(e){for(var t,a=o(e.entries());!(t=a()).done;){var r=t.value;this.selectableParts[r[0]].Highlight(r[1])}},s.Label=function(e){for(var t,a=o(e.entries());!(t=a()).done;){var r=t.value;this.selectableParts[r[0]].ShowLabel(r[1])}},s.Fade=function(e){for(var t,a=o(e.entries());!(t=a()).done;){var r=t.value;this.selectableParts[r[0]].Fade(r[1])}},s.Hide=function(e){for(var t,a=o(e.entries());!(t=a()).done;){var r=t.value;this.selectableParts[r[0]].Hide(r[1])}},s.Isolate=function(e){var t=this;if(!v.AreMapsIdentical(this.previousState.isolate,e)){for(var a,r=[],n=o(e.entries());!(a=n()).done;){var i=a.value;i[1]&&r.push(i[0])}this.nonSelectableParts.forEach((function(e){e.Hide(r.length!=t.selectableParts.length)})),g.Instance.ChangeTarget(this.GetCameraTargetForIsolatedModels(r))}},s.ResetCamera=function(){g.Instance.ChangeTarget(this.cameraTarget)},s.GetCameraTargetForIsolatedModels=function(e){var t=this;if(e.length==this.selectableParts.length)return this.cameraTarget;var a=h(0,0,0),r=0,n=0;e.forEach((function(e){var i=t.selectableParts[e].GetCameraTarget();m.add(a,a,i.node.getWorldPosition()),i.minZoom>r&&(r=i.minZoom),i.maxZoom>n&&(n=i.maxZoom)})),a.multiplyScalar(1/e.length);var i=new c("CameraTarget");i.setWorldPosition(a);var o=new d;return o.node=i,o.minZoom=r,o.maxZoom=n,o.minPanX=0,o.maxPanX=0,o.minPanY=0,o.maxPanY=0,o},s.SetSelectionOfParts=function(e){this.selectableParts.forEach((function(t){t.SetSelection(e)}))},s.GetPartIndexFromId=function(e){for(var t=0;t<this.selectableParts.length;t++)if(this.selectableParts[t].Id==e)return t;return-1},s.GetPartIdFromIndex=function(e){return this.selectableParts[e].Id},s.GetPartNames=function(){return this.parts},t}(f)).prototype,"target",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(F.prototype,"minZoom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=t(F.prototype,"maxZoom",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=t(F.prototype,"minPanX",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(F.prototype,"maxPanX",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=t(F.prototype,"minPanY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(F.prototype,"maxPanY",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=F))||Z));s._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Vector.ts"],(function(t){"use strict";var i,o,n,e,a,s,r,h,m,c,l,u,g,P,d,p,f,v,O,T,y,C,S,E,x,Z;return{setters:[function(t){i=t.defineProperty,o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,h=t._decorator,m=t.CCFloat,c=t.AudioClip,l=t.Quat,u=t.v3,g=t.v2,P=t.AudioSource,d=t.input,p=t.Input,f=t.Vec2,v=t.clamp,O=t.PhysicsSystem,T=t.lerp,y=t.Vec3,C=t.tween,S=t.Rect,E=t.Camera,x=t.Component},function(t){Z=t.Vector}],execute:function(){var z,D,M,A,Y,b,X,U,R,N,w,L,_,H,F;t("CameraInteraction",void 0),r._RF.push({},"bae4a0LKsVDE4Q+LnvrTdkc","CameraController",void 0);var W,V=h.ccclass,I=h.property;!function(t){t[t.TOUCH=0]="TOUCH",t[t.ZOOMIN=1]="ZOOMIN",t[t.ZOOMOUT=2]="ZOOMOUT",t[t.ROTATE=3]="ROTATE",t[t.PAN=4]="PAN",t[t.RESET=5]="RESET"}(W||(W=t("CameraInteraction",{})));t("CameraController",(z=V("CameraController"),D=I(m),M=I(c),z((F=H=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,e(a(o),"rotateSensitivity",b,a(o)),e(a(o),"minDragToleranceForRotating",X,a(o)),e(a(o),"zoomSensitivity",U,a(o)),e(a(o),"scrollSensitivity",R,a(o)),e(a(o),"zoomAtCursor",N,a(o)),e(a(o),"panTouchSensitivity",w,a(o)),e(a(o),"panSensitivity",L,a(o)),e(a(o),"focusClip",_,a(o)),i(a(o),"cameraNode",null),i(a(o),"cameraPivotOriginalRotation",new l),i(a(o),"cameraOriginalPosition",u(0,0,0)),i(a(o),"shouldOrbit",!1),i(a(o),"isActive",!0),i(a(o),"cameraTarget",null),i(a(o),"position",u(0,0,0)),i(a(o),"cameraTargetZoomPosition",u(0,0,0)),i(a(o),"touchStartPos",g(0,0)),i(a(o),"deltaDragX",0),i(a(o),"deltaDragY",0),i(a(o),"rotation",new l),i(a(o),"minZoom",1),i(a(o),"maxZoom",2),i(a(o),"zoom",0),i(a(o),"minPanX",1),i(a(o),"maxPanX",2),i(a(o),"minPanY",1),i(a(o),"maxPanY",2),i(a(o),"isMousePanning",!1),i(a(o),"pan",u(0,0,0)),i(a(o),"minAngleX",-90),i(a(o),"maxAngleX",90),i(a(o),"minAngleY",-360),i(a(o),"maxAngleY",360),i(a(o),"isFocusing",!1),i(a(o),"audioSource",null),o}n(o,t);var r=o.prototype;return r.onLoad=function(){o.instance=this,this.cameraNode=this.node.children[0],this.audioSource=this.getComponent(P),this.zoom=this.cameraNode.getPosition().z,this.position=this.node.getPosition(),this.cameraPivotOriginalRotation=this.node.getRotation(),this.cameraOriginalPosition=this.cameraNode.getPosition(),this.cameraTargetZoomPosition=this.cameraNode.getPosition()},r.onEnable=function(){this.AddListeners()},r.AddListeners=function(){d.on(p.EventType.TOUCH_START,this.OnTouchStart,this),d.on(p.EventType.TOUCH_MOVE,this.OnTouchMove,this),d.on(p.EventType.TOUCH_END,this.OnTouchEnd,this),d.on(p.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),d.on(p.EventType.MOUSE_WHEEL,this.OnScroll,this),d.on(p.EventType.MOUSE_DOWN,this.OnMouseDown,this),d.on(p.EventType.MOUSE_UP,this.OnMouseUp,this),d.on(p.EventType.MOUSE_MOVE,this.OnMouseMove,this)},r.OnTouchStart=function(t){this.isActive&&(this.touchStartPos=t.getLocation(),this.node.emit("OnCameraUpdate",W.TOUCH))},r.OnTouchMove=function(t){if(this.isActive&&!this.isMousePanning){var i=t.getAllTouches();switch(i.length){case 1:var o=i[0].getLocation();if(f.distance(o,this.touchStartPos)<this.minDragToleranceForRotating)return;var n=i[0].getDelta();this.deltaDragX+=n.y*this.rotateSensitivity/10,this.deltaDragY-=n.x*this.rotateSensitivity/10,this.deltaDragX%=360,this.deltaDragY%=360,this.deltaDragX=v(this.deltaDragX,this.minAngleX,this.maxAngleX),this.deltaDragY=v(this.deltaDragY,this.minAngleY,this.maxAngleY),this.rotation=l.fromEuler(new l,this.deltaDragX,this.deltaDragY,0),this.node.emit("OnCameraUpdate",W.ROTATE);break;case 2:this.PerformZoomByPinch(i),this.PerformPanByTwoFingers(i)}}},r.PerformZoomByPinch=function(t){var i=t[0].getPreviousLocation(),o=t[1].getPreviousLocation(),n=t[0].getLocation(),e=t[1].getLocation(),a=(f.distance(i,o)-f.distance(n,e))*this.zoomSensitivity/1e3;this.CameraZoom(a,u(0,0,0))},r.PerformPanByTwoFingers=function(t){var i=t[0].getDelta().x,o=t[0].getDelta().y,n=t[1].getDelta().x,e=t[1].getDelta().y;if(i<0&&n<0||i>0&&n>0||o<0&&e<0||o>0&&e>0){var a=u((i+n)/2*this.panTouchSensitivity,(o+e)/2*this.panTouchSensitivity,0);this.CameraPan(a)}},r.OnTouchEnd=function(t){this.isActive},r.OnScroll=function(t){if(this.isActive){var i=u(0,0,0);if(this.zoomAtCursor){var o=this.IsHittingSomething(g(t.getLocationX(),t.getLocationY()));null!=o?this.node.inverseTransformPoint(i,o):i=u(0,0,0)}else i=u(0,0,0);var n=-t.getScrollY()/1e3*this.scrollSensitivity;this.CameraZoom(n,i)}},r.IsHittingSomething=function(t){var i=this.camera.screenPointToRay(t.x,t.y);return O.instance.raycastClosest(i)?O.instance.raycastClosestResult.collider.node.getParent().getChildByName("Pivot").getWorldPosition():null},r.CameraZoom=function(t,i){var o=this.zoom;if(this.zoomAtCursor){var n=this.cameraNode.getPosition(),e=Z.GetDirection(i,n,!0),a=Z.Multiply(e,t),s=Z.Add(n,a).z-i.z;if(s<this.minZoom?s=this.minZoom:s>this.maxZoom&&(s=this.maxZoom),s!=this.zoom){this.zoom=s;var r=(this.zoom-this.minZoom)/(this.maxZoom-this.minZoom);this.cameraTargetZoomPosition.x=T(i.x,0,r),this.cameraTargetZoomPosition.y=T(i.y,0,r),this.cameraTargetZoomPosition.z=this.zoom}}else this.zoom=this.cameraNode.getPosition().z+t,this.zoom<this.minZoom?this.zoom=this.minZoom:this.zoom>this.maxZoom&&(this.zoom=this.maxZoom);o!=this.zoom&&this.node.emit("OnCameraUpdate",o<this.zoom?W.ZOOMOUT:W.ZOOMIN)},r.OnMouseDown=function(t){this.isActive&&2==t.getButton()&&(this.isMousePanning=!0)},r.OnMouseUp=function(t){this.isActive&&2==t.getButton()&&(this.isMousePanning=!1)},r.OnMouseMove=function(t){if(this.isActive&&this.isMousePanning){var i=u(t.getDeltaX()*this.panSensitivity,t.getDeltaY()*this.panSensitivity,0);this.CameraPan(i)}},r.CameraPan=function(t){var i=this.pan.clone();y.subtract(this.pan,this.cameraNode.getPosition(),t),this.pan.x<this.minPanX?this.pan.x=this.minPanX:this.pan.x>this.maxPanX&&(this.pan.x=this.maxPanX),this.pan.y<this.minPanY?this.pan.y=this.minPanY:this.pan.y>this.maxPanY&&(this.pan.y=this.maxPanY),i.equals(this.pan,0)&&this.node.emit("OnCameraUpdate",W.PAN)},r.Reset=function(t){void 0===t&&(t=!0),this.touchStartPos=g(0,0),this.deltaDragX=0,this.deltaDragY=0,this.isMousePanning=!1,this.isFocusing=!1,this.shouldOrbit=!1,this.pan=u((this.minPanX+this.maxPanX)/2,(this.minPanY+this.maxPanY)/2,0),this.zoom=(this.minZoom+this.maxZoom)/2,this.position=this.cameraTarget.getWorldPosition(),this.rotation=this.cameraTarget.getWorldRotation(),this.cameraOriginalPosition=u(0,0,this.zoom),this.cameraTargetZoomPosition=u(0,0,this.zoom),this.isActive=!0,this.shouldOrbit=!1,t&&this.node.emit("OnCameraUpdate",W.RESET)},r.ChangeTarget=function(t){this.touchStartPos=g(0,0),this.deltaDragX=0,this.deltaDragY=0,this.isMousePanning=!1,this.minZoom=t.minZoom,this.maxZoom=t.maxZoom,this.maxPanX=-1*t.minPanX,this.minPanX=-1*t.maxPanX,this.maxPanY=-1*t.minPanY,this.minPanY=-1*t.maxPanY,this.pan=u((this.minPanX+this.maxPanX)/2,(this.minPanY+this.maxPanY)/2,0),this.zoom=(this.minZoom+this.maxZoom)/2,this.cameraTarget=t.node,this.position=t.node.getWorldPosition(),this.rotation=t.node.getWorldRotation(),this.cameraOriginalPosition=u(0,0,this.zoom),this.cameraTargetZoomPosition=u(0,0,this.zoom)},r.Orbit=function(){this.shouldOrbit=!0},r.Focus=function(t,i){var o=this;this.touchStartPos=g(0,0),this.deltaDragX=0,this.deltaDragY=0,this.isMousePanning=!1,this.isFocusing=!0,this.minZoom=t.minZoom,this.maxZoom=t.maxZoom,this.minPanX=t.minPanX,this.maxPanX=t.maxPanX,this.minPanY=t.minPanY,this.maxPanY=t.maxPanY,this.pan=u((this.minPanX+this.maxPanX)/2,(this.minPanY+this.maxPanY)/2,0),this.zoom=(this.minZoom+this.maxZoom)/2,this.cameraTarget=t.node,this.position=t.node.getWorldPosition(),this.rotation=t.node.getWorldRotation(),this.cameraOriginalPosition=u(0,0,this.zoom),this.cameraTargetZoomPosition=u(0,0,this.zoom),C(this.node).to(i,{worldPosition:t.node.getWorldPosition(),worldRotation:t.node.getWorldRotation()},{easing:"sineOut"}).start();var n=u(0,0,(t.minZoom+t.maxZoom)/2);C(this.cameraNode).to(i,{position:n},{easing:"sineOut"}).call((function(){o.isFocusing=!1})).start(),this.audioSource.stop(),this.focusClip&&this.audioSource.playOneShot(this.focusClip,.5)},r.SetViewPort=function(t){this.camera.rect=t},r.ResetViewPort=function(){this.camera.rect=new S(0,0,1,1)},r.update=function(t){if(!this.isFocusing){this.shouldOrbit&&(this.deltaDragY+=10*t,this.rotation=l.fromEuler(new l,this.deltaDragX,this.deltaDragY,0)),this.node.setPosition(y.lerp(u(0,0,0),this.node.getPosition(),this.position,10*t)),this.node.setRotation(l.slerp(new l,this.node.getRotation(),this.rotation,10*t));var i=u(0,0,0);if(this.zoomAtCursor)y.lerp(i,this.cameraNode.getPosition(),this.cameraTargetZoomPosition,10*t);else{var o=u(0,0,0);y.lerp(o,this.cameraNode.getPosition(),this.pan,10*t);var n=T(this.cameraNode.getPosition().z,this.zoom,10*t);i=u(o.x,o.y,n)}this.cameraNode.setPosition(i)}},r.onDisable=function(){this.RemoveListeners()},r.RemoveListeners=function(){d.off(p.EventType.TOUCH_START,this.OnTouchStart,this),d.off(p.EventType.TOUCH_MOVE,this.OnTouchMove,this),d.off(p.EventType.TOUCH_END,this.OnTouchEnd,this),d.off(p.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),d.off(p.EventType.MOUSE_WHEEL,this.OnScroll,this),d.off(p.EventType.MOUSE_DOWN,this.OnMouseDown,this),d.off(p.EventType.MOUSE_UP,this.OnMouseUp,this),d.off(p.EventType.MOUSE_MOVE,this.OnMouseMove,this)},s(o,[{key:"camera",get:function(){return this.cameraNode.getComponent(E)}}],[{key:"Instance",get:function(){return o.instance}}]),o}(x),i(H,"instance",null),b=o((Y=F).prototype,"rotateSensitivity",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=o(Y.prototype,"minDragToleranceForRotating",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=o(Y.prototype,"zoomSensitivity",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),R=o(Y.prototype,"scrollSensitivity",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),N=o(Y.prototype,"zoomAtCursor",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=o(Y.prototype,"panTouchSensitivity",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),L=o(Y.prototype,"panSensitivity",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),_=o(Y.prototype,"focusClip",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=Y))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/TextLoader.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./StepController.ts"],(function(t){"use strict";var i,e,n,o,r,a,s,c,l,h,u,d,y,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,c=t.Enum,l=t.CCString,h=t.CCBoolean,u=t.Label,d=t.RichText,y=t.Component},function(t){p=t.StepController}],execute:function(){var f,T,g,L,b,m,C,x,M;t("Dictionary",void 0),a._RF.push({},"be9cajcFaBPoIUIQ7HVx0nK","TextLoader",void 0);var O,S=s.ccclass,v=s.property;!function(t){t[t.COMMON=0]="COMMON",t[t.GAME_TEXTS=1]="GAME_TEXTS"}(O||(O=t("Dictionary",{}))),c(O);t("TextLoader",(f=S("TextLoader"),T=v({type:O}),g=v(l),L=v({type:h,tooltip:"Should set the text in start?"}),f((C=i((m=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,n(o(i),"dictionary",C,o(i)),n(o(i),"key",x,o(i)),n(o(i),"autoLoad",M,o(i)),r(o(i),"label",null),r(o(i),"richText",null),r(o(i),"isInitialized",!1),i}e(i,t);var a=i.prototype;return a.onLoad=function(){this.Initialize()},a.Initialize=function(){this.isInitialized||(this.label=this.getComponent(u),this.richText=this.getComponent(d),this.isInitialized=!0)},a.start=function(){this.autoLoad&&this.ChangeKey(this.key),p.instance.OnJsonLoad.AddListener(this.OnJsonLoad,this)},a.OnJsonLoad=function(){this.ChangeKey(this.key)},a.ChangeKey=function(t,i){if(void 0===i&&(i=void 0),null!=t&&""!=t&&(this.key=t,null==i&&(i=this.dictionary),(i!=O.COMMON||p.instance.common)&&(i!=O.GAME_TEXTS||p.instance.gameTexts))){var e="";switch(i){case O.COMMON:e=p.instance.common[this.key];break;case O.GAME_TEXTS:e=p.instance.gameTexts[this.key]}null!=e&&""!=e?this.Set(e):console.error("Key: "+t+" does not exist in the dictionary: "+this.dictionary.toString()+": "+this.node.parent.name)}},a.Set=function(t){this.Initialize(),this.label&&(this.label.string=t),this.richText&&(this.richText.string=t)},a.onDestroy=function(){p.instance.OnJsonLoad.RemoveListener(this.OnJsonLoad,this)},i}(y)).prototype,"dictionary",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.GAME_TEXTS}}),x=i(m.prototype,"key",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"key"}}),M=i(m.prototype,"autoLoad",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=m))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/Labelling.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Vector.ts","./CameraController.ts","./TextLoader.ts"],(function(e){"use strict";var t,n,i,o,a,l,s,r,h,c,d,u,p,C,b,g,f,m,y,v,L,P,w,N,S,A,T,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty,l=e.createClass},function(e){s=e.cclegacy,r=e._decorator,h=e.CCString,c=e.Node,d=e.Vec3,u=e.CCFloat,p=e.CCBoolean,C=e.v3,b=e.Color,g=e.MeshRenderer,f=e.Line,m=e.Camera,y=e.instantiate,v=e.UITransform,L=e.UIOpacity,P=e.lerp,w=e.clamp,N=e.find,S=e.Component},function(e){A=e.Vector},function(e){T=e.CameraController},function(e){U=e.TextLoader}],execute:function(){var I,W,O,_,B,z,R,H,E,G,k,D,K,x,F;s._RF.push({},"bf676Z+GBJAaoBBOzRwJ+Se","Labelling",void 0);var M=r.ccclass,V=r.property;e("Labelling",(I=M("Labelling"),W=V(h),O=V(c),_=V(d),B=V(u),z=V(p),R=V(p),I((G=t((E=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,i(o(t),"labelKey",G,o(t)),i(o(t),"pivot",k,o(t)),i(o(t),"angle",D,o(t)),i(o(t),"length",K,o(t)),i(o(t),"autoHide",x,o(t)),i(o(t),"autoShow",F,o(t)),a(o(t),"_canvas",null),a(o(t),"cameraNode",null),a(o(t),"camera",null),a(o(t),"cone",null),a(o(t),"coneRendererPass",null),a(o(t),"coneColorId",0),a(o(t),"coneColor",new b(255,255,255,255)),a(o(t),"coneEnd",null),a(o(t),"line",null),a(o(t),"lineColor",new b(255,255,255,255)),a(o(t),"labelNode",null),a(o(t),"labelUITransform",null),a(o(t),"labelUIOpacity",null),a(o(t),"isLabelCreated",!1),a(o(t),"targetAlpha",0),a(o(t),"currentAlpha",0),a(o(t),"controlTransparency",!1),a(o(t),"shouldShow",!1),t}n(t,e);var s=t.prototype;return s.onLoad=function(){this.cone=this.node.getChildByName("Cone"),this.coneRendererPass=this.cone.getComponent(g).material.passes[0],this.coneColorId=this.coneRendererPass.getHandle("mainColor"),this.coneRendererPass.getUniform(this.coneColorId,this.coneColor),this.coneEnd=this.cone.getChildByName("End"),this.line=this.node.getChildByName("Line").getComponent(f),this.lineColor=this.line.color.color},s.start=function(){this.cameraNode=T.Instance.camera.node,this.camera=this.cameraNode.getComponent(m),this.shouldShow=this.autoHide,this.controlTransparency=this.autoHide,this.targetAlpha=255,this.line.positions=[this.coneEnd.getWorldPosition(),this.coneEnd.getWorldPosition()],this.isLabelCreated||this.CreateLabel(),this.autoShow&&this.Show()},s.CreateLabel=function(){var e=this.canvas.getChildByName("Labels").children[0];this.labelNode=y(e),this.labelNode.name=this.labelKey,this.labelNode.setParent(e.getParent()),this.labelNode.getComponent(U).ChangeKey(this.labelKey),this.labelUITransform=this.labelNode.getComponent(v),this.labelUIOpacity=this.labelNode.getComponent(L),this.labelUIOpacity.opacity=0,this.labelNode.active=!0,this.isLabelCreated=!0},s.update=function(e){this.UpdateCone(),this.UpdateLine(e),this.UpdateLabel(),this.controlTransparency&&(this.targetAlpha=this.GetTransparency()),this.currentAlpha=P(this.currentAlpha,this.targetAlpha,10*e),this.SetTransparency(this.currentAlpha)},s.UpdateCone=function(){this.cone.setWorldPosition(this.pivot.getWorldPosition()),this.cone.setWorldRotationFromEuler(this.angle.x,this.angle.y,this.angle.z);var e=d.distance(this.cameraNode.getWorldPosition(),this.pivot.getWorldPosition());e*=.001,this.cone.setWorldScale(C(e,e,e))},s.UpdateLine=function(e){var t=[];t.push(this.coneEnd.getWorldPosition());var n=A.GetDirection(this.pivot.getWorldPosition(),this.coneEnd.getWorldPosition(),!0),i=A.Add(t[0],A.Multiply(n,this.length));t.push(d.lerp(i,this.line.positions[1],i,5*e)),this.line.positions=t;var o=d.distance(this.cameraNode.getWorldPosition(),this.pivot.getWorldPosition());this.line.width.constant=o/250},s.UpdateLabel=function(){var e=this.camera.convertToUINode(this.line.positions[1],this.labelNode.getParent());this.labelNode.setPosition(e)},s.GetTransparency=function(){var e=255;return this.pivot.activeInHierarchy?this.autoHide&&(e=this.GetTransparencyBasedOnCamera()):e=0,e},s.GetTransparencyBasedOnCamera=function(){var e=A.GetDirection(this.pivot.getWorldPosition(),this.cameraNode.getWorldPosition(),!1),t=A.GetDirection(this.pivot.getWorldPosition(),this.line.positions[1],!1),n=d.dot(e,t);return n<0?P(255,0,w(-n,0,.2)/.2):255},s.SetTransparency=function(e){this.SetAlphaOfCone(e),this.SetAlphaOfLine(e),this.labelUIOpacity.opacity=e},s.SetAlphaOfCone=function(e){this.coneColor.a=e,this.coneRendererPass.setUniform(this.coneColorId,this.coneColor)},s.SetAlphaOfLine=function(e){this.lineColor.a=e,this.line.color.color=this.lineColor},s.Show=function(){this.unscheduleAllCallbacks(),this.isLabelCreated||this.CreateLabel(),this.node.active=!0,this.labelNode.active=!0,this.shouldShow=!0,this.controlTransparency=!0},s.Hide=function(){var e=this;this.unscheduleAllCallbacks(),this.shouldShow=!1,this.controlTransparency=!1,this.targetAlpha=0,this.scheduleOnce((function(){e.node.active=!1,e.labelNode.active=!1}),.5)},l(t,[{key:"isShown",get:function(){return this.shouldShow}},{key:"canvas",get:function(){return null==this._canvas&&(this._canvas=N("CommonCanvas"),null==this._canvas&&(this._canvas=N("Canvas")),null==this._canvas&&console.warn("CommonCanvas or Canvas not present in the scene. Labels won't work.")),this._canvas}}]),t}(S)).prototype,"labelKey",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=t(E.prototype,"pivot",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"angle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C(0,0,0)}}),K=t(E.prototype,"length",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(E.prototype,"autoHide",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=t(E.prototype,"autoShow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=E))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/Alignment.ts",["cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy,e=t.Enum}],execute:function(){n._RF.push({},"c5d287fIhZAK7ZbN2YLh56D","Alignment",void 0);t("Alignment",e({LEFT:0,RIGHT:1}));n._RF.pop()}}}));

System.register("chunks:///_virtual/EventInvoker.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"ccbc8LQ9UhCxb55Q1MYKzOt","EventInvoker",void 0);e("EventInvoker",function(){function e(e,n){t(this,"eventName",""),t(this,"node",void 0),this.eventName=e,this.node=n}var n=e.prototype;return n.AddListener=function(e,t){this.node.on(this.eventName,e,t)},n.RemoveListener=function(e,t){this.node.off(this.eventName,e,t)},n.Invoke=function(){this.node.emit(this.eventName)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ModelSelector.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseInteractableModel.ts","./EventInvoker_T.ts","./RaycastHandler.ts"],(function(t){"use strict";var e,n,o,c,i,r,s,l,a,h,u,d,f,M;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,o=t.assertThisInitialized,c=t.createClass},function(t){i=t.cclegacy,r=t._decorator,s=t.sys,l=t.input,a=t.Input,h=t.v2,u=t.Component},function(t){d=t.BaseInteractableModel},function(t){f=t.EventInvoker_T},function(t){M=t.RaycastHandler}],execute:function(){var T;i._RF.push({},"d81aapJ2KZPh4accrHLn6ts","ModelSelector",void 0);var v=r.ccclass;r.property,t("ModelSelector",v("ModelSelector")(T=function(t){function i(){for(var e,c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(o(e),"currentInteractableModel",null),n(o(e),"isMobileDevice",!1),n(o(e),"startEventTouch",null),n(o(e),"_OnModelSelected",void 0),e}e(i,t);var r=i.prototype;return r.onLoad=function(){this.isMobileDevice=s.platform==s.Platform.MOBILE_BROWSER||s.platform==s.Platform.ANDROID||s.platform==s.Platform.IOS,this._OnModelSelected=new f("OnModelSelected",this.node),l.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.isMobileDevice||l.on(a.EventType.MOUSE_WHEEL,this.OnScroll,this)},r.start=function(){M.Instance.OnRaycastHit.AddListener(this.onRaycastHit,this)},r.onRaycastHit=function(t){if(!this.currentInteractableModel&&t){console.log("Object Hit: "+t.collider.node.name,t.collider.getMask());var e=t.collider.node;this.currentInteractableModel=e.getComponent(d),this.currentInteractableModel&&(this._OnModelSelected.Invoke(this.currentInteractableModel),this.currentInteractableModel.OnTouchStart(this.startEventTouch),this.currentInteractableModel.EnableInteraction(),this.isMobileDevice?(l.on(a.EventType.TOUCH_END,this.onTouchEnd,this),l.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)):l.on(a.EventType.MOUSE_UP,this.onMouseUp,this))}},r.onTouchStart=function(t){this.startEventTouch=t},r.onTouchEnd=function(t){t.getTouches().length<=0&&(this.resetInteraction(),l.off(a.EventType.TOUCH_END,this.onTouchEnd,this),l.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},r.onMouseUp=function(t){this.resetInteraction(),l.off(a.EventType.MOUSE_UP,this.onMouseUp,this)},r.resetInteraction=function(){this.currentInteractableModel&&(this.currentInteractableModel.DisableInteraction(),this.currentInteractableModel=null)},r.OnScroll=function(t){var e=M.Instance.raycastClosest(h(t.getLocationX(),t.getLocationY()));if(e){var n=e.collider.node.getComponent(d);n&&n.OnScroll(t)}},r.onDestroy=function(){l.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.isMobileDevice||l.off(a.EventType.MOUSE_WHEEL,this.OnScroll,this)},c(i,[{key:"OnModelSelected",get:function(){return this._OnModelSelected}}]),i}(u))||T);i._RF.pop()}}}));

System.register("chunks:///_virtual/CheckboxPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventInvoker_T.ts","./Utils.ts","./Alignment.ts","./TextLoader.ts","./CheckboxHandler.ts"],(function(e){"use strict";var t,i,n,o,h,s,c,l,r,a,u,d,b,f,k,x,p,S,g,C,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,h=e.defineProperty,s=e.createClass},function(e){c=e.cclegacy,l=e._decorator,r=e.CCInteger,a=e.AudioClip,u=e.UITransform,d=e.Layout,b=e.AudioSource,f=e.instantiate,k=e.tween,x=e.Component},function(e){p=e.EventInvoker_T},function(e){S=e.Utils},function(e){g=e.Alignment},function(e){C=e.Dictionary},function(e){m=e.CheckboxHandler}],execute:function(){var v,y,w,O,I,P,H,T,L,z,U,G,R,_,A,B,E;c._RF.push({},"d8b48dbj3ZLuLEyKghOXibM","CheckboxPanel",void 0);var W=l.ccclass,D=l.property;e("CheckboxPanel",(v=W("CheckboxPanel"),y=D(r),w=D({type:g}),O=D({type:r,tooltip:"Number of options that can be selected. -1 means no limit"}),I=D(a),P=D(a),H=D(a),T=D(a),v((U=t((z=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,n(o(t),"maxHeightOfPanel",U,o(t)),n(o(t),"alignment",G,o(t)),n(o(t),"maxSelectableOptions",R,o(t)),n(o(t),"showSfx",_,o(t)),n(o(t),"hideSfx",A,o(t)),n(o(t),"checkboxSelectedSfx",B,o(t)),n(o(t),"checkboxUnselectedSfx",E,o(t)),h(o(t),"_OnClickCheckbox",null),h(o(t),"_OnCheckboxUpdate",null),h(o(t),"interactionButton",null),h(o(t),"uiTransform",null),h(o(t),"arrow",null),h(o(t),"layout",null),h(o(t),"scrollview",null),h(o(t),"scrollbar",null),h(o(t),"view",null),h(o(t),"scrollviewLayout",null),h(o(t),"buttonHeight",0),h(o(t),"panelWidth",0),h(o(t),"audioSource",null),h(o(t),"checkboxes",[]),h(o(t),"numberOfOptions",0),h(o(t),"checkboxesSelected",[]),t}i(t,e);var c=t.prototype;return c.onLoad=function(){this._OnClickCheckbox=new p("OnClickCheckbox",this.node),this._OnCheckboxUpdate=new p("OnCheckboxUpdate",this.node)},c.InitializeWithoutOptions=function(e,t){this.InitializeInternal(e,t)},c.Initialize=function(e,t,i){this.numberOfOptions=t.length,this.InitializeInternal(e,this.numberOfOptions);var n=[];t.forEach((function(e){n.push(C.GAME_TEXTS)})),this.Setup(t,i,n),this.Show()},c.InitializeInternal=function(e,t){this.GetReferences(),this.buttonHeight=this.layout.node.getChildByName("ButtonPanel")?this.layout.node.getChildByName("ButtonPanel").getComponent(u).height:0,this.panelWidth=this.uiTransform.width,this.interactionButton=e,this.InitializeUI(),this.InitializeCheckboxes(t)},c.GetReferences=function(){this.uiTransform=this.getComponent(u),this.arrow=this.node.children[0],this.layout=this.node.children[1].getComponent(u),this.scrollview=this.layout.node.children[0].getComponent(u),this.scrollbar=this.scrollview.node.children[0],this.view=this.scrollview.node.children[1].getComponent(u),this.scrollviewLayout=this.view.node.children[0].getComponent(d),this.audioSource=this.getComponent(b)},c.InitializeUI=function(){var e=this.alignment==g.RIGHT?0:1;this.uiTransform.setAnchorPoint(e,1),this.arrow.setRotationFromEuler(0,this.alignment==g.RIGHT?0:180,0),this.layout.setAnchorPoint(e,1),this.layout.node.setPosition(this.arrow.getComponent(u).width*(this.alignment==g.RIGHT?1:-1),0,0)},c.InitializeCheckboxes=function(e){for(var t=1;t<e;t++){var i=f(this.scrollviewLayout.node.children[0]);i.name="Part_"+(t+1),i.setParent(this.scrollviewLayout.node),i.setSiblingIndex(t)}this.checkboxes=this.scrollviewLayout.getComponentsInChildren(m)},c.Setup=function(e,t,i){this.numberOfOptions=e.length,this.SetupCheckboxes(e,t,i),this.SetScrollviewHeight(),this.SetPanelHeight(),this.SetupUI(),this.checkboxesSelected=[];for(var n=0;n<t.length;n++)t[n]&&this.checkboxesSelected.push(n)},c.SetupCheckboxes=function(e,t,i){for(var n=0;n<e.length;n++)this.checkboxes[n].Initialize(e[n],n,t[n],i[n]),this.checkboxes[n].node.active=!0,this.checkboxes[n].OnClickCheckbox.RemoveListener(this.ClickedCheckbox,this),this.checkboxes[n].OnClickCheckbox.AddListener(this.ClickedCheckbox,this);for(var o=e.length;o<this.checkboxes.length;o++)this.checkboxes[o].node.active=!1},c.SetScrollviewHeight=function(){var e=this.numberOfOptions*this.scrollviewLayout.node.children[0].getComponent(u).height;e+=(this.numberOfOptions-1)*this.scrollviewLayout.spacingY+this.scrollviewLayout.paddingTop+this.scrollviewLayout.paddingBottom,this.scrollbar.active=e>this.maxHeightOfPanel-this.buttonHeight,this.scrollbar.active&&(e=this.maxHeightOfPanel-this.buttonHeight),this.scrollview.height=e},c.SetPanelHeight=function(){this.uiTransform.height=this.scrollview.height+this.buttonHeight},c.SetupUI=function(){var e=this.uiTransform.height,t=this.interactionButton.getWorldPosition();t.x+=this.interactionButton.getComponent(u).width/2*(this.alignment==g.RIGHT?1:-1),t.y+=e/2,this.node.setWorldPosition(t),(t=this.node.getPosition()).y-e<-S.screenHeight/2+40?t.y=-S.screenHeight/2+40+e:t.y>S.screenHeight/2-80&&(t.y=S.screenHeight/2-80),this.node.setPosition(t),(t=this.interactionButton.getWorldPosition()).x+=this.interactionButton.getComponent(u).width/2*(this.alignment==g.RIGHT?1:-1),this.arrow.setWorldPosition(t)},c.ClickedCheckbox=function(e){this.PlayAudio(this.GetState(e)?this.checkboxSelectedSfx:this.checkboxUnselectedSfx),this.OnClickCheckbox.Invoke(e),this.SetState(e,!this.GetState(e)),this.LimitCheckboxes(e),this._OnCheckboxUpdate.Invoke(this.GetSelectedCheckboxes())},c.PlayAudio=function(e){this.audioSource.stop(),e&&this.audioSource.playOneShot(e)},c.LimitCheckboxes=function(e){if(-1==this.maxSelectableOptions){var t=this.GetState(e);return this.SetState(e,!t),void(t?this.checkboxesSelected=this.RemoveSelectedCheckboxes(e):this.checkboxesSelected.push(e))}if(this.checkboxesSelected.length==this.maxSelectableOptions&&!this.GetState(e))return this.SetState(this.checkboxesSelected[0],!1),this.SetState(e,!0),void(this.checkboxesSelected=this.UpdateSelectedCheckboxes(e));if(this.checkboxesSelected.length==this.maxSelectableOptions&&!this.GetState(e))return this.SetState(e,!1),void(this.checkboxesSelected=this.RemoveSelectedCheckboxes(e));var i=this.GetState(e);this.SetState(e,!i),i?this.checkboxesSelected=this.RemoveSelectedCheckboxes(e):this.checkboxesSelected.push(e)},c.RemoveSelectedCheckboxes=function(e){for(var t=[],i=0;i<this.checkboxesSelected.length;i++)this.checkboxesSelected[i]!=e&&t.push(this.checkboxesSelected[i]);return t},c.UpdateSelectedCheckboxes=function(e){for(var t=[],i=0;i<this.checkboxesSelected.length;i++)0!=i&&t.push(this.checkboxesSelected[i]);return t.push(e),t},c.GetSelectedCheckboxes=function(){for(var e=[],t=0;t<this.checkboxes.length;t++)this.checkboxes[t].isChecked&&e.push(t);return e},c.UpdateCheckboxes=function(e){for(var t=0;t<this.checkboxes.length;t++)this.checkboxes[t].isChecked=e[t]},c.SetState=function(e,t){this.checkboxes[e].isChecked=t},c.GetState=function(e){return this.checkboxes[e].isChecked},c.Show=function(){this.node.active=!0,this.uiTransform.width=0,k(this.uiTransform).to(.1,{width:this.panelWidth}).start(),this.PlayAudio(this.showSfx)},c.Hide=function(){for(var e=this,t=0;t<this.numberOfOptions;t++)this.checkboxes[t].OnClickCheckbox.RemoveListener(this.ClickedCheckbox,this);k(this.uiTransform).to(.1,{width:0}).call((function(){e.node.active=!1})).start(),this.PlayAudio(this.hideSfx)},s(t,[{key:"OnClickCheckbox",get:function(){return this._OnClickCheckbox}},{key:"OnCheckboxUpdate",get:function(){return this._OnCheckboxUpdate}},{key:"isShown",get:function(){return this.node.active}},{key:"length",get:function(){return this.numberOfOptions}},{key:"numberOfCheckboxesSelected",get:function(){var e=0;return this.checkboxes.forEach((function(t){e+=t.isChecked?1:0})),e}}]),t}(x)).prototype,"maxHeightOfPanel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),G=t(z.prototype,"alignment",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.RIGHT}}),R=t(z.prototype,"maxSelectableOptions",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),_=t(z.prototype,"showSfx",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(z.prototype,"hideSfx",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(z.prototype,"checkboxSelectedSfx",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"checkboxUnselectedSfx",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=z))||L));c._RF.pop()}}}));

System.register("chunks:///_virtual/LocalObjectRotator.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,r,i,n,a,c,s,u,l,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.defineProperty},function(t){a=t.cclegacy,c=t._decorator,s=t.CCFloat,u=t.Vec3,l=t.v3,p=t.Quat,f=t.Component}],execute:function(){var d,h,b,y,v,L,R;a._RF.push({},"e2c4ca7J5NMsq9eL1sHNvqF","LocalObjectRotator",void 0);var g=c.ccclass,j=c.property;t("LocalObjectRotator",(d=g("LocalObjectRotator"),h=j(s),b=j(u),d((L=e((v=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,r(i(e),"speed",L,i(e)),r(i(e),"rotationAxis",R,i(e)),n(i(e),"rotationQuat",new p),e}return o(e,t),e.prototype.update=function(t){p.rotateAroundLocal(this.rotationQuat,this.node.rotation,this.rotationAxis,this.speed*t),this.node.setRotation(this.rotationQuat)},e}(f)).prototype,"speed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=e(v.prototype,"rotationAxis",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l(0,1,0)}}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/ModelFade.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./CameraTarget.ts","./Labelling.ts","./SelectableMesh.ts"],(function(e){"use strict";var t,i,n,r,a,h,l,s,o,g,u,m,c,d,f,p,b,S,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty,h=e.createClass},function(e){l=e.cclegacy,s=e._decorator,o=e.CCInteger,g=e.CCString,u=e.CCBoolean,m=e.Node,c=e.CCFloat,d=e.Color,f=e.Collider,p=e.lerp,b=e.Component},function(e){S=e.CameraTarget},function(e){y=e.Labelling},function(e){C=e.SelectableMesh}],execute:function(){var H,w,v,M,P,_,z,F,N,k,x,L,I,R,T,Z,U,X,Y,q,A,O,W,E,D,K,B,j,G;l._RF.push({},"e36006CR4ZI/rMAfOfUzfhV","ModelFade",void 0);var V=s.ccclass,J=s.property;e("ModelFade",(H=V("ModelFade"),w=J(o),v=J(g),M=J(u),P=J(C),_=J(y),z=J(m),F=J(c),N=J(c),k=J(c),x=J(c),L=J(c),I=J(c),R=J(d),H((U=t((Z=function(e){function t(){for(var t,i=arguments.length,h=new Array(i),l=0;l<i;l++)h[l]=arguments[l];return t=e.call.apply(e,[this].concat(h))||this,n(r(t),"id",U,r(t)),n(r(t),"partNameKey",X,r(t)),n(r(t),"selectable",Y,r(t)),n(r(t),"meshes",q,r(t)),n(r(t),"labelling",A,r(t)),n(r(t),"target",O,r(t)),n(r(t),"minZoom",W,r(t)),n(r(t),"maxZoom",E,r(t)),n(r(t),"minPanX",D,r(t)),n(r(t),"maxPanX",K,r(t)),n(r(t),"minPanY",B,r(t)),n(r(t),"maxPanY",j,r(t)),n(r(t),"highlightColor",G,r(t)),a(r(t),"colliders",[]),a(r(t),"changeShieldStrength",!1),a(r(t),"targetShieldStrength",0),a(r(t),"timeToChangeStrength",0),a(r(t),"t",0),a(r(t),"initialShieldStrength",0),a(r(t),"fadeTime",0),a(r(t),"highlightColorName","highlightColor"),a(r(t),"highlightWeightName","highlightWeight"),a(r(t),"shieldStrengthName","shieldStrength"),a(r(t),"_isHighlighted",!1),a(r(t),"_isLabelShown",!1),a(r(t),"_isFaded",!1),a(r(t),"_isHidden",!1),t}i(t,e);var l=t.prototype;return l.onLoad=function(){this.Initialize(),this.MakeAllOpaque()},l.Initialize=function(){for(var e=null,t=[],i=null,n=null,r=0,a=0;a<this.meshes.length;a++){t=(e=this.meshes[a].meshRenderer).getComponentsInChildren(f);for(var h=0;h<t.length;h++)this.colliders.push(t[h]);this.meshes[a].opaqueMaterials=[];for(var l=0;l<e.materials.length;l++)i=e.getMaterial(l),this.meshes[a].opaqueMaterials.push(i),r=(n=i.passes[0]).getHandle(this.highlightColorName),n.setUniform(r,this.highlightColor),r=(n=this.meshes[a].transparentMaterials[l].passes[0]).getHandle(this.highlightColorName),n.setUniform(r,this.highlightColor)}},l.MakeAllOpaque=function(){for(var e=null,t=null,i=-1,n=this._isHighlighted?.4:0,r=0;r<this.meshes.length;r++){e=this.meshes[r].meshRenderer;for(var a=0;a<e.materials.length;a++)e.setMaterial(this.meshes[r].opaqueMaterials[a],a),i=(t=e.materials[a].passes[0]).getHandle(this.highlightWeightName),t.setUniform(i,n)}},l.Highlight=function(e){if(e!=this.isHighlighted){for(var t=null,i=null,n=-1,r=e?.4:0,a=0;a<this.meshes.length;a++){t=this.meshes[a].meshRenderer;for(var h=0;h<t.materials.length;h++)n=(i=t.materials[h].passes[0]).getHandle(this.highlightWeightName),i.setUniform(n,r)}this._isHighlighted=e}},l.ShowLabel=function(e){e!=this.isLabelShown&&(e?this.labelling.forEach((function(e){e.Show()})):this.labelling.forEach((function(e){e.Hide()})),this._isLabelShown=e)},l.Fade=function(e){if(e!=this.isFaded){var t=e?1:0;this.FadeInternal(t,this.fadeTime),this._isFaded=e}},l.Hide=function(e){e!=this.isHidden&&(this.meshes.forEach((function(t){t.meshRenderer.node.active=!e})),this._isHidden=e)},l.SetSelection=function(e){this.colliders.forEach((function(t){t.enabled=e}))},l.CheckIfHit=function(e){for(var t=0;t<this.colliders.length;t++)if(e==this.colliders[t])return!0;return!1},l.Reset=function(){this.Highlight(!1),this.ShowLabel(!1),this.Hide(!1),this.initialShieldStrength=0,this.MakeAllOpaque()},l.GetCameraTarget=function(){var e=new S;return e.node=this.target,e.minZoom=this.minZoom,e.maxZoom=this.maxZoom,e.minPanX=this.minPanX,e.maxPanX=this.maxPanX,e.minPanY=this.minPanY,e.maxPanY=this.maxPanY,e},l.FadeInternal=function(e,t){var i=this;this.unscheduleAllCallbacks(),this.targetShieldStrength=e,this.timeToChangeStrength=(e>this.initialShieldStrength?e-this.initialShieldStrength:this.initialShieldStrength-e)*t,this.t=0;for(var n=null,r=null,a=-1,h=this._isHighlighted?.4:0,l=-1,s=0;s<this.meshes.length;s++){n=this.meshes[s].meshRenderer;for(var o=0;o<n.materials.length;o++)n.setMaterial(this.meshes[s].transparentMaterials[o],o),a=(r=n.materials[o].passes[0]).getHandle(this.highlightWeightName),r.setUniform(a,h),l=r.getHandle(this.shieldStrengthName),r.getUniform(l,this.initialShieldStrength)}this.changeShieldStrength=!0,0==this.targetShieldStrength&&this.scheduleOnce((function(){i.MakeAllOpaque()}),t)},l.update=function(e){if(this.changeShieldStrength){this.t+=e/this.timeToChangeStrength,this.t>1&&(this.t=1,this.changeShieldStrength=!1,this.initialShieldStrength=this.targetShieldStrength);for(var t=null,i=null,n=-1,r=-1,a=0;a<this.meshes.length;a++){t=this.meshes[a].meshRenderer;for(var h=0;h<t.materials.length;h++)n=(i=t.materials[h].passes[0]).getHandle(this.shieldStrengthName),r=p(this.initialShieldStrength,this.targetShieldStrength,this.t),i.setUniform(n,r)}}},h(t,[{key:"Id",get:function(){return this.id}},{key:"Name",get:function(){return this.partNameKey}},{key:"isSelectable",get:function(){return this.selectable}},{key:"isHighlighted",get:function(){return this._isHighlighted}},{key:"isLabelShown",get:function(){return this._isLabelShown}},{key:"isFaded",get:function(){return this._isFaded}},{key:"isHidden",get:function(){return this._isHidden}}]),t}(b)).prototype,"id",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),X=t(Z.prototype,"partNameKey",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=t(Z.prototype,"selectable",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q=t(Z.prototype,"meshes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(Z.prototype,"labelling",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(Z.prototype,"target",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(Z.prototype,"minZoom",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(Z.prototype,"maxZoom",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(Z.prototype,"minPanX",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=t(Z.prototype,"maxPanX",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(Z.prototype,"minPanY",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(Z.prototype,"maxPanY",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=t(Z.prototype,"highlightColor",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(255,255,255,255)}}),T=Z))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/CheckboxUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./CheckboxPanel.ts","./TextLoader.ts","./GameState.ts"],(function(e){"use strict";var t,i,n,o,c,a,s,r,h,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,c=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,r=e.CCString},function(e){h=e.BaseUI},function(e){l=e.CheckboxPanel},function(e){u=e.Dictionary},function(e){p=e.GameState}],execute:function(){var d,b,f,k,x,y,S;a._RF.push({},"f1905dpf9FPG521iMZV8x3G","CheckboxUI",void 0);var C=s.ccclass,P=s.property;e("CheckboxUI",(d=C("CheckboxUI"),b=P(l),f=P([r]),d((y=t((x=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(o(t),"checkboxPanel",y,o(t)),n(o(t),"optionKeys",S,o(t)),c(o(t),"checkboxStates",[]),c(o(t),"dictionaries",[]),c(o(t),"isInitialized",!1),t}i(t,e);var a=t.prototype;return a.onLoad=function(){var e=this;this.optionKeys.forEach((function(t){e.checkboxStates.push(!1),e.dictionaries.push(u.GAME_TEXTS)}))},a.Show=function(){this.isInitialized?(this.checkboxPanel.Setup(this.optionKeys,this.checkboxStates,this.dictionaries),this.checkboxPanel.Show()):(this.checkboxPanel.Initialize(this.node,this.optionKeys,this.checkboxStates),this.checkboxPanel.OnCheckboxUpdate.AddListener(this.OnCheckBoxUpdated,this),this.isInitialized=!0)},a.OnCheckBoxUpdated=function(e){e.forEach((function(e){return console.log(e)})),p.Instance.checkboxSelected=e,this.updateCallback&&this.updateCallback()},a.UpdateState=function(){},a.Hide=function(){this.checkboxPanel.Hide()},t}(h)).prototype,"checkboxPanel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(x.prototype,"optionKeys",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/TutorToolUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./StepController.ts","./UIManager.ts"],(function(t){"use strict";var o,e,n,i,r,s,l,a;return{setters:[function(t){o=t.inheritsLoose,e=t.defineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.Label},function(t){l=t.StepController},function(t){a=t.UIManager}],execute:function(){var c;i._RF.push({},"f858f87w3tJRYTgriNoEblB","TutorToolUI",void 0);var u=r.ccclass;r.property,t("TutorToolUI",u("TutorToolUI")(c=function(t){function i(){for(var o,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,e(n(o),"title",null),o}o(i,t);var r=i.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.GetReferences()},r.GetReferences=function(){var o,e;t.prototype.GetReferences.call(this),this.title=null===(o=this.node.getChildByName("Header"))||void 0===o||null===(e=o.getChildByName("Title"))||void 0===e?void 0:e.getComponent(s)},r.start=function(){l.instance.OnJsonLoad.AddListener(this.OnJsonLoad,this)},r.OnJsonLoad=function(){t.prototype.OnJsonLoad.call(this),this.title.string=l.instance.tool.title},r.onDestroy=function(){l.instance.OnJsonLoad.RemoveListener(this.OnJsonLoad,this)},i}(a))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/IStoryboard.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,o;return{setters:[function(t){r=t.defineProperty},function(t){e=t.cclegacy,o=t._decorator}],execute:function(){var s;e._RF.push({},"f90defGqN5Mlr7sIPDZaFKy","IStoryboard",void 0);var i=o.ccclass;o.property,t("IStoryboard",i("IStoryboard")(s=function(){r(this,"version",""),r(this,"gameId",""),r(this,"gameName",""),r(this,"mode","Tutor"),r(this,"tool",null),r(this,"gameTexts",null),r(this,"steps",[])})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ITool.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,r;return{setters:[function(e){t=e.defineProperty},function(e){o=e.cclegacy,r=e._decorator}],execute:function(){var s;o._RF.push({},"fe5ffdcs7lHrI5VIQ/xe+Re","ITool",void 0);var c=r.ccclass;r.property,e("ITool",c("ITool")(s=function(){t(this,"title",""),t(this,"views",[]),t(this,"animations",[])})||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ObjectRotator.ts","./BridgeCommunication.ts","./AnalyticsManager.ts","./ToolState.ts","./Enums.ts","./StateManager.ts","./CameraTarget.ts","./BaseModel.ts","./BaseInteractableModel.ts","./BaseUI.ts","./EventInvoker_T.ts","./RaycastHandler.ts","./ModelHighlighter.ts","./ButtonHandler.ts","./EventInvoker.ts","./ToggleHandler.ts","./Utils.ts","./Vector.ts","./CameraController.ts","./Alignment.ts","./CheckboxPanel.ts","./Labelling.ts","./SelectableMesh.ts","./ModelFade.ts","./ModelSelect.ts","./ModelController.ts","./ToolManager.ts","./StepController.ts","./TextLoader.ts","./CheckboxHandler.ts","./UIManager.ts","./InteractableModel.ts","./BaseElement.ts","./BaseAtomModel.ts","./UIFollow.ts","./GameState.ts","./AtmoicModelTools.ts","./IStep.ts","./ObjectPulsator.ts","./NerveImpulseEffect.ts","./CatmullRom.ts","./ModelSelector.ts","./GameManager.ts","./CustomWidget.ts","./LocalObjectRotator.ts","./CheckboxUI.ts","./TutorToolUI.ts","./IStoryboard.ts","./ITool.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});