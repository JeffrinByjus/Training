window.__require=function t(e,o,i){function n(r,a){if(!o[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!a&&p)return p(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){return n(e[r][1][t]||t)},l,l.exports,t,e,o,i)}return o[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({"19EXPL04SCI08E01_Rotate_Around":[function(t,e,o){"use strict";cc._RF.push(e,"23e0ewBImVP646uPVvgUxV3","19EXPL04SCI08E01_Rotate_Around");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=1,e}return i(e,t),e.prototype.update=function(t){this.node.angle+=this.speed},n([a],e.prototype,"speed",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],"19EXPL04SCI08E01_drag_drop":[function(t,e,o){"use strict";cc._RF.push(e,"33ac7ZuV7xG4JGmMRgxEFcA","19EXPL04SCI08E01_drag_drop");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropPlace=null,e.startPos=null,e.gameNode=null,e.placeHolderObject=null,e.currentDraggingObject=null,e}return i(e,t),e.prototype.start=function(){this.startPos=new cc.Vec2(this.node.position.x,this.node.position.y),this.gameNode.on("OnOptionDraggingStarted",function(t){this.currentDraggingObject=t}.bind(this)),this.gameNode.on("OnOptionDraggingEnded",function(t){this.currentDraggingObject=t}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,function(t){null!=this.currentDraggingObject&&""!=this.currentDraggingObject||this.gameNode.emit("OnOptionDraggingStarted",this.node.name)}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(this.currentDraggingObject==this.node.name){var e=t.touch.getDelta();this.node.x+=e.x,this.node.y+=e.y}}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(this.currentDraggingObject==this.node.name){this.gameNode.emit("OnOptionDraggingEnded","");var e=this.node.parent.convertToWorldSpaceAR(this.node.position),o=this.dropPlace.convertToNodeSpaceAR(e);cc.Intersection.pointInPolygon(new cc.Vec2(o.x,o.y),this.dropPlace.getComponent(cc.PolygonCollider).world.points)?(this.placeHolderObject.active=!0,this.node.getComponent(cc.Sprite).enabled=!1,this.gameNode.emit("OnOptionDropped",this.node.name),this.node.position=this.startPos):this.node.runAction(cc.moveTo(.3,this.startPos))}}.bind(this))},n([a(cc.Node)],e.prototype,"dropPlace",void 0),n([a(cc.Node)],e.prototype,"gameNode",void 0),n([a(cc.Node)],e.prototype,"placeHolderObject",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],"19EXPL04SCI08E01_solar_system":[function(t,e,o){"use strict";cc._RF.push(e,"430adKWnNNBJL5RrOEiUEUl","19EXPL04SCI08E01_solar_system");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=t("../../../../framework/scripts/StepsController"),a=t("../../../../framework/scripts/UIManager"),c=cc._decorator,p=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.clip_bgMusic1=null,e.step1=null,e.step3_question1=null,e.options_question1=null,e.step3_q1_incorrectFeedback1=null,e.step3_q1_incorrectFeedback2=null,e.step3_q1_correctFeedback=null,e.step5_question2=null,e.step5_options_question2=null,e.step5_q2_incorrectFeedback1And2=null,e.step5_q2_correctFeedback=null,e.step7_question3=null,e.step7_options_question3=null,e.step7_q3_incorrectFeedback1And2=null,e.step7_q3_correctFeedback=null,e.step9_question4=null,e.step9_options_question4=null,e.step9_q4_incorrectFeedback1=null,e.step9_q4_incorrectFeedback2=null,e.step9_q4_correctFeedback=null,e.step11_question5=null,e.step11_options_question5=null,e.step11_q5_incorrectFeedback1=null,e.step11_q5_incorrectFeedback2=null,e.step13_question6=null,e.step13_options_question6=null,e.step13_q6_incorrectFeedback1=null,e.step13_q6_incorrectFeedback2=null,e.step13_q6_correctFeedback=null,e.step14=null,e.optionsShowPos=50,e.optionsHidePos=-300,e}return i(e,t),e.prototype.onLoad=function(){this.stepsController=this.canvas.getComponent(r.default),this.uiManager=this.canvas.getComponent(a.default),this.audioManager=this.canvas.getComponent(s.default),this.canvas.on("OnLoadStep",this.stepsHandler.bind(this)),this.canvas.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this)),this.canvas.on("OnAnswerVerification",this.onAnswerVerification.bind(this)),this.node.on("OnOptionDropped",this.onOptionDropped.bind(this)),this.node.on("OnOptionDraggingStarted",this.onOptionDragStartd.bind(this))},e.prototype.start=function(){this.stepsController.Initialise("19EXPL04SCI08E01_solar_system"),this.setupSceneForStep1(),this.audioManager.play("clip_bgMusic1",this.clip_bgMusic1,!0)},e.prototype.stepsHandler=function(t){switch(t){case 3:this.setupSceneForQuestion1();break;case 4:this.setupSceneForStep4();break;case 5:this.setupSceneForQuestion2();break;case 6:this.setupSceneForStep6();break;case 7:this.setupSceneForQuestion3();break;case 8:this.setupSceneForStep8();break;case 9:this.setupSceneForQuestion4();break;case 10:this.setupSceneForStep10();break;case 11:this.setupSceneForQuestion5();break;case 12:this.setupSceneForStep12();break;case 13:this.setupSceneForQuestion6();break;case 14:this.setupSceneForStep14()}},e.prototype.onAnswerVerification=function(t){switch(this.stepsController.getCurrentStep()){case 3:this.giveFeedbackForQestion1(t);break;case 5:this.giveFeedbackForQestion2(t);break;case 7:this.giveFeedbackForQestion3(t);break;case 9:this.giveFeedbackForQestion4(t);break;case 11:this.giveFeedbackForQestion5(t);break;case 13:this.giveFeedbackForQestion6(t)}},e.prototype.resetAfterTryAgain=function(){switch(this.stepsController.getCurrentStep()){case 3:this.setupSceneForQuestion1(),this.stepsController.loadNextStep(this.stepsController.getCurrentStep());break;case 5:this.setupSceneForStep4(),this.stepsController.loadNextStep(this.stepsController.getCurrentStep()-1);break;case 7:this.setupSceneForStep6(),this.stepsController.loadNextStep(this.stepsController.getCurrentStep()-1);break;case 9:this.setupSceneForStep8(),this.stepsController.loadNextStep(this.stepsController.getCurrentStep()-1);break;case 11:this.setupSceneForStep10(),this.stepsController.loadNextStep(this.stepsController.getCurrentStep()-1);break;case 13:this.setupSceneForStep12(),this.stepsController.loadNextStep(this.stepsController.getCurrentStep()-1)}},e.prototype.onOptionDragStartd=function(t){this.stepsController.onOptionDragStarted({optionName:t})},e.prototype.onOptionDropped=function(t){switch(this.stepsController.getCurrentStep()){case 3:this.stepsController.onOptionDropped({optionName:t}),this.hideOptions(this.options_question1,t);break;case 5:this.stepsController.onOptionDropped({optionName:t}),this.hideOptions(this.step5_options_question2,t);break;case 7:this.stepsController.onOptionDropped({optionName:t}),this.hideOptions(this.step7_options_question3,t);break;case 9:this.stepsController.onOptionDropped({optionName:t}),this.hideOptions(this.step9_options_question4,t);break;case 11:this.stepsController.onOptionDropped({optionName:t}),this.hideOptions(this.step11_options_question5,t);break;case 13:this.stepsController.onOptionDropped({optionName:t}),this.hideOptions(this.step13_options_question6,t)}},e.prototype.hideOptions=function(t,e){cc.tween(t).to(1,{position:cc.v2(0,-300)}).call(function(){t.getChildByName(e).getComponent(cc.Sprite).enabled=!0}).start()},e.prototype.onCommonButtonClick=function(t){this.uiManager.CommonButtonType.NextQuestion==t?this.stepsController.loadNextStep():this.uiManager.CommonButtonType.TryAgain==t&&this.resetAfterTryAgain()},e.prototype.setupSceneForStep1=function(){this.disableAllExceptThis(this.step1)},e.prototype.setupSceneForQuestion1=function(){this.disableAllExceptThis(this.step3_question1),cc.tween(this.options_question1).to(1,{position:cc.v2(0,this.optionsShowPos)}).start(),this.step3_question1.getChildByName("planet_place_holder").getChildByName("sun").active=!1,this.step3_question1.getChildByName("planet_place_holder").getChildByName("jupiter").active=!1,this.step3_question1.getChildByName("planet_place_holder").getChildByName("milkyway").active=!1,this.step3_q1_incorrectFeedback1.active=!1,this.step3_q1_incorrectFeedback2.active=!1,this.step3_q1_correctFeedback.active=!1},e.prototype.setupSceneForStep4=function(){this.disableAllExceptThis(this.step5_question2),this.step5_q2_correctFeedback.active=!1,this.step5_q2_incorrectFeedback1And2.active=!1,this.step5_question2.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("mercury").active=!1,this.step5_question2.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("venus").active=!1,this.step5_question2.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("saturn").active=!1},e.prototype.giveFeedbackForQestion1=function(t){t.isCorrect?(this.step3_q1_correctFeedback.active=!0,this.step3_q1_correctFeedback.getComponent(cc.Animation).play()):"jupiter"==t.answer?this.scheduleOnce(function(){this.step3_q1_incorrectFeedback1.active=!0,this.step3_q1_incorrectFeedback1.getComponent(cc.Animation).play()}.bind(this),5):this.scheduleOnce(function(){this.step3_q1_incorrectFeedback2.active=!0,this.step3_q1_incorrectFeedback2.getComponent(cc.Animation).play()}.bind(this),5)},e.prototype.setupSceneForQuestion2=function(){this.disableAllExceptThis(this.step5_question2),cc.tween(this.step5_options_question2).delay(3).to(1,{position:cc.v2(0,this.optionsShowPos)}).start(),this.step5_question2.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("mercury").active=!1,this.step5_question2.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("venus").active=!1,this.step5_question2.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("saturn").active=!1,this.step5_q2_correctFeedback.active=!1,this.step5_q2_incorrectFeedback1And2.active=!1},e.prototype.setupSceneForStep6=function(){this.disableAllExceptThis(this.step7_question3),this.step7_q3_correctFeedback.active=!1,this.step7_q3_incorrectFeedback1And2.active=!1,this.step7_question3.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("earth").active=!1,this.step7_question3.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("mars").active=!1,this.step7_question3.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("pluto").active=!1},e.prototype.giveFeedbackForQestion2=function(t){t.isCorrect?this.step5_q2_correctFeedback.active=!0:"saturn"==t.answer?this.scheduleOnce(function(){this.step5_q2_incorrectFeedback1And2.active=!0,this.step5_q2_incorrectFeedback1And2.getComponent(cc.Animation).setCurrentTime(0),this.step5_q2_incorrectFeedback1And2.getComponent(cc.Animation).play("step5_question2_incorrectFeedback1")}.bind(this),5):this.scheduleOnce(function(){this.step5_q2_incorrectFeedback1And2.active=!0,this.step5_q2_incorrectFeedback1And2.getComponent(cc.Animation).setCurrentTime(0),this.step5_q2_incorrectFeedback1And2.getComponent(cc.Animation).play("step5_question2_incorrectFeedback2")}.bind(this),5)},e.prototype.setupSceneForQuestion3=function(){cc.tween(this.step7_options_question3).delay(3).to(1,{position:cc.v2(0,this.optionsShowPos)}).start()},e.prototype.giveFeedbackForQestion3=function(t){t.isCorrect?this.step7_q3_correctFeedback.active=!0:"mars"==t.answer?this.scheduleOnce(function(){this.step7_q3_incorrectFeedback1And2.active=!0,this.step7_q3_incorrectFeedback1And2.getComponent(cc.Animation).setCurrentTime(0),this.step7_q3_incorrectFeedback1And2.getComponent(cc.Animation).play("step7_question2_incorrectFeedback1")}.bind(this),5):this.scheduleOnce(function(){this.step7_q3_incorrectFeedback1And2.active=!0,this.step7_q3_incorrectFeedback1And2.getComponent(cc.Animation).setCurrentTime(0),this.step7_q3_incorrectFeedback1And2.getComponent(cc.Animation).play("step7_question2_incorrectFeedback2")}.bind(this),5)},e.prototype.setupSceneForStep8=function(){this.disableAllExceptThis(this.step9_question4),this.step9_q4_correctFeedback.active=!1,this.step9_q4_incorrectFeedback1.active=!1,this.step9_q4_incorrectFeedback2.active=!1,this.step9_question4.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("satellite_belt").active=!1,this.step9_question4.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("asteroid_belt").active=!1,this.step9_question4.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("comet_belt").active=!1},e.prototype.setupSceneForQuestion4=function(){cc.tween(this.step9_options_question4).delay(3).to(1,{position:cc.v2(0,this.optionsShowPos)}).start()},e.prototype.giveFeedbackForQestion4=function(t){t.isCorrect?this.step9_q4_correctFeedback.active=!0:"satellite_belt"==t.answer?this.scheduleOnce(function(){this.step9_q4_incorrectFeedback1.active=!0}.bind(this),5):this.scheduleOnce(function(){this.step9_q4_incorrectFeedback2.active=!0,this.step9_q4_incorrectFeedback2.getComponent(cc.Animation).play("step9_question4_incorrectFeedback2")}.bind(this),5)},e.prototype.setupSceneForStep10=function(){this.disableAllExceptThis(this.step11_question5),this.step11_q5_incorrectFeedback1.active=!1,this.step11_q5_incorrectFeedback2.active=!1,this.step11_question5.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("ceres").active=!1,this.step11_question5.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("uranus").active=!1,this.step11_question5.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("jupiter").active=!1},e.prototype.setupSceneForQuestion5=function(){cc.tween(this.step11_options_question5).delay(3).to(1,{position:cc.v2(0,this.optionsShowPos)}).start()},e.prototype.giveFeedbackForQestion5=function(t){t.isCorrect||("ceres"==t.answer?this.scheduleOnce(function(){this.step11_q5_incorrectFeedback1.active=!0}.bind(this),5):this.scheduleOnce(function(){this.step11_q5_incorrectFeedback2.active=!0,this.step11_q5_incorrectFeedback2.getComponent(cc.Animation).play("step11_question5_incorrectFeedback1")}.bind(this),5))},e.prototype.setupSceneForStep12=function(){this.disableAllExceptThis(this.step13_question6),this.step13_q6_incorrectFeedback1.active=!1,this.step13_q6_incorrectFeedback2.active=!1,this.step13_question6.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("ganymede").active=!1,this.step13_question6.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("neptune").active=!1,this.step13_question6.getChildByName("base_question").getChildByName("planet_place_holder").getChildByName("eris").active=!1},e.prototype.setupSceneForQuestion6=function(){cc.tween(this.step13_options_question6).delay(3).to(1,{position:cc.v2(0,this.optionsShowPos)}).start()},e.prototype.giveFeedbackForQestion6=function(t){t.isCorrect?this.step13_q6_correctFeedback.active=!0:"ganymede"==t.answer?this.scheduleOnce(function(){this.step13_q6_incorrectFeedback1.active=!0}.bind(this),5):this.scheduleOnce(function(){this.step13_q6_incorrectFeedback2.active=!0}.bind(this),5)},e.prototype.setupSceneForStep14=function(){this.disableAllExceptThis(this.step14)},e.prototype.disableAllExceptThis=function(t){this.step1.active=!1,this.step3_question1.active=!1,this.step5_question2.active=!1,this.step7_question3.active=!1,this.step9_question4.active=!1,this.step11_question5.active=!1,this.step13_question6.active=!1,this.step14.active=!1,t.active=!0},n([l(cc.Node)],e.prototype,"canvas",void 0),n([l({type:cc.AudioClip})],e.prototype,"clip_bgMusic1",void 0),n([l(cc.Node)],e.prototype,"step1",void 0),n([l(cc.Node)],e.prototype,"step3_question1",void 0),n([l(cc.Node)],e.prototype,"options_question1",void 0),n([l(cc.Node)],e.prototype,"step3_q1_incorrectFeedback1",void 0),n([l(cc.Node)],e.prototype,"step3_q1_incorrectFeedback2",void 0),n([l(cc.Node)],e.prototype,"step3_q1_correctFeedback",void 0),n([l(cc.Node)],e.prototype,"step5_question2",void 0),n([l(cc.Node)],e.prototype,"step5_options_question2",void 0),n([l(cc.Node)],e.prototype,"step5_q2_incorrectFeedback1And2",void 0),n([l(cc.Node)],e.prototype,"step5_q2_correctFeedback",void 0),n([l(cc.Node)],e.prototype,"step7_question3",void 0),n([l(cc.Node)],e.prototype,"step7_options_question3",void 0),n([l(cc.Node)],e.prototype,"step7_q3_incorrectFeedback1And2",void 0),n([l(cc.Node)],e.prototype,"step7_q3_correctFeedback",void 0),n([l(cc.Node)],e.prototype,"step9_question4",void 0),n([l(cc.Node)],e.prototype,"step9_options_question4",void 0),n([l(cc.Node)],e.prototype,"step9_q4_incorrectFeedback1",void 0),n([l(cc.Node)],e.prototype,"step9_q4_incorrectFeedback2",void 0),n([l(cc.Node)],e.prototype,"step9_q4_correctFeedback",void 0),n([l(cc.Node)],e.prototype,"step11_question5",void 0),n([l(cc.Node)],e.prototype,"step11_options_question5",void 0),n([l(cc.Node)],e.prototype,"step11_q5_incorrectFeedback1",void 0),n([l(cc.Node)],e.prototype,"step11_q5_incorrectFeedback2",void 0),n([l(cc.Node)],e.prototype,"step13_question6",void 0),n([l(cc.Node)],e.prototype,"step13_options_question6",void 0),n([l(cc.Node)],e.prototype,"step13_q6_incorrectFeedback1",void 0),n([l(cc.Node)],e.prototype,"step13_q6_incorrectFeedback2",void 0),n([l(cc.Node)],e.prototype,"step13_q6_correctFeedback",void 0),n([l(cc.Node)],e.prototype,"step14",void 0),e=n([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/scripts/AudioManager":"AudioManager","../../../../framework/scripts/StepsController":"StepsController","../../../../framework/scripts/UIManager":"UIManager"}],AnalyticsManager:[function(t,e,o){"use strict";cc._RF.push(e,"04e7cfZT65MwI+flELMmdRE","AnalyticsManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=(s.property,function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.Phylum=cc.Enum({Click:"click",View:"view",Auto:"auto"}),t}return i(o,e),o.prototype.onLoad=function(){this.bridge=t("dsbridge"),this.bridgeIntegration=this.node.getComponent("BridgeIntegration")},o.prototype.sendInteractionStart=function(){this.bridge.call("byjus.sendExploreAnalyticsEvent",{m_priority:"high",u_event_id:"5000002",kingdom:"explore",phylum:"view",counter:"",value1:"",value2:""})},o.prototype.sendInteractionEnd=function(){console.log("!!!!!!!!!!!!! Analytics 5000003: Game End");this.bridge.call("byjus.sendExploreAnalyticsEvent",{m_priority:"high",u_event_id:"5000003",kingdom:"explore",phylum:"view",counter:"",value1:"",value2:""})},o.prototype.sendNextQuestionStart=function(t,e,o){void 0===o&&(o=this.Phylum.Click),console.log("!!!!!!!!!!!!! Analytics 5000007: phylum "+o+" : questionID = "+t+" : isLastLevel "+e);var i={m_priority:"high",u_event_id:"5000007",kingdom:"explore",phylum:o,counter:"",value1:t,value2:e?2:1};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("!!!!!!!!!!!!! Analytics 5000007: ",JSON.stringify(i))},o.prototype.sendAnswerTap=function(t,e,o){console.log("!!!!!!!!!!!!!Analytics 5000006: questionID "+t+" : AnswerID = "+e+" : isanswer correct "+o);var i={m_priority:"high",u_event_id:"5000006",kingdom:"explore",phylum:"click",counter:"boolean"==typeof o?o?"correct":"incorrect":o,value1:t,value2:e};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("Analytics 5000006: ",JSON.stringify(i))},o.prototype.sendOnOptionDrop=function(t,e,o){console.log("!!!!!!!!!!!!!Analytics 5000005: questionID "+t+" : AnswerID = "+e+" : isanswer correct "+o);var i={m_priority:"high",u_event_id:"5000005",kingdom:"explore",phylum:"drop",counter:"boolean"==typeof o?o?"correct":"incorrect":o,value1:t,value2:e};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("Analytics 5000005: ",JSON.stringify(i))},o.prototype.sendOnOptionDrag=function(t,e,o){console.log("!!!!!!!!!!!!!Analytics 5000004: questionID "+t+" : AnswerID = "+e+" : isanswer correct "+o);var i={m_priority:"high",u_event_id:"5000004",kingdom:"explore",phylum:"drag",counter:"boolean"==typeof o?o?"correct":"incorrect":o,value1:t,value2:e};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("Analytics 5000004: ",JSON.stringify(i))},o.prototype.sendOnTryAgain=function(t,e,o){void 0===e&&(e=""),void 0===o&&(o=this.Phylum.Click),console.log("!!!!!!!!!!!!!Analytics 5000008: questionID "+t+" : AnswerID = "+e);var i={m_priority:"high",u_event_id:"5000008",kingdom:"explore",phylum:o,counter:"",value1:t,value2:e};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("Analytics 5000008: ",JSON.stringify(i))},o.prototype.sendSubmitAnswers=function(t,e,o){void 0===o&&(o="click"),console.log("!!!!!!!!!!!!!Analytics 5000013: questionID "+t+" : phylum = "+o+" : isanswer correct "+e);var i={m_priority:"high",u_event_id:"5000013",kingdom:"explore",phylum:o,counter:e?"correct":"incorrect",value1:t};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("Analytics 5000013: ",JSON.stringify(i))},o.prototype.sendCloseButtonClick=function(t){console.log("!!!!!!!!!!!!!Analytics 500009: QuestionID "+t);var e={m_priority:"low",u_event_id:"5000009",kingdom:"explore",phylum:"click",counter:"",value1:t,value2:""};this.bridge.call("byjus.sendExploreAnalyticsEvent",e),console.log("Analytics 5000009: ",JSON.stringify(e))},o.prototype.sendOnPlayAgainButtonClick=function(t){console.log("!!!!!!!!!!!!!Analytics 500010: QuestionID "+t);var e={m_priority:"low",u_event_id:"5000010",kingdom:"explore",phylum:"click",counter:"",value1:t,value2:""};this.bridge.call("byjus.sendExploreAnalyticsEvent",e),console.log("Analytics 5000010: ",JSON.stringify(e))},o.prototype.sendOnScrollWheelChange=function(t,e,o){console.log("!!!!!!!!!!!!!Analytics 5000014: questionID "+t+" : AnswerID = "+o);var i={m_priority:"high",u_event_id:"5000014",kingdom:"explore",phylum:"click",counter:e,value1:t,value2:o};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("Analytics 5000014: ",JSON.stringify(i))},o.prototype.sendOnHintButtonClick=function(t){console.log("!!!!!!!!!!!!!Analytics 500017: QuestionID "+t);var e={m_priority:"high",u_event_id:"5000017",kingdom:"explore",phylum:"click",counter:"click_hint",value1:t};this.bridge.call("byjus.sendExploreAnalyticsEvent",e),console.log("Analytics 5000017: ",JSON.stringify(e))},o.prototype.sendOnHintView=function(t){console.log("!!!!!!!!!!!!!Analytics 500019: QuestionID "+t);var e={m_priority:"high",u_event_id:"5000019",kingdom:"explore",phylum:"view",counter:"hint_viewed",value1:t};this.bridge.call("byjus.sendExploreAnalyticsEvent",e),console.log("Analytics 5000019: ",JSON.stringify(e))},o.prototype.sendOnOptionsSelect=function(t,e,o){console.log("!!!!!!!!!!!!!Analytics 5000012: questionID "+t+" : AnswerID = "+o+" :counter "+e);var i={m_priority:"high",u_event_id:"5000012",kingdom:"explore",phylum:"click",counter:e,value1:t,value2:o};this.bridge.call("byjus.sendExploreAnalyticsEvent",i),console.log("Analytics 5000012: ",JSON.stringify(i))},o.prototype.sendOnLevelStart=function(t){console.log("!!!!!!!!!!!!!Analytics 5000020: questionID "+t);var e={m_priority:"high",u_event_id:"5000020",kingdom:"explore",phylum:"trigger",value1:t};this.bridge.call("byjus.sendExploreAnalyticsEvent",e),console.log("Analytics 5000020: ",JSON.stringify(e))},o.prototype.sendOnLevelEnd=function(t){console.log("!!!!!!!!!!!!!Analytics 5000021: questionID "+t);var e={m_priority:"high",u_event_id:"5000021",kingdom:"explore",phylum:"trigger",value1:t};this.bridge.call("byjus.sendExploreAnalyticsEvent",e),console.log("Analytics 5000021: ",JSON.stringify(e))},o.prototype.sendOnGenericButtonClick=function(t,e){console.log("!!!!!!!!!!!!!Analytics 5000022: questionID "+t);var o={m_priority:"high",u_event_id:"5000022",kingdom:"explore",phylum:"trigger",counter:e,value1:t};this.bridge.call("byjus.sendExploreAnalyticsEvent",o),console.log("Analytics 5000022: ",JSON.stringify(o))},o.prototype.sendOnViewTutorial=function(t){console.log("!!!!!!!!!!!!!Analytics 5000018: questionID "+t);var e={m_priority:"high",u_event_id:"5000018",kingdom:"explore",phylum:"view",counter:"view_tutorial",value1:t};this.bridge.call("byjus.sendExploreAnalyticsEvent",e),console.log("Analytics 5000018: ",JSON.stringify(e))},o=n([r],o)}(cc.Component));o.default=a,cc._RF.pop()},{dsbridge:"dsbridge"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"755c8leyPNJpomnapfEEXXk","AudioManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audio=null,e}return i(e,t),e.prototype.onLoad=function(){this.audioList=[],this.audio={name:"",id:-1,clip:cc.AudioClip,isLoop:!1,volume:1,durationAtPause:0,isPlayAfterGameResume:!1},this.node.on("OnGamePause",function(){this.onGamePause()}.bind(this)),this.node.on("OnCloseButtonClick",function(){this.onGamePause()}.bind(this)),this.node.on("OnGameResume",function(){this.onGameResume()}.bind(this))},e.prototype.play=function(t,e,o,i,n){void 0===i&&(i="OTH"),void 0===n&&(n=1);"VO"==i&&this.stopVOAudios();var s=cc.audioEngine.play(e,o,n);return this.audio={name:t,id:s,clip:e,isLoop:o,volume:n,durationAtPause:0,isPlayAfterGameResume:!1,type:i},"VO"==i&&this.adjustBGM(cc.audioEngine.getDuration(s)),this.audioList.push(this.audio),s},e.prototype.adjustBGM=function(t){var e,o;this.audioList.forEach(function(t){"BGM"==t.type&&(cc.audioEngine.setVolume(t.id,.2),e=t.id,o=t.volume)}),this.scheduleOnce(function(){cc.audioEngine.setVolume(e,o)}.bind(this),t)},e.prototype.stop=function(t){this.audioList.forEach(function(e){e.name==t&&cc.audioEngine.stop(e.id)})},e.prototype.stopVOAudios=function(){for(var t=0;t<this.audioList.length;t++)cc.audioEngine.getState(this.audioList[t].id)===cc.audioEngine.AudioState.PLAYING&&"VO"===this.audioList[t].type&&cc.audioEngine.stop(this.audioList[t].id)},e.prototype.pause=function(t){this.audioList.forEach(function(e){e.name==t&&cc.audioEngine.pause(e.id)})},e.prototype.stopAll=function(){cc.audioEngine.stopAll()},e.prototype.playAudioByPath=function(t,e){void 0===e&&(e="VO"),cc.loader.loadRes(t,cc.AudioClip,function(t,o){t?cc.warn(t.message||t):this.play(o.name,o,!1,e)}.bind(this))},e.prototype.onGamePause=function(){var t=0;for(t=0;t<this.audioList.length;t++)cc.audioEngine.getState(this.audioList[t].id)===cc.audioEngine.AudioState.PLAYING&&(this.audioList[t].durationAtPause=cc.audioEngine.getCurrentTime(this.audioList[t].id),this.audioList[t].isPlayAfterGameResume=!0,cc.audioEngine.stop(this.audioList[t].id))},e.prototype.onGameResume=function(){var t=0;for(t=0;t<this.audioList.length;t++)this.audioList[t].isPlayAfterGameResume&&(this.audioList[t].id=cc.audioEngine.play(this.audioList[t].clip,this.audioList[t].isLoop,this.audioList[t].volume),this.audioList[t].isPlayAfterGameResume=!1,cc.audioEngine.setCurrentTime(this.audioList[t].id,this.audioList[t].durationAtPause))},e=n([r],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],BridgeIntegration:[function(t,e,o){"use strict";cc._RF.push(e,"7d5fc33lcpH1pkGDiZqqxZJ","BridgeIntegration"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e={};e.gameid="com.explore."+cc.director.getScene().name.slice(0,14),e.gamestatus="in game",e.totalgametime_secs=0,e.interactions={},e.currentInteractionTime=0,console.log("----------- payload data ",JSON.stringify(e)),this.bridge=t("dsbridge"),this.isCloseButtonClicked=!1,this.bridge.call("byjus.sendExploreUIEvent",{tag:"init",data:""}),this.bridge.register("init",function(t){return this.bridge.call("byjus.sendExploreUIEvent",{tag:"ready",data:JSON.stringify(e)}),1}.bind(this)),this.bridge.register("appEvent",function(t){"start"==t&&this.node.emit("OnStart"),"resume"==t&&(console.log("BridgeIntegration resume event received. Ispaused ",cc.game.isPaused()),this.node.emit("OnGameResume"),this.isCloseButtonClicked&&(this.isCloseButtonClicked=!1,cc.game.resume(),this.node.emit("OnGameResume"))),"pause"==t&&(console.log("BridgeIntegration pause event received. Ispaused ",cc.game.isPaused()),this.node.emit("OnGamePause"),this.isCloseButtonClicked&&cc.game.pause())}.bind(this)),cc.game.on(cc.game.EVENT_HIDE,function(){}.bind(this)),cc.game.on(cc.game.EVENT_SHOW,function(){}.bind(this)),cc.loader.loadRes("common/audio/button_click",cc.AudioClip,function(t,e){t?cc.error(t.message||t):this.clipButtonTap=e}.bind(this))},start:function(){},onCloseButtonClick:function(){this.isCloseButtonClicked||(console.log("Close button clicked"),cc.audioEngine.play(this.clipButtonTap,!1,1),this.node.emit("OnCloseButtonClick"),this.isCloseButtonClicked=!0)},onGameFinish:function(){this.bridge.call("byjus.sendExploreUIEvent",{tag:"finish",data:""})}}),cc._RF.pop()},{dsbridge:"dsbridge"}],CBSE05SCI05E01_BaseQuestion:[function(t,e,o){"use strict";cc._RF.push(e,"ec977MCyyVDOIgZ8IizdlCu","CBSE05SCI05E01_BaseQuestion");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.correctAnswerIndex=0,e.correctAnswerAudio=null,e.wrongAnswerAudio=null,e.gameManager=null,e.audioManager=null,e.selectedOption=0,e.isCorrect=!1,e.isFeedbackCompleted=!1,e.failedFirstAttempt=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){},e.prototype.setGameManager=function(t,e){this.gameManager=t,this.audioManager=e},e.prototype.showOptions=function(){},e.prototype.hideOptions=function(){},e.prototype.playWrongFeedback=function(){this.playAudio(this.wrongAnswerAudio)},e.prototype.playCorrectFeedback=function(){this.playAudio(this.correctAnswerAudio)},e.prototype.next=function(){this.gameManager.loadNextStep()},e.prototype.reset=function(){this.isFeedbackCompleted=!1,this.selectedOption=0,this.isCorrect=!1},e.prototype.playAudio=function(t,e){void 0===e&&(e=!1),t&&this.audioManager.play(t.name,t,e,"SFX")},n([a],e.prototype,"correctAnswerIndex",void 0),n([a({type:cc.AudioClip})],e.prototype,"correctAnswerAudio",void 0),n([a({type:cc.AudioClip})],e.prototype,"wrongAnswerAudio",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],CBSE05SCI05E01_OptionsHandler:[function(t,e,o){"use strict";cc._RF.push(e,"1a4cdedldtCTIeTm7Kb81ZG","CBSE05SCI05E01_OptionsHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=t("../../../../framework/scripts/utilities/TextLoader"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPosition=0,e.endPosition=0,e.autoHideOnSubmit=!0,e.toggleContainer=null,e.optionLabels=[],e.optionTextLoaders=[],e.optionSprites=[],e.submitLabel=null,e.submitTextLoader=null,e.submitButtonSprite=null,e.submitInactiveSpriteFrame=null,e.submitSprite=null,e.optionToggles=[],e.submitButton=null,e.optionHighlightsSprites=[],e.highlightSpriteFrame=null,e.showOptionsSfx=null,e.hideOptionsSfx=null,e.optionClickSfx=null,e.submitClickSfx=null,e.submitActiveSpriteFrame=null,e.audioManager=null,e.previousSelectedOption=-1,e.selectedOption=-1,e.correctOption=-1,e.infoTipBox=null,e.infoImage=null,e.infoText=null,e.infoArrows=[],e.infoSprites=[],e.infoKeys=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.audioManager=cc.find("CommonCanvas").getComponent(s.default),this.node.y=this.startPosition,this.submitActiveSpriteFrame=this.submitButtonSprite.spriteFrame,this.infoTipBox=this.node.getChildByName("InfoTipBox"),this.infoImage=this.infoTipBox.getChildByName("Image").getComponent(cc.Sprite),this.infoText=this.infoTipBox.getChildByName("Label").getComponent(r.default),this.infoTipBox.getChildByName("CloseButton").on("click",function(){return t.infoTipBox.setActive(!1,.5)});for(var e=0;e<this.optionToggles.length;e++)this.infoArrows[e]=this.infoTipBox.getChildByName("Pointer_"+e)},e.prototype.show=function(t,e,o,i,n,s,r){var a=this;this.correctOption=t,this.infoSprites=s,this.infoKeys=r,this.enableOrDisableOptions(!1),this.submitButton.interactable=!1,this.submitInactiveSpriteFrame&&(this.submitButtonSprite.spriteFrame=this.submitInactiveSpriteFrame);var c=e&&e.length>0&&i&&i.length>0;if(this.optionLabels.forEach(function(t){t.verticalAlign=c?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER}),c=o&&o.length>0&&null!=n,this.submitLabel.verticalAlign=c?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER,e&&e.length>0)for(var p=0;p<this.optionTextLoaders.length;p++)this.optionTextLoaders[p].changeLabel(e[p]),this.optionTextLoaders[p].node.active=!0;else for(p=0;p<this.optionTextLoaders.length;p++)this.optionTextLoaders[p].node.active=!1;if(null!=o&&""!=o?(this.submitTextLoader.changeLabel(o),this.submitTextLoader.node.active=!0):this.submitTextLoader.node.active=!1,i)for(p=0;p<this.optionSprites.length;p++)this.optionSprites[p].spriteFrame=i[p],this.optionSprites[p].node.active=!0;else for(p=0;p<this.optionSprites.length;p++)this.optionSprites[p].node.active=!0;n?(this.submitSprite.spriteFrame=n,this.submitSprite.node.active=!0):this.submitSprite.node.active=!1,this.optionHighlightsSprites.forEach(function(t){t.spriteFrame=a.highlightSpriteFrame,t.node.color=cc.Color.YELLOW}),this.toggleContainer.allowSwitchOff=!0,this.optionToggles.forEach(function(t){t.isChecked=!1}),cc.tween(this.node).to(1,{y:this.endPosition}).call(function(){a.enableOrDisableOptions(!0),a.node.emit("onOptionsShown")}).start(),this.showOptionsSfx&&this.audioManager.play("showOptionsSfx",this.showOptionsSfx,!1,"SFX")},e.prototype.enableOrDisableOptions=function(t){this.optionToggles.forEach(function(e){e.interactable=t})},e.prototype.hide=function(){var t=this;cc.tween(this.node).to(1,{y:this.startPosition}).call(function(){t.node.emit("onOptionsHide")}).start(),this.hideOptionsSfx&&this.audioManager.play("hideOptionsSfx",this.hideOptionsSfx,!1,"SFX")},e.prototype.onClickOption=function(t,e){e=parseInt(e.toString()),this.toggleContainer.allowSwitchOff=!1,this.previousSelectedOption=this.selectedOption,this.selectedOption=e,this.submitButton.interactable=!0,this.submitButtonSprite.spriteFrame=this.submitActiveSpriteFrame,this.optionClickSfx&&this.audioManager.play("optionClickSfx",this.optionClickSfx,!1,"SFX"),this.infoImage.spriteFrame=this.infoSprites[e],this.infoText.changeLabel(this.infoKeys[e]),this.infoArrows.forEach(function(t){return t.active=!1}),this.infoArrows[e].active=!0,this.infoTipBox.setActive(!0,.5),this.node.emit("onOptionChange",this.previousSelectedOption,this.selectedOption)},e.prototype.onClickSubmit=function(){var t=this;this.enableOrDisableOptions(!1),this.submitButton.interactable=!1,this.submitInactiveSpriteFrame&&(this.submitButtonSprite.spriteFrame=this.submitInactiveSpriteFrame),this.autoHideOnSubmit&&this.scheduleOnce(this.hide.bind(this),.5);var e=this.selectedOption==this.correctOption;this.optionHighlightsSprites[this.selectedOption].node.color=e?cc.Color.GREEN:cc.Color.RED,this.submitClickSfx&&this.audioManager.play("submitClickSfx",this.submitClickSfx,!1,"SFX"),this.infoTipBox.setActive(!1,.5,function(){t.node.emit("onSubmit",t.selectedOption,e)})},n([p(cc.Float)],e.prototype,"startPosition",void 0),n([p(cc.Float)],e.prototype,"endPosition",void 0),n([p(cc.Boolean)],e.prototype,"autoHideOnSubmit",void 0),n([p(cc.ToggleContainer)],e.prototype,"toggleContainer",void 0),n([p(cc.Label)],e.prototype,"optionLabels",void 0),n([p(r.default)],e.prototype,"optionTextLoaders",void 0),n([p(cc.Sprite)],e.prototype,"optionSprites",void 0),n([p(cc.Label)],e.prototype,"submitLabel",void 0),n([p(r.default)],e.prototype,"submitTextLoader",void 0),n([p(cc.Sprite)],e.prototype,"submitButtonSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"submitInactiveSpriteFrame",void 0),n([p(cc.Sprite)],e.prototype,"submitSprite",void 0),n([p(cc.Toggle)],e.prototype,"optionToggles",void 0),n([p(cc.Button)],e.prototype,"submitButton",void 0),n([p(cc.Sprite)],e.prototype,"optionHighlightsSprites",void 0),n([p(cc.SpriteFrame)],e.prototype,"highlightSpriteFrame",void 0),n([p({type:cc.AudioClip})],e.prototype,"showOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"hideOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"optionClickSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"submitClickSfx",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../../framework/scripts/AudioManager":"AudioManager","../../../../framework/scripts/utilities/TextLoader":"TextLoader"}],CBSE05SCI05E01_QuestionTypeOne:[function(t,e,o){"use strict";cc._RF.push(e,"a19fazMYChKVKTstoPCsJ9T","CBSE05SCI05E01_QuestionTypeOne");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../CBSE05SCI05E01_OptionsHandler"),r=t("./CBSE05SCI05E01_BaseQuestion"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.optionSprites=[],e.infoSprites=[],e.infoKeys=[],e.dropNodes=[],e.greenHighlightAudio=null,e.redHighlightAudio=null,e.dropAudioClips=[],e.eatAudioClips=[],e.tongueArea=null,e.tongueHighlight=[],e.optionsHandler=null,e.cakeMask=null,e.plate=null,e}return i(e,t),e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this);var o=this.node.parent.getChildByName("Options");this.optionsHandler=o.getComponent(s.default),o.on("onOptionChange",this.onClickOption,this),o.on("onSubmit",this.onSubmitClicked,this),this.tongueArea=this.node.getChildByName("ToungeArea"),this.tongueArea.children.forEach(function(t){t.name.startsWith("Highlight")&&e.tongueHighlight.push(t)}),this.cakeMask=this.node.getChildByName("Cake_Mask"),this.plate=this.node.getChildByName("Plate")},e.prototype.onEnable=function(){var e=this;t.prototype.onEnable.call(this),this.scheduleOnce(function(){return e.tongueArea.blinkNode(1,3)},2)},e.prototype.showOptions=function(){t.prototype.showOptions.call(this),this.optionsHandler.show(this.correctAnswerIndex,null,"submit",this.optionSprites,null,this.infoSprites,this.infoKeys)},e.prototype.hideOptions=function(){t.prototype.hideOptions.call(this),this.optionsHandler.hide()},e.prototype.onClickOption=function(t,e){},e.prototype.onSubmitClicked=function(t,e){var o=this;this.selectedOption=t,this.isCorrect=e;var i=this.optionsHandler.optionSprites[t],n=this.dropNodes[t],s=i.node.getPosition(),r=n.inverseTransform(i.node);i.node.moveNode(r,1,function(){i.node.active=!1,o.plate.active=!1,n.active=!0,2==t&&(o.cakeMask.active=!0),i.node.setPosition(s),o.playAudio(o.dropAudioClips[t]),o.hideOptions(),o.scheduleOnce(function(){e?o.playCorrectFeedback():o.playWrongFeedback()},1)})},e.prototype.playCorrectFeedback=function(){var e=this;t.prototype.playCorrectFeedback.call(this),this.node.playAnimation("CFAnim",1,function(){e.tongueHighlight.forEach(function(t){t.color=cc.Color.GREEN,t.blinkNode(1,3)}),e.scheduleOnce(function(){e.gameManager.showFeedback([e.selectedOption])},3),e.playAudio(e.greenHighlightAudio)})},e.prototype.playWrongFeedback=function(){var e=this;t.prototype.playWrongFeedback.call(this),this.node.playAnimation("WFAnim_"+this.selectedOption,1,function(){e.tongueHighlight.forEach(function(t){t.color=cc.Color.RED,t.blinkNode(1,3)}),e.scheduleOnce(function(){e.gameManager.showFeedback([e.selectedOption])},3),e.playAudio(e.redHighlightAudio)})},e.prototype.reset=function(){this.node.playAnimation("IdleAnim"),this.tongueHighlight.forEach(function(t){return t.setActive(!1)}),this.dropNodes[this.selectedOption].active=!1,t.prototype.reset.call(this),this.showOptions()},e.prototype.next=function(){t.prototype.next.call(this)},e.prototype.onDisable=function(){var t=this.optionsHandler.node;t.off("onOptionChange",this.onClickOption,this),t.off("onSubmit",this.onSubmitClicked,this)},e.prototype.onEatAnimFrameReached=function(){this.playAudio(this.eatAudioClips[this.selectedOption])},n([p([cc.SpriteFrame])],e.prototype,"optionSprites",void 0),n([p([cc.SpriteFrame])],e.prototype,"infoSprites",void 0),n([p([cc.String])],e.prototype,"infoKeys",void 0),n([p([cc.Node])],e.prototype,"dropNodes",void 0),n([p({type:cc.AudioClip})],e.prototype,"greenHighlightAudio",void 0),n([p({type:cc.AudioClip})],e.prototype,"redHighlightAudio",void 0),n([p({type:cc.AudioClip})],e.prototype,"dropAudioClips",void 0),n([p({type:cc.AudioClip})],e.prototype,"eatAudioClips",void 0),e=n([c],e)}(r.default);o.default=l,cc._RF.pop()},{"../CBSE05SCI05E01_OptionsHandler":"CBSE05SCI05E01_OptionsHandler","./CBSE05SCI05E01_BaseQuestion":"CBSE05SCI05E01_BaseQuestion"}],CBSE05SCI05E01_TasteBuds:[function(t,e,o){"use strict";cc._RF.push(e,"e1ae8iZKzdIkJJ0giWZl2ph","CBSE05SCI05E01_TasteBuds");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=t("../../../../framework/scripts/AnalyticsManager"),a=t("../../../../framework/scripts/StepsController"),c=t("../../../../framework/scripts/UIManager"),p=t("./Questions/CBSE05SCI05E01_BaseQuestion"),l=t("../../../../framework/prefab/template3/Template3_Tutorial"),h=cc._decorator,d=h.ccclass,u=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.tutorialManager=null,e.gamePanels=[],e.backgroundMusic=null,e.ambientMusic=null,e.questions=[],e.currentGamePanelIndex=0,e.isTutorialShown=!1,e.transitionPanel=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.scr_stepsController=this.canvas.getComponent(a.default),this.uiManager=this.canvas.getComponent(c.default),this.audioManager=this.canvas.getComponent(s.default),this.scr_analyticsManager=this.canvas.getComponent(r.default),this.canvas.on("OnLoadStep",this.stepsHandler.bind(this)),this.canvas.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this)),this.canvas.on("OnFeedbackPlayComplete",this.onFeedbackPlayComplete.bind(this)),this.tutorialManager.node.on("onTutorialStop",function(){return t.currentQuestion.showOptions()});for(var e=1,o=0,i=this.gamePanels;o<i.length;o++){var n=i[o].getComponent(p.default);null!=n&&(n.setGameManager(this,this.audioManager),this.questions[e]=n,e+=1)}this.gamePanels.forEach(function(t){return t.active=!1}),this.transitionPanel=this.node.getChildByName("TransitionPanel")},e.prototype.start=function(){this.scr_stepsController.Initialise("CBSE05SCI05E01_TasteBuds"),this.audioManager.play("bgm",this.backgroundMusic,!0,"BGM"),this.audioManager.play("ambience",this.ambientMusic,!0,"SFX")},e.prototype.showNextGamePanel=function(t,e){var o=this;void 0===t&&(t=-1),void 0===e&&(e=!1);var i=-1==t?this.currentGamePanelIndex+1:t;if(!(i>=this.gamePanels.length)){var n=this.currentGamePanelIndex;this.currentGamePanelIndex=i;var s=function(){o.gamePanels[n].active=!1,o.gamePanels[o.currentGamePanelIndex].active=!0};e?this.transitionPanel.setActive(!0,1,function(){s(),o.transitionPanel.setActive(!1)}):s()}},e.prototype.stepsHandler=function(t){switch(console.log("Steps handler. Current step is "+t),t){case 0:this.gamePanels[this.currentGamePanelIndex].active=!0;case 1:this.playIntroAnim(t);break;case 2:case 4:case 6:case 8:var e=this.scr_stepsController.jsonData.steps[this.scr_stepsController.currentStep+1].questionNumber;this.showNextGamePanel(e,!0);break;case 3:case 5:case 7:case 9:this.showQuestion();break;case 10:this.showOutroPanel();break;default:cc.warn("Unknown Step...")}},e.prototype.showOutroPanel=function(){this.canvas.emit("OnEndScreenReach",{}),this.uiManager.setActiveCloseButton(!1),this.uiManager.setHeaderYpos(),this.showNextGamePanel(this.gamePanels.length-1,!0)},e.prototype.onCommonButtonClick=function(t){this.uiManager.CommonButtonType.NextQuestion==t?(this.scr_analyticsManager.sendNextQuestionStart(this.scr_stepsController.getCurrentQuestionIndex(),!1,this.scr_analyticsManager.Phylum.Click),this.currentQuestion.next()):this.uiManager.CommonButtonType.TryAgain==t&&(this.scr_analyticsManager.sendOnTryAgain(this.scr_stepsController.getCurrentQuestionIndex(),this.currentQuestion.selectedOption+1),this.currentQuestion.failedFirstAttempt=!0,this.currentQuestion.reset())},e.prototype.onFeedbackPlayComplete=function(t){this.currentQuestion.isCorrect?this.uiManager.setActiveNextButton(!0):this.uiManager.setActiveTryAgainButton(!0)},e.prototype.playIntroAnim=function(t){this.gamePanels[0].getChildByName("IntroPanel_"+t).moveNode(cc.Vec2.ZERO,1)},e.prototype.showQuestion=function(t){var e=this;void 0===t&&(t=!0);var o=function(){if(!e.isTutorialShown)return e.tutorialManager.node.active=!0,e.isTutorialShown=!0,void e.tutorialManager.show();e.currentQuestion.showOptions()};if(t){var i=this.scr_stepsController.getCurrentStepJson().duration;this.scheduleOnce(o,i)}else o()},e.prototype.showFeedback=function(t,e){void 0===e&&(e=!1),this.scr_stepsController.playFeedback(t,this.currentQuestion.isCorrect,e);for(var o=0,i=0,n=t;i<n.length;i++){var s=n[i];o+=this.scr_stepsController.getCurrentStepJson().feedBack[s].duration}return o},e.prototype.getFeedbackProperty=function(t,e){var o=this.scr_stepsController.getCurrentStepJson().feedBack[t];if(o.hasOwnProperty(e))return o[e]},e.prototype.loadNextStep=function(t){void 0===t&&(t=-1),this.scr_stepsController.loadNextStep(t)},Object.defineProperty(e.prototype,"currentQuestion",{get:function(){var t=this.scr_stepsController.getCurrentQuestionIndex();return this.questions[t]},enumerable:!0,configurable:!0}),n([u(cc.Node)],e.prototype,"canvas",void 0),n([u(l.default)],e.prototype,"tutorialManager",void 0),n([u([cc.Node])],e.prototype,"gamePanels",void 0),n([u({type:cc.AudioClip})],e.prototype,"backgroundMusic",void 0),n([u({type:cc.AudioClip})],e.prototype,"ambientMusic",void 0),e=n([d],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../../framework/prefab/template3/Template3_Tutorial":"Template3_Tutorial","../../../../framework/scripts/AnalyticsManager":"AnalyticsManager","../../../../framework/scripts/AudioManager":"AudioManager","../../../../framework/scripts/StepsController":"StepsController","../../../../framework/scripts/UIManager":"UIManager","./Questions/CBSE05SCI05E01_BaseQuestion":"CBSE05SCI05E01_BaseQuestion"}],CustomPositioningUI:[function(t,e,o){"use strict";cc._RF.push(e,"5f5f7vkV8lBN6ImmFKFBcjJ","CustomPositioningUI");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.isLeftCornered=!0,e.isRightCornered=!1,e.offset=20,e}return i(e,t),e.prototype.start=function(){this.isLeftCornered?this.positionAtLeftCorner():this.positionAtRightCorner()},e.prototype.positionAtLeftCorner=function(){var t=this.node.getPosition();t.x=-this.canvas.getContentSize().width/2+this.node.width/2-cc.view.getViewportRect().x*this.canvas.getContentSize().width/cc.view.getViewportRect().width+this.offset,t.y=this.canvas.getContentSize().height/2-this.node.height/2+cc.view.getViewportRect().y*this.canvas.getContentSize().height/cc.view.getViewportRect().height-this.offset,this.node.setPosition(t)},e.prototype.positionAtRightCorner=function(){var t=this.node.getPosition();t.x=this.canvas.getContentSize().width/2-this.node.width/2+cc.view.getViewportRect().x*this.canvas.getContentSize().width/cc.view.getViewportRect().width-this.offset,t.y=this.canvas.getContentSize().height/2-this.node.height/2+cc.view.getViewportRect().y*this.canvas.getContentSize().height/cc.view.getViewportRect().height-this.offset,console.log("Position is "+t),this.node.setPosition(t)},n([a(cc.Node)],e.prototype,"canvas",void 0),n([a],e.prototype,"isLeftCornered",void 0),n([a],e.prototype,"isRightCornered",void 0),n([a],e.prototype,"offset",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],Drag_Drop:[function(t,e,o){"use strict";cc._RF.push(e,"6288a54rxpDMbwkuT0tHWiW","Drag_Drop");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropPlace=[],e.startPos=null,e.eventReceiverNode=null,e.placeHolderObject=[],e.currentDraggingObject=null,e.filledDropPlaces=[],e}return i(e,t),e.prototype.start=function(){this.startPos=new cc.Vec2(this.node.position.x,this.node.position.y),this.eventReceiverNode.on("OnOptionDraggingStarted",function(t){this.currentDraggingObject=t.dragObject}.bind(this)),this.eventReceiverNode.on("OnOptionDraggingEnded",function(t){this.currentDraggingObject=t}.bind(this)),this.eventReceiverNode.on("OnOptionDropped",function(t){this.filledDropPlaces.push(t.dropPlace)}.bind(this)),this.eventReceiverNode.on("OnDragDropReset",this.reset.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(null==this.currentDraggingObject||""==this.currentDraggingObject){var e={};e.dragObject=this.node.name,this.eventReceiverNode.emit("OnOptionDraggingStarted",e)}}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(this.currentDraggingObject==this.node.name){var e=t.touch.getDelta();this.node.x+=e.x,this.node.y+=e.y}}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(this.currentDraggingObject==this.node.name){this.eventReceiverNode.emit("OnOptionDraggingEnded","");for(var e=!1,o=0;o<this.dropPlace.length;o++){var i=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.dropPlace[o].convertToNodeSpaceAR(i);if(cc.Intersection.pointInPolygon(new cc.Vec2(n.x,n.y),this.dropPlace[o].getComponent(cc.PolygonCollider).world.points)&&!this.filledDropPlaces.includes(this.dropPlace[o].name)){this.placeHolderObject[o].active=!0,this.node.active=!1;var s={};s.dragObject=this.node.name,s.dropPlace=this.dropPlace[o].name,this.eventReceiverNode.emit("OnOptionDropped",s),this.node.position=this.startPos,e=!0}}e||this.node.runAction(cc.moveTo(.3,this.startPos))}}.bind(this))},e.prototype.reset=function(){this.filledDropPlaces=[]},n([a({type:cc.Node})],e.prototype,"dropPlace",void 0),n([a(cc.Node)],e.prototype,"eventReceiverNode",void 0),n([a(cc.Node)],e.prototype,"placeHolderObject",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],EXPL04MAT13E01_dragNdrop:[function(t,e,o){"use strict";cc._RF.push(e,"90315rYRPdCraXIm268Y5/V","EXPL04MAT13E01_dragNdrop");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.dropPlace=null,e.startPos=null,e.gameNode=null,e.placeHolderObject=null,e.isAnotherOptionDragging=!1,e.currentDraggingObject=null,e}return i(e,t),e.prototype.start=function(){this.startPos=new cc.Vec2(this.node.position.x,this.node.position.y),this.gameNode.on("OnOptionDraggingStarted",function(t){this.currentDraggingObject=t}.bind(this)),this.gameNode.on("OnOptionDraggingEnded",function(t){this.currentDraggingObject=t}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,function(t){console.log("touch_start = ",this.node.name),null!=this.currentDraggingObject&&""!=this.currentDraggingObject||(this.gameNode.emit("OnOptionDraggingStarted",this.node.name),this.bg.runAction(cc.fadeTo(.25,120)))}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(this.currentDraggingObject==this.node.name){var e=t.getLocation(),o=this.node.parent.convertToNodeSpaceAR(e);this.node.setPosition(o)}}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.gameNode.emit("OnOptionDraggingEnded","");var e=this.node.parent.convertToWorldSpaceAR(this.node.position),o=this.dropPlace.convertToNodeSpaceAR(e);cc.Intersection.pointInPolygon(new cc.Vec2(o.x,o.y),this.dropPlace.getComponent(cc.PolygonCollider).world.points)?(console.log("Dropped inside dropzone"),this.placeHolderObject.active=!0,this.node.active=!1,this.gameNode.emit("OnOptionDropped",this.node.name),this.bg.runAction(cc.fadeIn(.25)),this.node.position=this.startPos,this.hideOptions(this.node.parent)):(this.node.runAction(cc.moveTo(.3,this.startPos)),this.bg.runAction(cc.fadeIn(.2)))}.bind(this))},e.prototype.hideOptions=function(t){var e=this;cc.tween(t).to(.5,{position:cc.v2(0,-600)}).call(function(){e.node.active=!0}).start()},n([a(cc.Node)],e.prototype,"bg",void 0),n([a(cc.Node)],e.prototype,"dropPlace",void 0),n([a(cc.Node)],e.prototype,"gameNode",void 0),n([a(cc.Node)],e.prototype,"placeHolderObject",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],EXPL04MAT13E01_patterns1:[function(t,e,o){"use strict";cc._RF.push(e,"70ee6OlxHJJVai/J73lbUHa","EXPL04MAT13E01_patterns1");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=t("../../../../framework/scripts/StepsController"),a=t("../../../../framework/scripts/UIManager"),c=cc._decorator,p=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.bgm=null,e.firstBGM=null,e.patternShow=null,e.correctResponse=null,e.doorOpening=null,e.wrongResponse=null,e.doorNotOpening=null,e.step1=null,e.step2=null,e.step3=null,e.step4=null,e.step4_diamond_options=null,e.step5=null,e.step6=null,e.step7=null,e.step7_shapes_options=null,e.step8=null,e.step9=null,e.step10=null,e.step10_shapes_options=null,e.step11=null,e.step12=null,e.step13=null,e.step13_shapes_options=null,e.step14=null,e}return i(e,t),e.prototype.onLoad=function(){this.stepsController=this.canvas.getComponent(r.default),this.uiManager=this.canvas.getComponent(a.default),this.audioManager=this.canvas.getComponent(s.default),this.canvas.on("OnLoadStep",this.stepsHandler.bind(this)),this.canvas.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this)),this.canvas.on("OnAnswerVerification",this.onAnswerVerification.bind(this)),this.node.on("OnOptionDropped",this.onOptionDropped.bind(this)),this.node.on("OnOptionDraggingStarted",this.onOptionDragStartd.bind(this))},e.prototype.start=function(){this.stepsController.Initialise("EXPL04MAT13E01_patterns1/EXPL04MAT13E01_patterns1"),this.disableAllExceptThis(this.step1),this.audioManager.play("firstBGM",this.firstBGM,!1),this.scheduleOnce(function(){this.audioManager.play("bgm",this.bgm,!0)}.bind(this),4)},e.prototype.onCommonButtonClick=function(t){this.uiManager.CommonButtonType.NextQuestion==t?this.stepsController.loadNextStep():this.uiManager.CommonButtonType.TryAgain==t&&this.resetAfterTryAgain()},e.prototype.resetAfterTryAgain=function(){switch(this.stepsController.getCurrentStep()){case 4:case 7:case 10:case 13:this.stepsController.loadNextStep(this.stepsController.getCurrentStep())}},e.prototype.stepsHandler=function(t){switch(console.log("Steps handler. Next step is "+t),t){case 1:break;case 2:this.setupSceneforStep2();break;case 3:this.setupSceneforStep3();break;case 4:this.setupSceneforStep4();break;case 5:this.setupSceneforStep5();break;case 6:this.setupSceneforStep6();break;case 7:this.setupSceneforStep7();break;case 8:this.setupSceneforStep8();break;case 9:this.setupSceneforStep9();break;case 10:this.setupSceneforStep10();break;case 11:this.setupSceneforStep11();break;case 12:this.setupSceneforStep12();break;case 13:this.setupSceneforStep13();break;case 14:this.setupSceneforStep14()}},e.prototype.onOptionDragStartd=function(t){this.stepsController.onOptionDragStarted({optionName:t})},e.prototype.onOptionDropped=function(t){console.log("step = ",this.stepsController.getCurrentStep(),", ondrop = ",t),this.stepsController.onOptionDropped({optionName:t})},e.prototype.onAnswerVerification=function(t){switch(console.log("Answer submitted "+t.isCorrect),this.stepsController.getCurrentStep()){case 4:this.giveFeedbackForQestion1(t);break;case 7:this.giveFeedbackForQestion2(t);break;case 10:this.giveFeedbackForQestion3(t);break;case 13:this.giveFeedbackForQestion4(t)}},e.prototype.giveFeedbackForQestion1=function(t){t.isCorrect?(this.audioManager.play("correctResponse",this.correctResponse,!1),this.step4.getComponent(cc.Animation).play()):(this.audioManager.play("wrongResponse",this.wrongResponse,!1),this.audioManager.play("doorNotOpening",this.doorNotOpening,!1))},e.prototype.giveFeedbackForQestion2=function(t){t.isCorrect?(this.audioManager.play("correctResponse",this.correctResponse,!1),this.step7.getComponent(cc.Animation).play()):(this.audioManager.play("wrongResponse",this.wrongResponse,!1),this.audioManager.play("doorNotOpening",this.doorNotOpening,!1))},e.prototype.giveFeedbackForQestion3=function(t){t.isCorrect?(this.audioManager.play("correctResponse",this.correctResponse,!1),this.step10.getComponent(cc.Animation).play()):(this.audioManager.play("wrongResponse",this.wrongResponse,!1),this.audioManager.play("doorNotOpening",this.doorNotOpening,!1))},e.prototype.giveFeedbackForQestion4=function(t){t.isCorrect?(this.audioManager.play("correctResponse",this.correctResponse,!1),this.step13.getComponent(cc.Animation).play()):(this.audioManager.play("wrongResponse",this.wrongResponse,!1),this.audioManager.play("doorNotOpening",this.doorNotOpening,!1))},e.prototype.setupSceneforStep2=function(){this.disableAllExceptThis(this.step2),this.step2.getChildByName("diamonds_options_slots").getComponent(cc.Animation).play(),this.audioManager.play("patternShow",this.patternShow,!1)},e.prototype.setupSceneforStep3=function(){this.disableAllExceptThis(this.step3)},e.prototype.setupSceneforStep4=function(){this.disableAllExceptThis(this.step4),this.step4.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.step4_diamond_options.runAction(cc.moveBy(1.5,cc.v2(0,350)))},e.prototype.setupSceneforStep5=function(){this.disableAllExceptThis(this.step5),this.step5.getComponent(cc.Animation).play(),this.audioManager.play("doorOpening",this.doorOpening,!1)},e.prototype.setupSceneforStep6=function(){this.disableAllExceptThis(this.step6),this.step6.getChildByName("shapes_options_slots").getComponent(cc.Animation).play(),this.audioManager.play("patternShow",this.patternShow,!1)},e.prototype.setupSceneforStep7=function(){this.disableAllExceptThis(this.step7),this.step7.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.step7_shapes_options.runAction(cc.moveBy(1.5,cc.v2(0,350)))},e.prototype.setupSceneforStep8=function(){this.disableAllExceptThis(this.step8),this.step8.getComponent(cc.Animation).play(),this.audioManager.play("doorOpening",this.doorOpening,!1)},e.prototype.setupSceneforStep9=function(){this.disableAllExceptThis(this.step9),this.step9.getChildByName("shapes_options_slots").getComponent(cc.Animation).play(),this.audioManager.play("patternShow",this.patternShow,!1)},e.prototype.setupSceneforStep10=function(){this.disableAllExceptThis(this.step10),this.step10.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.step10_shapes_options.runAction(cc.moveBy(1.5,cc.v2(0,350)))},e.prototype.setupSceneforStep11=function(){this.disableAllExceptThis(this.step11),this.step11.getComponent(cc.Animation).play(),this.audioManager.play("doorOpening",this.doorOpening,!1)},e.prototype.setupSceneforStep12=function(){this.disableAllExceptThis(this.step12),this.step12.getChildByName("shapes_options_slots").getComponent(cc.Animation).play(),this.audioManager.play("patternShow",this.patternShow,!1)},e.prototype.setupSceneforStep13=function(){this.disableAllExceptThis(this.step13),this.step13.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.step13_shapes_options.runAction(cc.moveBy(1.5,cc.v2(0,350)))},e.prototype.setupSceneforStep14=function(){this.disableAllExceptThis(this.step14),this.step14.getComponent(cc.Animation).play(),this.audioManager.play("doorOpening",this.doorOpening,!1)},e.prototype.disableAllExceptThis=function(t){this.step1.active=!1,this.step2.active=!1,this.step3.active=!1,this.step4.active=!1,this.step5.active=!1,this.step6.active=!1,this.step7.active=!1,this.step8.active=!1,this.step9.active=!1,this.step10.active=!1,this.step11.active=!1,this.step12.active=!1,this.step13.active=!1,this.step14.active=!1,t.active=!0},n([l(cc.Node)],e.prototype,"canvas",void 0),n([l({type:cc.AudioClip})],e.prototype,"bgm",void 0),n([l({type:cc.AudioClip})],e.prototype,"firstBGM",void 0),n([l({type:cc.AudioClip})],e.prototype,"patternShow",void 0),n([l({type:cc.AudioClip})],e.prototype,"correctResponse",void 0),n([l({type:cc.AudioClip})],e.prototype,"doorOpening",void 0),n([l({type:cc.AudioClip})],e.prototype,"wrongResponse",void 0),n([l({type:cc.AudioClip})],e.prototype,"doorNotOpening",void 0),n([l(cc.Node)],e.prototype,"step1",void 0),n([l(cc.Node)],e.prototype,"step2",void 0),n([l(cc.Node)],e.prototype,"step3",void 0),n([l(cc.Node)],e.prototype,"step4",void 0),n([l(cc.Node)],e.prototype,"step4_diamond_options",void 0),n([l(cc.Node)],e.prototype,"step5",void 0),n([l(cc.Node)],e.prototype,"step6",void 0),n([l(cc.Node)],e.prototype,"step7",void 0),n([l(cc.Node)],e.prototype,"step7_shapes_options",void 0),n([l(cc.Node)],e.prototype,"step8",void 0),n([l(cc.Node)],e.prototype,"step9",void 0),n([l(cc.Node)],e.prototype,"step10",void 0),n([l(cc.Node)],e.prototype,"step10_shapes_options",void 0),n([l(cc.Node)],e.prototype,"step11",void 0),n([l(cc.Node)],e.prototype,"step12",void 0),n([l(cc.Node)],e.prototype,"step13",void 0),n([l(cc.Node)],e.prototype,"step13_shapes_options",void 0),n([l(cc.Node)],e.prototype,"step14",void 0),e=n([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/scripts/AudioManager":"AudioManager","../../../../framework/scripts/StepsController":"StepsController","../../../../framework/scripts/UIManager":"UIManager"}],EXPL06SCI08E01_Bones:[function(t,e,o){"use strict";cc._RF.push(e,"bb950ib4ptOwYA2luas0OgK","EXPL06SCI08E01_Bones");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=t("../../../../framework/scripts/StepsController"),a=t("../../../../framework/scripts/UIManager"),c=cc._decorator,p=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.aud_bgm=null,e.aud_gramaphone=null,e.aud_skeletonFalling=null,e.aud_dragdrop=null,e.aud_rightdrop=null,e.aud_wrongdrop=null,e.prev_droppedNode=null,e.step7_dropCount=0,e.step10_dropCount=0,e.step11_dropCount=0,e}return i(e,t),e.prototype.onLoad=function(){this.scr_stepsController=this.canvas.getComponent(r.default),this.uiManager=this.canvas.getComponent(a.default),this.audioManager=this.canvas.getComponent(s.default),this.canvas.on("OnLoadStep",this.stepsHandler.bind(this)),this.canvas.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this)),this.canvas.on("OnAnswerVerification",this.onAnswerVerification.bind(this)),this.node.on("OnOptionDropped",this.onOptionDropped.bind(this)),this.node.on("OnOptionDraggingStarted",this.onOptionDragStartd.bind(this)),this.skeleton.getChildByName("body").getComponent(sp.Skeleton).enabled=!1,this.skeleton.active=!1},e.prototype.start=function(){this.scr_stepsController.Initialise("EXPL06SCI08E01_Bones"),this.disableAllExceptThis(this.step012),this.audioManager.play("bgm",this.aud_bgm,!0,"BGM")},e.prototype.onCommonButtonClick=function(t){this.uiManager.CommonButtonType.NextQuestion==t?7==this.scr_stepsController.getCurrentStep()?(this.step7_dropCount<2&&this.step7OptionShow(),2==this.step7_dropCount&&this.scr_stepsController.loadNextStep()):10==this.scr_stepsController.getCurrentStep()?(this.step10_dropCount<2&&this.step10OptionShow(),2==this.step10_dropCount&&this.scr_stepsController.loadNextStep()):this.scr_stepsController.loadNextStep():this.uiManager.CommonButtonType.TryAgain==t&&(7==this.scr_stepsController.getCurrentStep()?this.step7_dropCount<2&&this.step7OptionShow():10==this.scr_stepsController.getCurrentStep()?this.step10_dropCount<2&&this.step10OptionShow():this.resetAfterTryAgain())},e.prototype.resetAfterTryAgain=function(){this.stepsHandler(this.scr_stepsController.getCurrentStep())},e.prototype.stepsHandler=function(t){switch(console.log("Steps handler. Next step is "+t),t){case 0:this.skeleton.getChildByName("body").getComponent(sp.Skeleton).enabled=!0,this.skeleton.active=!0,this.skeleton.getChildByName("body").getComponent(sp.Skeleton).setAnimation(0,"DanceIntro",!1),this.audioManager.play("gramaphone",this.aud_gramaphone,!1,"SFX"),this.scheduleOnce(function(){this.audioManager.play("skeletonfall",this.aud_skeletonFalling,!1),this.scheduleOnce(function(){this.audioManager.stop("gramaphone")}.bind(this),.5)}.bind(this),4.75),this.skeleton.getChildByName("backbonebend").getComponent(sp.Skeleton).enabled=!1,this.skeleton.getChildByName("skull").active=!1,this.step012.getChildByName("gramophone").active=!0,this.step012.getChildByName("gramophone").getComponent(cc.Animation).play();break;case 1:this.step012.getChildByName("gramophone").getComponent(cc.Animation).stop(),this.step012.getChildByName("gramophone").active=!1;break;case 3:this.skeleton.getChildByName("body").getComponent(sp.Skeleton).enabled=!1,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep3();break;case 4:this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep4();break;case 5:this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep5();break;case 6:this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep6();break;case 7:this.step7_dropCount=0,this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep7();break;case 8:this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep8();break;case 9:this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep9();break;case 10:this.step10_dropCount=0,this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep10();break;case 11:this.step11_dropCount=0,this.skeleton.active=!0,this.skeleton.getChildByName("skull").active=!0,this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_idle",!1),this.setupSceneforStep11();break;case 12:this.canvas.emit("OnEndScreenReach",{}),this.uiManager.setActiveCloseButton(!1),this.skeleton.getChildByName("body").getComponent(sp.Skeleton).enabled=!0,this.skeleton.active=!0,this.skeleton.getChildByName("body").getComponent(sp.Skeleton).setAnimation(0,"DanceEnd",!0),this.skeleton.getChildByName("backbonebend").getComponent(sp.Skeleton).enabled=!1,this.skeleton.getChildByName("skull").active=!1}},e.prototype.onOptionDragStartd=function(t){switch(console.log("Paarent is ",t.parent),this.scr_stepsController.getCurrentStep()){case 3:var e=t.parent.getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:e+1});break;case 4:var o=t.parent.getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:o+1});break;case 5:var i=t.parent.getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:i+1});break;case 6:var n=t.parent.getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:n+1});break;case 7:var s=t.parent.getSiblingIndex();"ulna"==t.name||"radius"==t.name?this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:s+1,isCorrect:!0}):this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:s+1,isCorrect:!1});break;case 8:var r=t.parent.getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:r+1});break;case 9:var a=t.parent.getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:a+1});break;case 10:var c=t.parent.getSiblingIndex();"tibia"==t.name||"fibula"==t.name?this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:c+1,isCorrect:!0}):this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:c+1,isCorrect:!1});break;case 11:var p=t.parent.getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.name,optionIndex:p+1})}},e.prototype.onOptionDropped=function(t){this.audioManager.play("dragdrop",this.aud_dragdrop,!1);var e=t.dragObjectNode;switch(console.log("step = ",this.scr_stepsController.getCurrentStep(),", ondrop = ",e.name),this.prev_droppedNode=e,this.scheduleOnce(function(){11!=this.scr_stepsController.getCurrentStep()&&(e.active=!0)}.bind(this),1.5),this.scr_stepsController.getCurrentStep()){case 3:this.scr_stepsController.onOptionDropped({optionName:e.name}),this.HideOptionsAndDropSprite(this.step3);break;case 4:this.scr_stepsController.onOptionDropped({optionName:e.name}),this.HideOptionsAndDropSprite(this.step4);break;case 5:this.scr_stepsController.onOptionDropped({optionName:e.name}),this.HideOptionsAndDropSprite(this.step5);break;case 6:this.scr_stepsController.onOptionDropped({optionName:e.name}),this.HideOptionsAndDropSprite(this.step6);break;case 7:this.HideOptionsAndDropSprite(this.step7),this.onOptionDroppedQuestion4(e);break;case 8:this.scr_stepsController.onOptionDropped({optionName:e.name}),this.HideOptionsAndDropSprite(this.step8);break;case 9:this.scr_stepsController.onOptionDropped({optionName:e.name}),this.HideOptionsAndDropSprite(this.step9);break;case 10:this.HideOptionsAndDropSprite(this.step10),this.onOptionDroppedQuestion6(e);break;case 11:this.onOptionDroppedQuestion7(t)}},e.prototype.onOptionDroppedQuestion4=function(t){var e;"ulna"==t.name&&(this.skullHappy(),this.step7_dropCount++,t.parent.active=!1,this.scr_stepsController.playFeedback([0],!0,!1),(e=this.skeleton.getChildByName("body").getComponent(sp.Skeleton)).enabled=!0,1==this.step7_dropCount?e.setAnimation(0,"05_Ulna",!1):2==this.step7_dropCount&&(e.setAnimation(0,"06_UlnaRadius",!1),this.ShowFlexAnimation("body","ArmFlex",new cc.Vec2(100,-40),!1,!1)),this.step7.getChildByName("dropzone").getComponent(cc.Sprite).spriteFrame=this.dropzone_double_left);"radius"==t.name&&(this.skullHappy(),this.step7_dropCount++,t.parent.active=!1,this.scr_stepsController.playFeedback([1],!0,!1),(e=this.skeleton.getChildByName("body").getComponent(sp.Skeleton)).enabled=!0,1==this.step7_dropCount?e.setAnimation(0,"05_Radius",!1):2==this.step7_dropCount&&(e.setAnimation(0,"06_RadiusUlna",!1),this.ShowFlexAnimation("body","ArmFlex",new cc.Vec2(100,-40),!1,!1)),this.step7.getChildByName("dropzone").getComponent(cc.Sprite).spriteFrame=this.dropzone_double_right);"femur"==t.name&&this.step7WrongFeedback(2),"fibula"==t.name&&this.step7WrongFeedback(3),"pelvicgirdle"==t.name&&this.step7WrongFeedback(4);var o=t.parent.getSiblingIndex();"ulna"==t.name||"radius"==t.name?this.scr_stepsController.onOptionDropped({optionName:t.name,optionIndex:o+1,isCorrect:!0}):this.scr_stepsController.onOptionDropped({optionName:t.name,optionIndex:o+1,isCorrect:!1})},e.prototype.step7OptionShow=function(){this.step7.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.ShowOptions(this.step7),this.step7.getChildByName("dropzone").children.forEach(function(t){t.active=!1})},e.prototype.step7WrongFeedback=function(t){var e=this;this.scr_stepsController.playFeedback([t],!1,!1),this.skullSad(),this.step7.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.onOptionDroppedQuestion6=function(t){var e;"fibula"==t.name&&(this.skullHappy(),this.step10_dropCount++,t.parent.active=!1,this.scr_stepsController.playFeedback([0],!0,!1),(e=this.skeleton.getChildByName("body").getComponent(sp.Skeleton)).enabled=!0,1==this.step10_dropCount?e.setAnimation(0,"09_Fibula",!1):2==this.step10_dropCount&&(e.setAnimation(0,"10_FibulaTibia",!1),this.ShowFlexAnimation("legflex","LegFlex",new cc.Vec2(0,200))),this.step10.getChildByName("dropzone").getComponent(cc.Sprite).spriteFrame=this.dropzone_double_left);"tibia"==t.name&&(this.skullHappy(),this.step10_dropCount++,t.parent.active=!1,this.scr_stepsController.playFeedback([0],!0,!1),(e=this.skeleton.getChildByName("body").getComponent(sp.Skeleton)).enabled=!0,1==this.step10_dropCount?e.setAnimation(0,"09_Tibia",!1):2==this.step10_dropCount&&(e.setAnimation(0,"10_TibiaFibula",!1),this.ShowFlexAnimation("legflex","LegFlex",new cc.Vec2(0,200))),this.step10.getChildByName("dropzone").getComponent(cc.Sprite).spriteFrame=this.dropzone_double_right);"bonyfeet"==t.name&&this.step10WrongFeedback(1),"bonyhand"==t.name&&this.step10WrongFeedback(1);var o=t.parent.getSiblingIndex();"tibia"==t.name||"fibula"==t.name?this.scr_stepsController.onOptionDropped({optionName:t.name,optionIndex:o+1,isCorrect:!0}):this.scr_stepsController.onOptionDropped({optionName:t.name,optionIndex:o+1,isCorrect:!1})},e.prototype.step10OptionShow=function(){this.step10.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.ShowOptions(this.step10),this.step10.getChildByName("dropzone").children.forEach(function(t){t.active=!1})},e.prototype.step10WrongFeedback=function(t){var e=this;this.scr_stepsController.playFeedback([t],!1,!1),this.skullSad(),this.step10.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.onOptionDroppedQuestion7=function(t){var e=this;console.log("onDropped Q7 ",t);var o,i=!1,n=!1,s=t.dragObject,r=1;r="bonyfeet"==t.dragObject?1:2,o="dropzoneFeet"==t.dropPlace?2:1;var a="0";if("bonyfeet"==t.dragObject&&"dropzoneFeet"==t.dropPlace)this.step11_dropCount++,n=!0,a="1",this.HideOptionsAndDropSprite(this.step11),t.dragObjectNode.parent.getChildByName("label").active=!1,this.skullHappy(),(c=this.skeleton.getChildByName("body").getComponent(sp.Skeleton)).enabled=!0,this.step11.getChildByName("dropzoneFeet").getComponent(cc.Sprite).enabled=!1,this.step11.getChildByName("dropzoneHand").getComponent(cc.Sprite).enabled=!1,1==this.step11_dropCount?(c.setAnimation(0,"11_Foot",!1),this.scheduleOnce(function(){this.scheduleOnce(function(){this.step11.getChildByName("dropzoneFeet").getComponent(cc.PolygonCollider).enabled=!1,this.step11.getChildByName("dropzoneHand").getComponent(cc.Sprite).enabled=!0}.bind(this),1),this.ShowOptions(this.step11,1)}.bind(this),6)):2==this.step11_dropCount&&(this.scr_stepsController.playFeedback([0],!0,!0),c.setAnimation(0,"11_FootHand",!1),i=!0,this.scheduleOnce(function(){this.uiManager.setActiveNextButton(!0)}.bind(this),5)),this.ShowFlexAnimation("feetflex","FootFlex",new cc.Vec2(0,300));else if("bonyhand"==t.dragObject&&"dropzoneHand"==t.dropPlace){var c;this.step11_dropCount++,n=!0,"correct",a="1",this.HideOptionsAndDropSprite(this.step11),t.dragObjectNode.parent.getChildByName("label").active=!1,this.skullHappy(),(c=this.skeleton.getChildByName("body").getComponent(sp.Skeleton)).enabled=!0,this.step11.getChildByName("dropzoneHand").getComponent(cc.Sprite).enabled=!1,this.step11.getChildByName("dropzoneFeet").getComponent(cc.Sprite).enabled=!1,1==this.step11_dropCount?(c.setAnimation(0,"11_Hand",!1),this.scheduleOnce(function(){this.scheduleOnce(function(){this.step11.getChildByName("dropzoneHand").getComponent(cc.PolygonCollider).enabled=!1,this.step11.getChildByName("dropzoneFeet").getComponent(cc.Sprite).enabled=!0}.bind(this),1),this.ShowOptions(this.step11,1)}.bind(this),6)):2==this.step11_dropCount&&(this.scr_stepsController.playFeedback([0],!0,!0),c.setAnimation(0,"11_HandFoot",!1),i=!0,this.scheduleOnce(function(){this.uiManager.setActiveNextButton(!0)}.bind(this),5)),this.ShowFlexAnimation("handflex","HandFlex",new cc.Vec2(100,40))}else this.step11_dropCount++,this.skullSad(),2==this.step11_dropCount&&(this.HideOptionsAndDropSprite(this.step11),this.scr_stepsController.playFeedback([1],!0,!0),this.scheduleOnce(function(){this.uiManager.setActiveTryAgainButton(!0),this.step11.getChildByName("options_parts").children.forEach(function(t){t.children.forEach(function(t){t.active=!0})})}.bind(this),4)),"bonyfeet"==t.dragObject?(this.step11.getChildByName("dropzoneHand").getComponent(cc.PolygonCollider).enabled=!1,this.step11.getChildByName("dropzoneHand").getComponent(cc.Sprite).enabled=!1,this.step11.getChildByName("dropzoneHand").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})):"bonyhand"==t.dragObject&&(this.step11.getChildByName("dropzoneFeet").getComponent(cc.PolygonCollider).enabled=!1,this.step11.getChildByName("dropzoneFeet").getComponent(cc.Sprite).enabled=!1,this.step11.getChildByName("dropzoneFeet").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))}));this.scr_stepsController.onOptionDropped({optionName:s,optionIndex:r,isCorrect:n,dropZone:o,totalDropzones:2,dropCountInCurrentZone:1,isDropCompletedInCurrentZone:a,isAllDropComplete:i})},e.prototype.ShowFlexAnimation=function(t,e,o,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0),this.scheduleOnce(function(){n&&this.skeleton.getChildByName("skull").runAction(cc.fadeOut(.5));var s=this.skeleton.getChildByName(t).getComponent(sp.Skeleton);"body"!=s.node.name&&(this.skeleton.getChildByName("body").runAction(cc.fadeOut(.5)),s.enabled=!0),this.scheduleOnce(function(){s.setAnimation(0,e,i)}.bind(this),.75),this.skeleton.runAction(cc.scaleTo(.5,1.5)),this.bgNode.runAction(cc.scaleTo(.5,1.5)),this.bgNode.runAction(cc.moveBy(.5,cc.v2(+o.x,+o.y))),this.skeleton.runAction(cc.moveBy(.5,cc.v2(+o.x,+o.y))),this.scheduleOnce(function(){this.skeleton.runAction(cc.scaleTo(.5,1)),this.bgNode.runAction(cc.scaleTo(.5,1)),this.bgNode.runAction(cc.moveBy(.5,cc.v2(-o.x,-o.y))),this.skeleton.runAction(cc.moveBy(.5,cc.v2(-o.x,-o.y))),i&&s.setAnimation(0,e,!1),"body"!=s.node.name&&(this.skeleton.getChildByName(t).runAction(cc.fadeOut(.5)),s.enabled=!1,this.skeleton.getChildByName("body").runAction(cc.fadeIn(.5))),n&&this.skeleton.getChildByName("skull").runAction(cc.fadeIn(.5))}.bind(this),3.5)}.bind(this),2.5)},e.prototype.ShowOptions=function(t,e){void 0===e&&(e=2.5),this.scheduleOnce(function(){t.getChildByName("options_parts").runAction(cc.moveTo(.5,cc.v2(0,-300)))}.bind(this),e)},e.prototype.HideOptionsAndDropSprite=function(t){t.getChildByName("options_parts").runAction(cc.moveTo(.5,cc.v2(0,-600))),t==this.step11?(t.getChildByName("dropzoneFeet").getComponent(cc.Sprite).enabled=!1,t.getChildByName("dropzoneHand").getComponent(cc.Sprite).enabled=!1):t.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!1},e.prototype.onAnswerVerification=function(t){switch(console.log("Answer submitted "+t.isCorrect),this.scr_stepsController.getCurrentStep()){case 3:this.giveFeedbackForQestion1(t);break;case 4:this.giveFeedbackForQestion2(t);break;case 5:this.giveFeedbackForQestion3a(t);break;case 6:this.giveFeedbackForQestion3b(t);break;case 8:this.giveFeedbackForQestion5a(t);break;case 9:this.giveFeedbackForQestion5b(t)}},e.prototype.giveFeedbackForQestion1=function(t){var e=this;if(t.isCorrect){this.skullHappy();var o=this.skeleton.getChildByName("body").getComponent(sp.Skeleton);o.enabled=!0,o.setAnimation(0,"01_Spine",!1),this.ShowFlexAnimation("backbonebend","BackboneBend",new cc.Vec2(0,-50),!1)}else this.skullSad(),this.step3.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.giveFeedbackForQestion2=function(t){var e=this;if(t.isCorrect){this.skullHappy();var o=this.skeleton.getChildByName("body").getComponent(sp.Skeleton);o.enabled=!0,o.setAnimation(0,"02_Ripcage",!1)}else this.skullSad(),this.step4.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.giveFeedbackForQestion3a=function(t){var e=this;if(t.isCorrect){this.skullHappy();var o=this.skeleton.getChildByName("body").getComponent(sp.Skeleton);o.enabled=!0,o.setAnimation(0,"03_Clavicle",!1)}else this.skullSad(),this.step5.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.giveFeedbackForQestion3b=function(t){var e=this;if(t.isCorrect){this.skullHappy();var o=this.skeleton.getChildByName("body").getComponent(sp.Skeleton);o.enabled=!0,o.setAnimation(0,"04_Humerus",!1),this.ShowFlexAnimation("body","ShoulderMovement",new cc.Vec2(-100,-50),!1,!1)}else this.skullSad(),this.step6.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.giveFeedbackForQestion5a=function(t){var e=this;if(t.isCorrect){this.skullHappy();var o=this.skeleton.getChildByName("body").getComponent(sp.Skeleton);o.enabled=!0,o.setAnimation(0,"07_Pelvic",!1)}else this.skullSad(),this.step8.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.giveFeedbackForQestion5b=function(t){var e=this;if(t.isCorrect){this.skullHappy();var o=this.skeleton.getChildByName("body").getComponent(sp.Skeleton);o.enabled=!0,o.setAnimation(0,"08_Femur",!1),this.ShowFlexAnimation("body","ShakingHip",new cc.Vec2(0,0),!0,!1),this.scheduleOnce(function(){o.setAnimation(0,"08_Femur",!1)}.bind(this),6.5)}else this.skullSad(),this.step9.getChildByName("dropzone").children.forEach(function(t){t.name==e.prev_droppedNode.name&&(t.active=!0,t.getChildByName("highlighter").runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)).repeatForever()))})},e.prototype.skullHappy=function(){this.scheduleOnce(function(){this.audioManager.play("rightdrop",this.aud_rightdrop,!1)}.bind(this),.25),this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_Happy",!1)},e.prototype.skullSad=function(){this.scheduleOnce(function(){this.audioManager.play("wrongdrop",this.aud_wrongdrop,!1)}.bind(this),.25),this.skeleton.getChildByName("skull").getComponent(sp.Skeleton).setAnimation(0,"Skull_Sad",!1)},e.prototype.setupSceneforStep3=function(){this.disableAllExceptThis(this.step3),this.step3.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step3.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step3)},e.prototype.setupSceneforStep4=function(){this.disableAllExceptThis(this.step4),this.step4.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step4.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step4)},e.prototype.setupSceneforStep5=function(){this.disableAllExceptThis(this.step5),this.step5.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step5.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step5)},e.prototype.setupSceneforStep6=function(){this.disableAllExceptThis(this.step6),this.step6.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step6.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step6)},e.prototype.setupSceneforStep7=function(){this.disableAllExceptThis(this.step7),this.step7.getChildByName("dropzone").getComponent(cc.Sprite).spriteFrame=this.dropzone_double,this.step7.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step7.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step7)},e.prototype.setupSceneforStep8=function(){this.disableAllExceptThis(this.step8),this.step8.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step8.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step8)},e.prototype.setupSceneforStep9=function(){this.disableAllExceptThis(this.step9),this.step9.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step9.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step9)},e.prototype.setupSceneforStep10=function(){this.disableAllExceptThis(this.step10),this.step10.getChildByName("dropzone").getComponent(cc.Sprite).enabled=!0,this.step10.getChildByName("dropzone").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step10)},e.prototype.setupSceneforStep11=function(){this.disableAllExceptThis(this.step11),this.step11.getChildByName("dropzoneHand").getComponent(cc.PolygonCollider).enabled=!0,this.step11.getChildByName("dropzoneHand").getComponent(cc.Sprite).enabled=!0,this.step11.getChildByName("dropzoneHand").children.forEach(function(t){t.active=!1}),this.step11.getChildByName("dropzoneFeet").getComponent(cc.PolygonCollider).enabled=!0,this.step11.getChildByName("dropzoneFeet").getComponent(cc.Sprite).enabled=!0,this.step11.getChildByName("dropzoneFeet").children.forEach(function(t){t.active=!1}),this.ShowOptions(this.step11,5)},e.prototype.disableAllExceptThis=function(t){this.step012.active=!1,this.step3.active=!1,this.step4.active=!1,this.step5.active=!1,this.step6.active=!1,this.step7.active=!1,this.step8.active=!1,this.step9.active=!1,this.step10.active=!1,this.step11.active=!1,t.active=!0},n([l(cc.Node)],e.prototype,"canvas",void 0),n([l(cc.Node)],e.prototype,"bgNode",void 0),n([l(cc.SpriteFrame)],e.prototype,"dropzone_double",void 0),n([l(cc.SpriteFrame)],e.prototype,"dropzone_double_right",void 0),n([l(cc.SpriteFrame)],e.prototype,"dropzone_double_left",void 0),n([l(cc.Node)],e.prototype,"skeleton",void 0),n([l(cc.Node)],e.prototype,"step012",void 0),n([l(cc.Node)],e.prototype,"step3",void 0),n([l(cc.Node)],e.prototype,"step4",void 0),n([l(cc.Node)],e.prototype,"step5",void 0),n([l(cc.Node)],e.prototype,"step6",void 0),n([l(cc.Node)],e.prototype,"step7",void 0),n([l(cc.Node)],e.prototype,"step8",void 0),n([l(cc.Node)],e.prototype,"step9",void 0),n([l(cc.Node)],e.prototype,"step10",void 0),n([l(cc.Node)],e.prototype,"step11",void 0),n([l({type:cc.AudioClip})],e.prototype,"aud_bgm",void 0),n([l({type:cc.AudioClip})],e.prototype,"aud_gramaphone",void 0),n([l({type:cc.AudioClip})],e.prototype,"aud_skeletonFalling",void 0),n([l({type:cc.AudioClip})],e.prototype,"aud_dragdrop",void 0),n([l({type:cc.AudioClip})],e.prototype,"aud_rightdrop",void 0),n([l({type:cc.AudioClip})],e.prototype,"aud_wrongdrop",void 0),e=n([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/scripts/AudioManager":"AudioManager","../../../../framework/scripts/StepsController":"StepsController","../../../../framework/scripts/UIManager":"UIManager"}],EXPL06SCI08E01_dragNdrop:[function(t,e,o){"use strict";cc._RF.push(e,"8afc1miD+RD84w9ahSlmLar","EXPL06SCI08E01_dragNdrop");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.dropPlace=null,e.isSecondDropPlace=!1,e.dropPlace2=null,e.startPos=null,e.gameNode=null,e.placeHolderObject=null,e.isAnotherOptionDragging=!1,e.currentDraggingObject=null,e}return i(e,t),e.prototype.start=function(){this.startPos=new cc.Vec2(this.node.position.x,this.node.position.y),this.gameNode.on("OnOptionDraggingStarted",function(t){this.currentDraggingObject=t.name}.bind(this)),this.gameNode.on("OnOptionDraggingEnded",function(t){this.currentDraggingObject=t}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,function(t){console.log("touch_start = ",this.node.name),null!=this.currentDraggingObject&&""!=this.currentDraggingObject||this.gameNode.emit("OnOptionDraggingStarted",this.node)}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(this.currentDraggingObject==this.node.name){var e=t.getLocation(),o=this.node.parent.convertToNodeSpaceAR(e);this.node.setPosition(o)}}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.gameNode.emit("OnOptionDraggingEnded","");var e=this.node.parent.convertToWorldSpaceAR(this.node.position),o=this.dropPlace.convertToNodeSpaceAR(e);if(this.isSecondDropPlace)var i=this.dropPlace2.convertToNodeSpaceAR(e);if(this.dropPlace.getComponent(cc.PolygonCollider).enabled&&cc.Intersection.pointInPolygon(new cc.Vec2(o.x,o.y),this.dropPlace.getComponent(cc.PolygonCollider).world.points))console.log("Dropped inside dropzone"),this.node.active=!1,this.node.position=this.startPos,(n={}).dragObject=this.node.name,n.dragObjectNode=this.node,n.dropPlace=this.dropPlace.name,this.gameNode.emit("OnOptionDropped",n);else if(this.isSecondDropPlace){var n;if(this.dropPlace2.getComponent(cc.PolygonCollider).enabled&&cc.Intersection.pointInPolygon(new cc.Vec2(i.x,i.y),this.dropPlace2.getComponent(cc.PolygonCollider).world.points))console.log("Dropped inside dropzone"),this.node.active=!1,this.node.position=this.startPos,(n={}).dragObject=this.node.name,n.dragObjectNode=this.node,n.dropPlace=this.dropPlace2.name,this.gameNode.emit("OnOptionDropped",n);else this.node.runAction(cc.moveTo(.3,this.startPos))}else this.node.runAction(cc.moveTo(.3,this.startPos))}.bind(this))},n([a(cc.Node)],e.prototype,"bg",void 0),n([a(cc.Node)],e.prototype,"dropPlace",void 0),n([a],e.prototype,"isSecondDropPlace",void 0),n([a(cc.Node)],e.prototype,"dropPlace2",void 0),n([a(cc.Node)],e.prototype,"gameNode",void 0),n([a(cc.Node)],e.prototype,"placeHolderObject",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],EXPL06SCI16E01_Drag_Drop:[function(t,e,o){"use strict";cc._RF.push(e,"bc2d7ZmPqVAVIW5pVyIk/a0","EXPL06SCI16E01_Drag_Drop");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.correctDropPlace=[],e.wrongDropPlace=[],e.startPos=null,e.eventReceiverNode=null,e.placeHolderObject=[],e.label=null,e.correctFeedbackEffect=null,e.correctAudio=null,e.wrongAudio=null,e.currentDraggingObject=null,e.filledDropPlaces=[],e.isAllowDragging=!0,e.canvas=null,e}return i(e,t),e.prototype.start=function(){this.canvas=cc.find("CommonCanvas"),this.scr_audioManager=this.canvas.getComponent(s.default),this.startPos=new cc.Vec2(this.node.position.x,this.node.position.y),this.eventReceiverNode.on("OnOptionDraggingStarted",function(t){this.currentDraggingObject=t.dragObject}.bind(this)),this.eventReceiverNode.on("OnOptionDraggingEnded",function(t){this.currentDraggingObject=t}.bind(this)),this.eventReceiverNode.on("OnOptionDropped",function(t){this.isAllowDragging=!1}.bind(this)),this.eventReceiverNode.on("OnDragDropReset",this.reset.bind(this)),this.canvas.on("OnFeedbackPlayComplete",function(t){this.isAllowDragging=!0}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(this.isAllowDragging&&(null==this.currentDraggingObject||""==this.currentDraggingObject)){var e={};e.dragObject=this.node.name,this.correctDropPlace.length>0?e.isCorrectDropZone="not_applicable":e.isCorrectDropZone=!1,0==this.wrongDropPlace.length&&(e.isCorrectDropZone=!0),this.eventReceiverNode.emit("OnOptionDraggingStarted",e)}}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(this.isAllowDragging&&this.currentDraggingObject==this.node.name){var e=t.touch.getDelta();this.node.x+=e.x,this.node.y+=e.y}}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(this.isAllowDragging&&this.currentDraggingObject==this.node.name){this.eventReceiverNode.emit("OnOptionDraggingEnded","");for(var e=!1,o=0;o<this.correctDropPlace.length;o++){var i=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.correctDropPlace[o].convertToNodeSpaceAR(i);if(cc.Intersection.pointInPolygon(new cc.Vec2(n.x,n.y),this.correctDropPlace[o].getComponent(cc.PolygonCollider).world.points))this.placeHolderObject[o].active=!0,this.node.active=!1,(s={}).dragObject=this.node.name,s.dropPlace=this.correctDropPlace[o].name,s.isCorrectDropZone=!0,this.eventReceiverNode.emit("OnOptionDropped",s),this.node.position=this.startPos,e=!0,this.onDroppedInCorrectPlace()}for(o=0;o<this.wrongDropPlace.length;o++){var s;i=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.wrongDropPlace[o].convertToNodeSpaceAR(i);if(cc.Intersection.pointInPolygon(new cc.Vec2(n.x,n.y),this.wrongDropPlace[o].getComponent(cc.PolygonCollider).world.points))(s={}).dragObject=this.node.name,s.dropPlace=this.wrongDropPlace[o].name,s.isCorrectDropZone=!1,this.eventReceiverNode.emit("OnOptionDropped",s),this.onDroppedInWrongPlace()}e||this.node.runAction(cc.moveTo(.3,this.startPos))}}.bind(this))},e.prototype.reset=function(){this.filledDropPlaces=[]},e.prototype.onEnable=function(){this.label&&(this.label.active=!0)},e.prototype.onDisable=function(){this.label&&(this.label.active=!1)},e.prototype.onDroppedInCorrectPlace=function(){this.correctFeedbackEffect&&this.correctFeedbackEffect.getComponent(cc.Animation).play(),this.correctAudio&&this.scr_audioManager.play("correct_audio_"+this.node.name,this.correctAudio,!1,"SFX")},e.prototype.onDroppedInWrongPlace=function(){this.wrongAudio&&this.scr_audioManager.play("wrong_audio_"+this.node.name,this.wrongAudio,!1,"SFX")},n([c({type:cc.Node})],e.prototype,"correctDropPlace",void 0),n([c({type:cc.Node})],e.prototype,"wrongDropPlace",void 0),n([c(cc.Node)],e.prototype,"eventReceiverNode",void 0),n([c(cc.Node)],e.prototype,"placeHolderObject",void 0),n([c(cc.Node)],e.prototype,"label",void 0),n([c(cc.Node)],e.prototype,"correctFeedbackEffect",void 0),n([c({type:cc.AudioClip})],e.prototype,"correctAudio",void 0),n([c({type:cc.AudioClip})],e.prototype,"wrongAudio",void 0),e=n([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../framework/scripts/AudioManager":"AudioManager"}],EXPL06SCI16E01_Tap_Detect:[function(t,e,o){"use strict";cc._RF.push(e,"48ec8/b+WxK+54j8ocwEnHD","EXPL06SCI16E01_Tap_Detect");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventReceiverNode=null,e.isAllowTapping=!0,e.canvas=null,e}return i(e,t),e.prototype.start=function(){this.canvas=cc.find("CommonCanvas"),this.eventReceiverNode.on("OnOptionTap",function(t){this.isAllowTapping=!1}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(this.isAllowTapping){this.isAllowTapping=!1;var e={};e.dragObject=this.node.name,this.eventReceiverNode.emit("OnOptionTap",e)}}.bind(this)),this.canvas.on("OnCommonButtonClick",function(t){1==t&&(this.isAllowTapping=!0)}.bind(this))},n([a(cc.Node)],e.prototype,"eventReceiverNode",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],EXPL06SCI16E01_Vermicompost:[function(t,e,o){"use strict";cc._RF.push(e,"a4ba3JjZSBLl4ZtZM3utgBw","EXPL06SCI16E01_Vermicompost");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=t("../../../../framework/scripts/StepsController"),a=t("../../../../framework/scripts/UIManager"),c=t("./EXPL06SCI16E01_Tap_Detect"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.feedbackIndeices=[],e.clip_bgMusic1=null,e.step_0_1=null,e.step_2=null,e.step_3_4_question1=null,e.q1_isAllOptionsDropped=[],e.q1_organicDropZoneDropCount=0,e.q1_inorganicDropZoneDropCount=0,e.step_6_question2=null,e.q2_isAllOptionsDropped=[],e.q2_organicDropZoneDropCount=0,e.q2_inorganicDropZoneDropCount=0,e.step_8=null,e.step_9_question3=null,e.step9_options_question3=null,e.step9_q3_feedback_with_hole=null,e.step9_q3_feedback_without_hole=null,e.step9_q3_feedback_cardboard=null,e.isQ3CorrectAnswerGiven=!1,e.step_11_question4=null,e.q4_isAllOptionsDropped=[],e.q4_trayDropZoneCount=0,e.step11_options_question4=null,e.step_12_question5=null,e.step12_options_question5=null,e.isQ5CorrectAnswerGiven=!1,e.step_13_question6=null,e.step13_options_question6=null,e.step_15_question7=null,e.q7_isAllOptionsDropped=[],e.q7_trayDropZoneCount=0,e.step15_options_question7=null,e.step_17_question8=null,e.step17_options_question8=null,e.isQ8CorrectAnswerGiven=!1,e.step_18=null,e.step_19=null,e.optionsShowPos=120,e.optionsHidePos=-500,e.clipBinTranslucent=null,e}return i(e,t),e.prototype.onLoad=function(){this.canvas=cc.find("CommonCanvas"),this.scr_stepsController=this.canvas.getComponent(r.default),this.scr_uiManager=this.canvas.getComponent(a.default),this.scr_audioManager=this.canvas.getComponent(s.default),this.canvas.on("OnLoadStep",this.stepsHandler.bind(this)),this.canvas.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this)),this.canvas.on("OnAnswerVerification",this.onAnswerVerification.bind(this)),this.node.on("OnOptionDropped",this.onOptionDropped.bind(this)),this.node.on("OnOptionDraggingStarted",this.onOptionDragStarted.bind(this)),this.node.on("OnOptionTap",this.onOptionTap.bind(this)),this.canvas.on("OnFeedbackPlayComplete",this.onFeedbackPlayComplete.bind(this))},e.prototype.start=function(){this.scr_stepsController.Initialise("EXPL06SCI16E01_Vermicompost"),this.setupSceneForStep_0_1(),this.scr_audioManager.play("clip_bgMusic1",this.clip_bgMusic1,!0)},e.prototype.stepsHandler=function(t){switch(t){case 2:this.setupSceneForStep_2();break;case 3:this.setupSceneForStep_3_4_question1();break;case 6:this.setupSceneForStep_6_question2();break;case 8:this.setupSceneForStep_8();break;case 9:this.setupSceneForStep_9_question3(5);break;case 11:this.setupSceneForStep_11_question4();break;case 12:this.setupSceneForStep_12_question5();break;case 13:this.setupSceneForStep_13_question6(!0);break;case 15:this.setupSceneForStep_15_question7();break;case 16:this.setupSceneForStep_17_question8();break;case 18:this.canvas.emit("OnEndScreenReach",{}),this.setupSceneForStep_18();break;case 19:this.setupSceneForStep_19()}},e.prototype.onOptionDragStarted=function(t){switch(this.scr_stepsController.getCurrentStep()){case 4:var e=this.step_3_4_question1.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.dragObject,optionIndex:e+1,isCorrect:t.isCorrectDropZone});break;case 6:var o=this.step_6_question2.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.dragObject,optionIndex:o+1,isCorrect:t.isCorrectDropZone});break;case 9:this.scr_stepsController.onOptionDragStarted({optionName:t.dragObject,isCorrect:t.isCorrectDropZone});break;case 11:var i=this.step_11_question4.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.dragObject,optionIndex:i+1,isCorrect:t.isCorrectDropZone});break;case 12:this.scr_stepsController.onOptionDragStarted({optionName:t.dragObject,isCorrect:t.isCorrectDropZone});break;case 15:var n=this.step_15_question7.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex();this.scr_stepsController.onOptionDragStarted({optionName:t.dragObject,optionIndex:n+1,isCorrect:t.isCorrectDropZone});break;case 17:this.scr_stepsController.onOptionDragStarted({optionName:t.dragObject,isCorrect:t.isCorrectDropZone})}},e.prototype.onOptionDropped=function(t){switch(this.scr_uiManager.hideHeaderText(),this.scr_stepsController.getCurrentStep()){case 4:this.onOptionDroppedQuestion1(t);break;case 6:this.onOptionDroppedQuestion2(t);break;case 9:this.onOptionDroppedQuestion3(t);break;case 11:this.onOptionDroppedQuestion4(t);break;case 12:this.onOptionDroppedQuestion5(t);break;case 15:this.onOptionDroppedQuestion7(t);break;case 17:this.onOptionDroppedQuestion8(t)}},e.prototype.onOptionTap=function(t){switch(console.log("on option tap ",t),this.scr_stepsController.getCurrentStep()){case 13:this.scr_stepsController.onOptionTap({optionName:t.dragObject})}},e.prototype.onFeedbackPlayComplete=function(t){switch(console.log("On feedback play complete ",t),this.scr_stepsController.getCurrentStep()){case 4:this.q1_isAllOptionsDropped.includes(void 0)||this.scr_uiManager.setActiveNextButton(!0);break;case 6:this.q2_isAllOptionsDropped.includes(void 0)||this.scr_uiManager.setActiveNextButton(!0);break;case 9:this.isQ3CorrectAnswerGiven||this.setupSceneForStep_9_question3(0);break;case 11:this.q4_isAllOptionsDropped.includes(void 0)||this.scr_uiManager.setActiveNextButton(!0),this.q4_isAllOptionsDropped.includes(void 0)&&this.changeOpacityOfNode(this.step_11_question4.getChildByName("base_question").getChildByName("options"),255);break;case 12:this.isQ5CorrectAnswerGiven||this.setupSceneForStep_12_question5(0);break;case 15:this.q7_isAllOptionsDropped.includes(void 0)||this.scr_uiManager.setActiveNextButton(!0),this.q7_isAllOptionsDropped.includes(void 0)&&this.changeOpacityOfNode(this.step_15_question7.getChildByName("base_question").getChildByName("options"),255);break;case 17:this.isQ8CorrectAnswerGiven||this.setupSceneForStep_17_question8()}},e.prototype.onAnswerVerification=function(t){switch(console.log("Answer submitted "+t.isCorrect),this.scr_stepsController.getCurrentStep()){case 9:this.giveFeedbackForQestion3(t);break;case 12:this.giveFeedbackForQestion5(t);break;case 13:this.giveFeedbackForQestion6(t);break;case 17:this.giveFeedbackForQestion8(t)}},e.prototype.resetAfterTryAgain=function(){switch(this.scr_stepsController.getCurrentStep()){case 9:this.setupSceneForStep_9_question3(0);break;case 12:this.setupSceneForStep_12_question5(),this.scr_stepsController.loadNextStep(this.scr_stepsController.getCurrentStep());break;case 13:this.setupSceneForStep_13_question6();break;case 17:this.setupSceneForStep_17_question8(),this.scr_stepsController.loadNextStep(this.scr_stepsController.getCurrentStep())}},e.prototype.setupSceneForStep_0_1=function(){this.disableAllExceptThis(this.step_0_1)},e.prototype.setupSceneForStep_2=function(){this.disableAllExceptThis(this.step_2)},e.prototype.setupSceneForStep_3_4_question1=function(){this.q1_isAllOptionsDropped=new Array(6),this.disableAllExceptThis(this.step_3_4_question1);var t=this.step_3_4_question1.getChildByName("base_question").getChildByName("options");t.position=cc.v3(0,this.optionsHidePos,0);var e=2;e=3==this.scr_stepsController.getCurrentStep()?12:2,cc.tween(t).delay(e).to(1,{position:cc.v2(0,this.optionsShowPos)}).start()},e.prototype.setupSceneForStep_6_question2=function(){this.q2_isAllOptionsDropped=new Array(6),this.disableAllExceptThis(this.step_6_question2);var t=this.step_6_question2.getChildByName("base_question").getChildByName("options");t.position=cc.v3(0,this.optionsHidePos,0);cc.tween(t).delay(2).to(1,{position:cc.v2(0,this.optionsShowPos)}).start()},e.prototype.setupSceneForStep_8=function(){this.disableAllExceptThis(this.step_8)},e.prototype.setupSceneForStep_9_question3=function(t,e){void 0===t&&(t=3),void 0===e&&(e=!1),this.disableAllExceptThis(this.step_9_question3),this.showOptions(this.step9_options_question3,t,e),this.step_9_question3.getChildByName("base_question").getChildByName("options").getChildByName("option1").getChildByName("plastic_crate_with_holes").active=!0,this.step_9_question3.getChildByName("base_question").getChildByName("options").getChildByName("option2").getChildByName("cardboard_crate").active=!0,this.step_9_question3.getChildByName("base_question").getChildByName("options").getChildByName("option3").getChildByName("plastic_crate_without_holes").active=!0,this.step_9_question3.getChildByName("base_question").getChildByName("place_holder").getChildByName("plastic_crate_with_holes").active=!1,this.step_9_question3.getChildByName("base_question").getChildByName("place_holder").getChildByName("cardboard_crate").active=!1,this.step_9_question3.getChildByName("base_question").getChildByName("place_holder").getChildByName("plastic_crate_without_holes").active=!1,this.step9_q3_feedback_cardboard.active=!1,this.step9_q3_feedback_with_hole.active=!1,this.step9_q3_feedback_without_hole.active=!1},e.prototype.setupSceneForStep_11_question4=function(t,e){void 0===t&&(t=3),void 0===e&&(e=!1),this.q4_isAllOptionsDropped=new Array(3),this.disableAllExceptThis(this.step_11_question4),this.showOptions(this.step11_options_question4,t,e)},e.prototype.setupSceneForStep_12_question5=function(t,e){void 0===t&&(t=3),void 0===e&&(e=!1),this.disableAllExceptThis(this.step_12_question5),this.showOptions(this.step12_options_question5,t,e),this.step_12_question5.getChildByName("base_question").getChildByName("place_holder").getChildByName("redworms_in_tray").active=!1,this.step_12_question5.getChildByName("base_question").getChildByName("place_holder").getChildByName("roundworms_in_tray").active=!1,this.step_12_question5.getChildByName("base_question").getChildByName("place_holder").getChildByName("hookworms_in_tray").active=!1,this.step_12_question5.getChildByName("base_question").getChildByName("place_holder").getChildByName("tapeworms_in_tray").active=!1,this.step_12_question5.getChildByName("base_question").getChildByName("options").getChildByName("option1").getChildByName("redworms").active=!0,this.step_12_question5.getChildByName("base_question").getChildByName("options").getChildByName("option4").getChildByName("roundworms").active=!0,this.step_12_question5.getChildByName("base_question").getChildByName("options").getChildByName("option2").getChildByName("hookworms").active=!0,this.step_12_question5.getChildByName("base_question").getChildByName("options").getChildByName("option3").getChildByName("tapeworms").active=!0},e.prototype.setupSceneForStep_13_question6=function(t){void 0===t&&(t=!1),this.disableAllExceptThis(this.step_13_question6),this.scheduleOnce(function(){t&&(this.step13_options_question6.getChildByName("organic_bin").getComponent(c.default).enabled=!0,this.step13_options_question6.getChildByName("inorganic_bin").getComponent(c.default).enabled=!0)}.bind(this),6),this.step13_options_question6.getChildByName("organic_bin").opacity=255,this.step13_options_question6.getChildByName("inorganic_bin").opacity=255,this.step13_options_question6.getChildByName("organic_bin_content").opacity=0,this.step13_options_question6.getChildByName("inorganic_bin_content").opacity=0},e.prototype.setupSceneForStep_15_question7=function(t,e){void 0===t&&(t=5),void 0===e&&(e=!1),this.q7_isAllOptionsDropped=new Array(4),this.disableAllExceptThis(this.step_15_question7),this.showOptions(this.step15_options_question7,t,e)},e.prototype.setupSceneForStep_17_question8=function(t){void 0===t&&(t=!1),this.disableAllExceptThis(this.step_17_question8);var e=2;e=17==this.scr_stepsController.getCurrentStep()?2:12,this.showOptions(this.step17_options_question8,e,t)},e.prototype.setupSceneForStep_18=function(){this.scr_uiManager.setActiveCloseButton(!1),this.disableAllExceptThis(this.step_18)},e.prototype.setupSceneForStep_19=function(){this.disableAllExceptThis(this.step_19)},e.prototype.onOptionDroppedQuestion1=function(t){var e,o=this.step_3_4_question1.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex(),i=t.dragObject,n=o+1,s=t.isCorrectDropZone,r="0",a="wrong",c=!1;if(t.isCorrectDropZone){var p=!0;5==this.checkNumberOfEmptyValues(this.q1_isAllOptionsDropped)&&(p=!1),"pencil_shave"==t.dragObject&&(this.scr_stepsController.playFeedback([1],!0,p),this.q1_isAllOptionsDropped[0]=!0,this.q1_organicDropZoneDropCount++),"bulb"==t.dragObject&&(this.scr_stepsController.playFeedback([6],!0,p),this.q1_isAllOptionsDropped[1]=!0,this.q1_inorganicDropZoneDropCount++),"paper_pieces"==t.dragObject&&(this.scr_stepsController.playFeedback([3],!0,p),this.q1_isAllOptionsDropped[2]=!0,this.q1_organicDropZoneDropCount++),"ceramics"==t.dragObject&&(this.scr_stepsController.playFeedback([8],!0,p),this.q1_isAllOptionsDropped[3]=!0,this.q1_inorganicDropZoneDropCount++),"coffee_powder"==t.dragObject&&(this.scr_stepsController.playFeedback([5],!0,p),this.q1_isAllOptionsDropped[4]=!0,this.q1_organicDropZoneDropCount++),"plastic_box"==t.dragObject&&(this.scr_stepsController.playFeedback([10],!0,p),this.q1_isAllOptionsDropped[5]=!0,this.q1_inorganicDropZoneDropCount++),this.q1_isAllOptionsDropped.includes(void 0)||(c=!0,a="correct")}else"pencil_shave"==t.dragObject&&this.scr_stepsController.playFeedback([0],!1),"bulb"==t.dragObject&&this.scr_stepsController.playFeedback([7],!1),"paper_pieces"==t.dragObject&&this.scr_stepsController.playFeedback([2],!1),"ceramics"==t.dragObject&&this.scr_stepsController.playFeedback([9],!1),"coffee_powder"==t.dragObject&&this.scr_stepsController.playFeedback([4],!1),"plastic_box"==t.dragObject&&this.scr_stepsController.playFeedback([11],!1);if("organic_place_holder"==t.dropPlace){e=1,3==this.q1_organicDropZoneDropCount&&(r="1");var l=this.q1_organicDropZoneDropCount;t.isCorrectDropZone||l++,this.scr_stepsController.onOptionDropped({optionName:i,optionIndex:n,isCorrect:s,dropZone:e,totalDropzones:2,dropCountInCurrentZone:l,isDropCompletedInCurrentZone:r,isAllDropComplete:c,finalValue:a})}else{e=2,3==this.q1_inorganicDropZoneDropCount&&(r="1");l=this.q1_inorganicDropZoneDropCount;t.isCorrectDropZone||l++,this.scr_stepsController.onOptionDropped({optionName:i,optionIndex:n,isCorrect:s,dropZone:e,totalDropzones:2,dropCountInCurrentZone:l,isDropCompletedInCurrentZone:r,isAllDropComplete:c,finalValue:a})}},e.prototype.onOptionDroppedQuestion2=function(t){var e,o=this.step_6_question2.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex(),i=t.dragObject,n=o+1,s=t.isCorrectDropZone,r="0",a="wrong",c=!1;if(t.isCorrectDropZone){var p=!0;5==this.checkNumberOfEmptyValues(this.q2_isAllOptionsDropped)&&(p=!1),"fish_remains"==t.dragObject&&(this.scr_stepsController.playFeedback([1],!0,p),this.q2_isAllOptionsDropped[0]=!0,this.q2_organicDropZoneDropCount++),"meat"==t.dragObject&&(this.scr_stepsController.playFeedback([3],!0,p),this.q2_isAllOptionsDropped[1]=!0,this.q2_organicDropZoneDropCount++),"bones"==t.dragObject&&(this.scr_stepsController.playFeedback([5],!0,p),this.q2_isAllOptionsDropped[2]=!0,this.q2_organicDropZoneDropCount++),"vegitable_peels"==t.dragObject&&(this.scr_stepsController.playFeedback([7],!0,p),this.q2_isAllOptionsDropped[3]=!0,this.q2_organicDropZoneDropCount++),"styrofoam"==t.dragObject&&(this.scr_stepsController.playFeedback([8],!0,p),this.q2_isAllOptionsDropped[4]=!0,this.q2_inorganicDropZoneDropCount++),"plastic_straws"==t.dragObject&&(this.scr_stepsController.playFeedback([10],!0,p),this.q2_isAllOptionsDropped[5]=!0,this.q2_inorganicDropZoneDropCount++),this.q2_isAllOptionsDropped.includes(void 0)||(c=!0,a="correct")}else"fish_remains"==t.dragObject&&this.scr_stepsController.playFeedback([0],!1),"meat"==t.dragObject&&this.scr_stepsController.playFeedback([2],!1),"bones"==t.dragObject&&this.scr_stepsController.playFeedback([4],!1),"vegitable_peels"==t.dragObject&&this.scr_stepsController.playFeedback([6],!1),"styrofoam"==t.dragObject&&this.scr_stepsController.playFeedback([9],!1),"plastic_straws"==t.dragObject&&this.scr_stepsController.playFeedback([11],!1);if("organic_place_holder"==t.dropPlace){e=1,4==this.q2_organicDropZoneDropCount&&(r="1");var l=this.q2_organicDropZoneDropCount;t.isCorrectDropZone||l++,this.scr_stepsController.onOptionDropped({optionName:i,optionIndex:n,isCorrect:s,dropZone:e,totalDropzones:2,dropCountInCurrentZone:l,isDropCompletedInCurrentZone:r,isAllDropComplete:c,finalValue:a})}else{e=2,2==this.q2_inorganicDropZoneDropCount&&(r="1");l=this.q2_inorganicDropZoneDropCount;t.isCorrectDropZone||l++,this.scr_stepsController.onOptionDropped({optionName:i,optionIndex:n,isCorrect:s,dropZone:e,totalDropzones:2,dropCountInCurrentZone:l,isDropCompletedInCurrentZone:r,isAllDropComplete:c,finalValue:a})}},e.prototype.onOptionDroppedQuestion3=function(t){this.scr_stepsController.onOptionDropped({optionName:t.dragObject}),"plastic_crate_with_holes"==t.dragObject?(this.scr_stepsController.playFeedback([0],!0,!1),this.isQ3CorrectAnswerGiven=!0,this.scheduleOnce(function(){this.scr_uiManager.setActiveNextButton(!0)}.bind(this),11)):"cardboard_crate"==t.dragObject?this.scr_stepsController.playFeedback([1],!1):this.scr_stepsController.playFeedback([2],!1),this.hideOptions(this.step9_options_question3,t.dragObject)},e.prototype.giveFeedbackForQestion3=function(t){t.isCorrect?(this.step9_q3_feedback_with_hole.active=!0,this.step9_q3_feedback_with_hole.getChildByName("plastic_with_hole_anim").getComponent(cc.Animation).play()):"cardboard_crate"==t.answer?(this.step9_q3_feedback_cardboard.active=!0,this.step9_q3_feedback_cardboard.getChildByName("cardboard").getComponent(cc.Animation).play()):(this.step9_q3_feedback_without_hole.active=!0,this.step9_q3_feedback_without_hole.getChildByName("plastic_without_hole_anim").getComponent(cc.Animation).play())},e.prototype.onOptionDroppedQuestion4=function(t){var e=this.step_11_question4.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex();this.changeOpacityOfNode(this.step_11_question4.getChildByName("base_question").getChildByName("options"),0);var o=t.dragObject,i=e+1,n=t.isCorrectDropZone,s="0",r="wrong",a=!1;if(t.isCorrectDropZone){var c=!0;2==this.checkNumberOfEmptyValues(this.q4_isAllOptionsDropped)&&(c=!1),"cardboard"==t.dragObject&&(this.scr_stepsController.playFeedback([0],!0,c),this.q4_isAllOptionsDropped[0]=!0,this.q4_trayDropZoneCount++),"news_paper"==t.dragObject&&(this.scr_stepsController.playFeedback([1],!0,c),this.q4_isAllOptionsDropped[1]=!0,this.q4_trayDropZoneCount++),"soil"==t.dragObject&&(this.scr_stepsController.playFeedback([2],!0,c),this.q4_isAllOptionsDropped[2]=!0,this.q4_trayDropZoneCount++),this.q4_isAllOptionsDropped.includes(void 0)||(a=!0,r="correct")}else"thermocol"==t.dragObject&&this.scr_stepsController.playFeedback([3],!1),"plastic_wrap"==t.dragObject&&this.scr_stepsController.playFeedback([4],!1),"leather"==t.dragObject&&this.scr_stepsController.playFeedback([5],!1);3==this.q4_trayDropZoneCount&&(s="1"),this.scr_stepsController.onOptionDropped({optionName:o,optionIndex:i,isCorrect:n,dropZone:1,totalDropzones:1,dropCountInCurrentZone:this.q4_trayDropZoneCount,isDropCompletedInCurrentZone:s,isAllDropComplete:a,finalValue:r})},e.prototype.onOptionDroppedQuestion5=function(t){this.scr_stepsController.onOptionDropped({optionName:t.dragObject}),"redworms"==t.dragObject?(this.scr_stepsController.playFeedback([0],!0,!1),this.isQ5CorrectAnswerGiven=!0,this.scheduleOnce(function(){this.scr_uiManager.setActiveNextButton(!0)}.bind(this),10)):"hookworms"==t.dragObject?this.scr_stepsController.playFeedback([1],!1):"tapeworms"==t.dragObject?this.scr_stepsController.playFeedback([2],!1):this.scr_stepsController.playFeedback([3],!1),this.hideOptions(this.step12_options_question5,t.dragObject)},e.prototype.giveFeedbackForQestion5=function(t){t.isCorrect||t.answer},e.prototype.giveFeedbackForQestion6=function(t){if(this.scr_audioManager.play("bin_translucent",this.clipBinTranslucent,!1,"SFX"),t.isCorrect){var e=this.step13_options_question6.getChildByName("organic_bin");cc.tween(e).to(1,{opacity:0}).start();var o=this.step13_options_question6.getChildByName("organic_bin_content");cc.tween(o).to(1,{opacity:255}).start()}else{var i=this.step13_options_question6.getChildByName("inorganic_bin");cc.tween(i).to(1,{opacity:0}).start();var n=this.step13_options_question6.getChildByName("inorganic_bin_content");cc.tween(n).to(1,{opacity:255}).start()}},e.prototype.onOptionDroppedQuestion7=function(t){var e=this.step_15_question7.getChildByName("base_question").getChildByName("options").getChildByName(t.dragObject).getSiblingIndex();this.changeOpacityOfNode(this.step_15_question7.getChildByName("base_question").getChildByName("options"),0);var o=t.dragObject,i=e+1,n=t.isCorrectDropZone,s="0",r="wrong",a=!1;if(t.isCorrectDropZone){var c=!0;3==this.checkNumberOfEmptyValues(this.q7_isAllOptionsDropped)&&(c=!1),"pencil_shave"==t.dragObject&&(this.scr_stepsController.playFeedback([0],!0,c),this.q7_isAllOptionsDropped[0]=!0,this.q7_trayDropZoneCount++),"paper_pieces"==t.dragObject&&(this.scr_stepsController.playFeedback([1],!0,c),this.q7_isAllOptionsDropped[1]=!0,this.q7_trayDropZoneCount++),"coffee_powder"==t.dragObject&&(this.scr_stepsController.playFeedback([2],!0,c),this.q7_isAllOptionsDropped[2]=!0,this.q7_trayDropZoneCount++),"vegitable_peels"==t.dragObject&&(this.scr_stepsController.playFeedback([3],!0,c),this.q7_isAllOptionsDropped[3]=!0,this.q7_trayDropZoneCount++),this.q7_isAllOptionsDropped.includes(void 0)||(a=!0,r="correct",this.giveFeedbackForQestion7(!0))}else"fish_remains"==t.dragObject&&this.scr_stepsController.playFeedback([4],!1),"meat"==t.dragObject&&this.scr_stepsController.playFeedback([5],!1),"bones"==t.dragObject&&this.scr_stepsController.playFeedback([6],!1);4==this.q7_trayDropZoneCount&&(s="1"),this.scr_stepsController.onOptionDropped({optionName:o,optionIndex:i,isCorrect:n,dropZone:1,totalDropzones:1,dropCountInCurrentZone:this.q7_trayDropZoneCount,isDropCompletedInCurrentZone:s,isAllDropComplete:a,finalValue:r})},e.prototype.giveFeedbackForQestion7=function(t){if(console.log("Inside give feedback for q7 ",t),t){var e=this.step_15_question7.getChildByName("base_question").getChildByName("compost");cc.tween(e).to(2,{opacity:255}).start();var o=this.step_15_question7.getChildByName("base_question").getChildByName("place_holder");cc.tween(o).to(2,{opacity:0}).start()}},e.prototype.onOptionDroppedQuestion8=function(t){this.scr_stepsController.onOptionDropped({optionName:t.dragObject}),"news_paper"==t.dragObject?(this.scr_stepsController.playFeedback([0,3],!0,!1),this.isQ8CorrectAnswerGiven=!0,this.scheduleOnce(function(){this.scr_uiManager.setActiveNextButton(!0)}.bind(this),16)):"asbestos_sheet"==t.dragObject?this.scr_stepsController.playFeedback([1],!1):this.scr_stepsController.playFeedback([2,4],!1),this.hideOptions(this.step17_options_question8,t.dragObject)},e.prototype.giveFeedbackForQestion8=function(t){t.isCorrect||t.answer},e.prototype.checkNumberOfEmptyValues=function(t){var e=0;return t.forEach(function(t){void 0==t&&null==t||(e+=1)}),e},e.prototype.changeOpacityOfNode=function(t,e,o){void 0===o&&(o=1),cc.tween(t).to(o,{opacity:e}).start()},e.prototype.showOptions=function(t,e,o){void 0===e&&(e=3),void 0===o&&(o=!0);t.getChildByName("option1");cc.tween(t).delay(e).to(.5,{position:cc.v2(t.position.x,this.optionsShowPos)}).start(),o||cc.tween(t).to(.5,{opacity:255}).start()},e.prototype.hideOptions=function(t,e){t.getChildByName("option1"),t.getChildByName("option1");cc.tween(t).to(.5,{opacity:0}).start()},e.prototype.onCommonButtonClick=function(t){this.scr_uiManager.CommonButtonType.NextQuestion==t?this.scr_stepsController.loadNextStep():this.scr_uiManager.CommonButtonType.TryAgain==t&&this.resetAfterTryAgain()},e.prototype.disableAllExceptThis=function(t){this.step_0_1.active=!1,this.step_2.active=!1,this.step_3_4_question1.active=!1,this.step_6_question2.active=!1,this.step_8.active=!1,this.step_9_question3.active=!1,this.step_11_question4.active=!1,this.step_12_question5.active=!1,this.step_13_question6.active=!1,this.step_15_question7.active=!1,this.step_17_question8.active=!1,this.step_18.active=!1,this.step_19.active=!1,t.active=!0},n([h({type:cc.AudioClip})],e.prototype,"clip_bgMusic1",void 0),n([h(cc.Node)],e.prototype,"step_0_1",void 0),n([h(cc.Node)],e.prototype,"step_2",void 0),n([h(cc.Node)],e.prototype,"step_3_4_question1",void 0),n([h(cc.Node)],e.prototype,"step_6_question2",void 0),n([h(cc.Node)],e.prototype,"step_8",void 0),n([h(cc.Node)],e.prototype,"step_9_question3",void 0),n([h(cc.Node)],e.prototype,"step9_options_question3",void 0),n([h(cc.Node)],e.prototype,"step9_q3_feedback_with_hole",void 0),n([h(cc.Node)],e.prototype,"step9_q3_feedback_without_hole",void 0),n([h(cc.Node)],e.prototype,"step9_q3_feedback_cardboard",void 0),n([h(cc.Node)],e.prototype,"step_11_question4",void 0),n([h(cc.Node)],e.prototype,"step11_options_question4",void 0),n([h(cc.Node)],e.prototype,"step_12_question5",void 0),n([h(cc.Node)],e.prototype,"step12_options_question5",void 0),n([h(cc.Node)],e.prototype,"step_13_question6",void 0),n([h(cc.Node)],e.prototype,"step13_options_question6",void 0),n([h(cc.Node)],e.prototype,"step_15_question7",void 0),n([h(cc.Node)],e.prototype,"step15_options_question7",void 0),n([h(cc.Node)],e.prototype,"step_17_question8",void 0),n([h(cc.Node)],e.prototype,"step17_options_question8",void 0),n([h(cc.Node)],e.prototype,"step_18",void 0),n([h(cc.Node)],e.prototype,"step_19",void 0),n([h({type:cc.AudioClip})],e.prototype,"clipBinTranslucent",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../../framework/scripts/AudioManager":"AudioManager","../../../../framework/scripts/StepsController":"StepsController","../../../../framework/scripts/UIManager":"UIManager","./EXPL06SCI16E01_Tap_Detect":"EXPL06SCI16E01_Tap_Detect"}],EXPL07_Sample:[function(t,e,o){"use strict";cc._RF.push(e,"76ddaFT6kJM/5AJ9Sb+NPHD","EXPL07_Sample");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../framework/scripts/AudioManager"),r=t("../../../../framework/scripts/StepsController"),a=t("../../../../framework/scripts/UIManager"),c=t("../scripts/EXPL_selectionpanel"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.selectionPanel=null,e.intro=null,e.q1=null,e.outro=null,e.aud_correctfeedback=null,e.aud_wrongfeedback=null,e.aud_bgm=null,e}return i(e,t),e.prototype.onLoad=function(){this.scr_stepsController=this.canvas.getComponent(r.default),this.uiManager=this.canvas.getComponent(a.default),this.audioManager=this.canvas.getComponent(s.default),this.canvas.on("OnLoadStep",this.stepsHandler.bind(this)),this.canvas.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this)),this.scr_selectionPanel=this.selectionPanel.getComponent(c.default),this.node.on("OnOptionSelected",this.OnOptionSelected.bind(this))},e.prototype.start=function(){this.scr_stepsController.Initialise("EXPL07_Sample"),this.disableAllExceptThis(),this.audioManager.play("bgm",this.aud_bgm,!0,"BGM")},e.prototype.stepsHandler=function(t){switch(console.log("Steps handler. Current step is "+t),t){case 0:this.setupSceneForStep0();break;case 1:this.setupSceneForStep1();break;case 2:this.setupSceneForStep2Question1();break;case 3:this.setupSceneForStep3()}},e.prototype.OnOptionSelected=function(t){console.log("_selectedOption ",t);"2"==t?(this.audioManager.play("correctfeedback",this.aud_correctfeedback,!1,"SFX"),2==this.scr_stepsController.getCurrentStep()&&(this.q1.getChildByName("questionpart").active=!1,this.q1.getChildByName("feedbacks").active=!0,this.q1.getChildByName("feedbacks").getComponent(cc.Label).string="Show actions for Option 2"),this.scr_stepsController.playFeedback([1],!0,!1),this.scheduleOnce(function(){this.uiManager.setActiveNextButton(!0)}.bind(this),2)):(this.audioManager.play("wrongfeedback",this.aud_wrongfeedback,!1,"SFX"),2==this.scr_stepsController.getCurrentStep()&&(this.q1.getChildByName("questionpart").active=!1,this.q1.getChildByName("feedbacks").active=!0,this.q1.getChildByName("feedbacks").getComponent(cc.Label).string="Show actions for Option "+t),"1"==t?this.scr_stepsController.playFeedback([0],!1,!1):"3"==t?this.scr_stepsController.playFeedback([2],!1,!1):"4"==t&&this.scr_stepsController.playFeedback([3],!1,!1),this.scheduleOnce(function(){this.uiManager.setActiveTryAgainButton(!0)}.bind(this),2))},e.prototype.onCommonButtonClick=function(t){this.uiManager.CommonButtonType.NextQuestion==t?this.scr_stepsController.loadNextStep():this.uiManager.CommonButtonType.TryAgain==t&&this.scr_stepsController.loadNextStep(this.scr_stepsController.getCurrentStep())},e.prototype.setupSceneForStep0=function(){this.disableAllExceptThis(this.intro),this.intro.children[0].active=!0,this.intro.children[1].active=!1},e.prototype.setupSceneForStep1=function(){this.intro.children[0].active=!1,this.intro.children[1].active=!0},e.prototype.setupSceneForStep2Question1=function(){this.disableAllExceptThis(this.q1),this.q1.getChildByName("questionpart").active=!0,this.q1.getChildByName("feedbacks").active=!1,this.scheduleOnce(function(){this.scr_selectionPanel.ShowPanel()}.bind(this),4)},e.prototype.setupSceneForStep3=function(){this.disableAllExceptThis(this.outro)},e.prototype.disableAllExceptThis=function(t){void 0===t&&(t=null),this.intro.active=!1,this.q1.active=!1,this.outro.active=!1,null!=t&&(t.active=!0)},n([h(cc.Node)],e.prototype,"canvas",void 0),n([h(cc.Node)],e.prototype,"selectionPanel",void 0),n([h(cc.Node)],e.prototype,"intro",void 0),n([h(cc.Node)],e.prototype,"q1",void 0),n([h(cc.Node)],e.prototype,"outro",void 0),n([h({type:cc.AudioClip})],e.prototype,"aud_correctfeedback",void 0),n([h({type:cc.AudioClip})],e.prototype,"aud_wrongfeedback",void 0),n([h({type:cc.AudioClip})],e.prototype,"aud_bgm",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../../framework/scripts/AudioManager":"AudioManager","../../../../framework/scripts/StepsController":"StepsController","../../../../framework/scripts/UIManager":"UIManager","../scripts/EXPL_selectionpanel":"EXPL_selectionpanel"}],EXPL_selectionpanel:[function(t,e,o){"use strict";cc._RF.push(e,"06d9dymiadJ66Qn/VG0UBvU","EXPL_selectionpanel");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameNode=null,e}return i(e,t),e.prototype.onLoad=function(){this.HidePanel()},e.prototype.start=function(){},e.prototype.OnSelectButton=function(t){this.node.children.forEach(function(t){t.getComponent(cc.Button).interactable=!1}),this.gameNode.emit("OnOptionSelected",t.target.name),this.scheduleOnce(function(){this.HidePanel()}.bind(this),.5)},e.prototype.ShowPanel=function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,-300))),this.node.children.forEach(function(t){t.getComponent(cc.Button).interactable=!0})},e.prototype.HidePanel=function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,-600)))},n([a(cc.Node)],e.prototype,"gameNode",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],ExitPayloadManager:[function(t,e,o){"use strict";cc._RF.push(e,"05b19pwIwtBYJWSGPld+/Jq","ExitPayloadManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../framework/scripts/UIManager"),r=cc._decorator,a=r.ccclass,c=(r.property,function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.exitPayloadObject={},t.gameStatus="abandoned",t.currentQuestionIndex=0,t.gameID="",t.attemptsToCompleteQuestion=1,t.questionCompletionStatus="incomplete",t.questionStartTime=0,t}return i(o,e),o.prototype.onLoad=function(){this.bridge=t("dsbridge"),this.node.on("OnJsonLoadComplete",this.onJsonLoadComplete.bind(this)),this.node.on("OnQuestionStart",this.onQuestionStarted.bind(this)),this.node.on("OnQuestionComplete",this.onQuestionCompleted.bind(this)),this.node.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this)),this.node.on("OnEndScreenReach",this.onEndScreenReach.bind(this))},o.prototype.start=function(){this.scr_uiManager=this.node.getComponent(s.default)},o.prototype.onJsonLoadComplete=function(t){console.log("game id is ",t.gameID),this.gameID="com.explore."+t.gameID,this.exitPayloadObject.gameid=this.gameID,this.exitPayloadObject.gamestatus=this.gameStatus,this.exitPayloadObject.interactions={}},o.prototype.onQuestionStarted=function(t){this.currentQuestionIndex!==t.questionIndex&&(this.attemptsToCompleteQuestion=1,this.questionCompletionStatus="incomplete",this.questionStartTime=Math.floor(cc.director.getTotalTime()/1e3),this.currentQuestionIndex=t.questionIndex,this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex]={},this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].difficulty="null",this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].status=this.questionCompletionStatus,this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].attempts=this.attemptsToCompleteQuestion,this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].id=this.gameID+"_"+this.currentQuestionIndex)},o.prototype.onQuestionCompleted=function(t){void 0===t&&(t=null),this.questionCompletionStatus="complete",this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].status=this.questionCompletionStatus,this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].attempts=this.attemptsToCompleteQuestion,this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].totaltime_secs=Math.floor(cc.director.getTotalTime()/1e3)-this.questionStartTime},o.prototype.onEndScreenReach=function(t){void 0===t&&(t=null),console.log("####### end screen is called"),this.gameStatus="completed"},o.prototype.onCommonButtonClick=function(t){this.scr_uiManager.CommonButtonType.NextQuestion==t?this.onQuestionCompleted():this.scr_uiManager.CommonButtonType.TryAgain==t&&this.attemptsToCompleteQuestion++},o.prototype.onCloseButtonClick=function(){this.scheduleOnce(function(){console.log("BridgeIntegration On Close clicked!"),this.bridge.call("byjus.sendExploreUIEvent",{tag:"close",data:this.getExitPayload()})}.bind(this),.2)},o.prototype.sendExitPayload=function(){this.bridge.call("byjus.sendExploreUIEvent",{tag:"finish",data:this.getExitPayload()})},o.prototype.getExitPayload=function(){return this.exitPayloadObject.totalgametime_secs=Math.floor(cc.director.getTotalTime()/1e3),this.exitPayloadObject.gamestatus=this.gameStatus,console.log("#### exit payload game status is ",this.gameStatus),"completed"!=this.gameStatus?this.exitPayloadObject.currentLevel=this.currentQuestionIndex:this.exitPayloadObject.hasOwnProperty("currentLevel")&&delete this.exitPayloadObject.currentLevel,void 0!=this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex]&&(this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].status=this.questionCompletionStatus,this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].attempts=this.attemptsToCompleteQuestion,this.exitPayloadObject.interactions["interaction_"+this.currentQuestionIndex].totaltime_secs=Math.floor(cc.director.getTotalTime()/1e3)-this.questionStartTime),console.log("Exit payload is ",JSON.stringify(this.exitPayloadObject)),JSON.stringify(this.exitPayloadObject)},o=n([a],o)}(cc.Component));o.default=c,cc._RF.pop()},{"../../framework/scripts/UIManager":"UIManager",dsbridge:"dsbridge"}],ExpressionGenerateManager:[function(t,e,o){"use strict";cc._RF.push(e,"baaf9vrLv5JNrgQxsIIj8VX","ExpressionGenerateManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageAtlasRef=null,e.mathQuillObj=null,e.totoalExpressionCount=0,e.currentExpressionCount=0,e.spriteFrameDictionary={},e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o._mInstance=this,this.mathQuillObj=MathQuill.getInterface(MathQuill.getInterface.MAX)},e.getInstance=function(){return this._mInstance},e.prototype.createAtlasForMathExpression=function(t,e,o){console.log("pExpressionObject------------",t.length),this.totoalExpressionCount=t.length,this.currentExpressionCount=0;for(var i=0;i<t.length;i++){var n=t[i],s=e;for(var r in n.hasOwnProperty("color")&&(s=new cc.Color(n.color[0],n.color[1],n.color[2],n.color[3])),n){var a=n[r];"color"!=r&&this.convertLatextToDom(a,r,"expression",s,o)}}},e.prototype.convertLatextToDom=function(t,e,o,i,n,s,r){var a=this;if(void 0===s&&(s=null),void 0===r&&(r=!1),this.spriteFrameDictionary.hasOwnProperty(e)){var c=this.spriteFrameDictionary[e];if(null!=s&&0==r)return console.log("Already Contains Frame----------------------"),void s.emit("onSpriteFrameLoaded",c)}t=(t=(t=decodeURIComponent(t)).replace(/\$/g,"")).replace(/\\+/g,"\\"),console.log("latextStr",t),0!=$("#"+e).length&&(e=e+"_dup_"+$("#"+e).length);var p=e+"_class",l='<div id="'+e+'" style="color:rgba('+i.r+","+i.g+","+i.b+","+i.a+"); font-size:"+n+'px" font-weight:bold; class="'+p+'">'+t+"</div>";$("#"+o).append(l),this.mathQuillObj.StaticMath($("."+p)[0]),cc.tween(this.node).delay(.1).call(function(){a.createCanvasFromDom(e,s)}).start()},e.prototype.createCanvasFromDom=function(t,e){void 0===e&&(e=null);var o=this;html2canvas($("#"+t)[0],{backgroundColor:null,scale:1}).then(function(i){var n=i.toDataURL();o.appendTextureToAtlas(n,t,e)})},e.prototype.appendTextureToAtlas=function(t,e,o){void 0===o&&(o=null);var i=new Image;i.src=t;var n=this;i.onload=function(){var t=new cc.Texture2D;t.initWithElement(i),t.handleLoadedTexture();var s=new cc.SpriteFrame(t);s.name=e,n.spriteFrameDictionary[e]=s,null!=o?o.emit("onSpriteFrameLoaded",s):(n.imageAtlasRef._spriteFrames[e]=s,n.currentExpressionCount++,n.currentExpressionCount==n.totoalExpressionCount&&(console.log("Expression Image creation Completion"),n.node.emit("OnExpressionLoadComplete")))}},e.prototype.createAtlasFromImage=function(t){for(var e in t){var o=t[e];this.loadImageFromResourceFolder(e,o)}},e.prototype.loadImageFromResourceFolder=function(t,e){var o=this;cc.loader.loadRes(e,cc.SpriteFrame,function(e,i){e?cc.error(e.message||e):o.imageAtlasRef._spriteFrames[t]=i}.bind(this))},e._mInstance=null,n([a(cc.SpriteAtlas)],e.prototype,"imageAtlasRef",void 0),e=o=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],ExpressionLoader:[function(t,e,o){"use strict";cc._RF.push(e,"8ead2Vn4tlON5SyfdTpDi6I","ExpressionLoader");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../StepsController"),r=t("../ExpressionGenerateManager"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteNode=null,e.key="hello",e.fontSize=26,e.commmonCanvas=null,e.jsonData=null,e}return i(e,t),e.prototype.start=function(){if(this.spriteNode=this.node.getComponent(cc.Sprite),this.commmonCanvas=cc.find("CommonCanvas"),this.node.on("onSpriteFrameLoaded",this.onSpriteFrameLoaded,this),this.scr_stepsController=this.commmonCanvas.getComponent(s.default),this.scr_stepsController.getTextByKey(this.key,"expressionsSprite")){var t=this.scr_stepsController.getTextByKey(this.key,"expressionsSprite");this.convertLatextToImage(t)}},e.prototype.convertLatextToImage=function(t){var e=this.node.color;r.default.getInstance().convertLatextToDom(t,this.key,"expression",e,this.fontSize,this.node)},e.prototype.onSpriteFrameLoaded=function(t){console.log("Sprite Frame Called"),this.spriteNode.spriteFrame=t},n([p],e.prototype,"key",void 0),n([p],e.prototype,"fontSize",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../ExpressionGenerateManager":"ExpressionGenerateManager","../StepsController":"StepsController"}],Geometry_Highlight:[function(t,e,o){"use strict";cc._RF.push(e,"73762aeRahG36rXt8PsWy2M","Geometry_Highlight");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spritesToHighlight=[],e.fadeInOutSequence=null,e}return i(e,t),e.prototype.onLoad=function(){this.setOpacity(0)},e.prototype.setOpacity=function(t){this.node.opacity=0},e.prototype.highlight=function(t){"YELLOW"==t?this.changeSpritesColor(cc.Color.YELLOW):"RED"==t?this.changeSpritesColor(cc.Color.RED):this.changeSpritesColor(cc.Color.GREEN),this.setOpacity(0),this.fadeInOutSequence=cc.repeat(cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5)),2).repeatForever(),this.node.runAction(this.fadeInOutSequence)},e.prototype.changeSpritesColor=function(t){this.spritesToHighlight.forEach(function(e){e.node.color=t})},e.prototype.changeHighlight=function(t){"YELLOW"==t?this.changeSpritesColor(cc.Color.YELLOW):"RED"==t?this.changeSpritesColor(cc.Color.RED):this.changeSpritesColor(cc.Color.GREEN)},e.prototype.stop=function(){this.node.stopAction(this.fadeInOutSequence),this.setOpacity(0)},e.prototype.onDisable=function(){stop()},n([a(cc.Sprite)],e.prototype,"spritesToHighlight",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],Geometry_Hint:[function(t,e,o){"use strict";cc._RF.push(e,"0b2f0oxlFBH8q4gLq/DTcV8","Geometry_Hint");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/AudioManager"),a=t("../../scripts/StepsController"),c=t("../../scripts/utilities/TextLoader"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.diagramNode=null,e.diagramSprite=null,e.shouldOverridePositionAndScale=!1,e.diagramPosition=cc.v3(0,0,0),e.diagramScale=cc.v2(0,0),e.hintBox=null,e.hintTextLoader=null,e.hintButtonSprite=null,e.enabledHintButtonSpriteFrame=null,e.disabledHintButtonSpriteFrame=null,e.hintButton=null,e.hintOverlay=null,e.buttonClickSfx=null,e.isShown=!1,e.diagramInitialPosition=cc.v3(0,0,0),e.diagramInitialScale=cc.v2(0,0),e}return i(e,t),e.prototype.start=function(){this.scr_analyticsManager=cc.find("CommonCanvas").getComponent(s.default),this.scr_stepsController=cc.find("CommonCanvas").getComponent(a.default),this.scr_audioManager=cc.find("CommonCanvas").getComponent(r.default),this.diagramInitialPosition=this.diagramNode.position,this.diagramInitialScale.x=this.diagramNode.scaleX,this.diagramInitialScale.y=this.diagramNode.scaleY,this.deactivate()},e.prototype.set=function(t,e){this.hintTextLoader.changeLabel(t),e&&(this.diagramSprite.spriteFrame=e),this.hide(),this.isShown=!1},e.prototype.onClickHintButton=function(){this.isShown=!this.isShown,this.isShown?this.show():this.hide()},e.prototype.show=function(){this.scr_analyticsManager.sendOnHintButtonClick(this.scr_stepsController.getCurrentQuestionIndex()),this.scr_analyticsManager.sendOnHintView(this.scr_stepsController.getCurrentQuestionIndex()),this.buttonClickSfx&&this.scr_audioManager.play("buttonClick",this.buttonClickSfx,!1,"SFX"),this.shouldOverridePositionAndScale?(this.diagramNode.position=this.diagramPosition,this.diagramNode.scaleX=this.diagramScale.x,this.diagramNode.scaleY=this.diagramScale.y):this.diagramNode.scale=.5,this.hintBox.active=!0,this.hintButtonSprite.spriteFrame=this.disabledHintButtonSpriteFrame,this.hintOverlay.active=!0},e.prototype.hide=function(){this.diagramNode.position=this.diagramInitialPosition,this.diagramNode.scaleX=this.diagramInitialScale.x,this.diagramNode.scaleY=this.diagramInitialScale.y,this.hintBox.active=!1,this.hintButtonSprite.spriteFrame=this.enabledHintButtonSpriteFrame,this.hintOverlay.active=!1},e.prototype.activate=function(){this.hintButtonSprite.spriteFrame=this.enabledHintButtonSpriteFrame,this.hintButton.interactable=!0},e.prototype.deactivate=function(){this.hintButtonSprite.spriteFrame=this.enabledHintButtonSpriteFrame,this.hintButton.interactable=!1},n([h(cc.Node)],e.prototype,"diagramNode",void 0),n([h(cc.Sprite)],e.prototype,"diagramSprite",void 0),n([h(cc.Boolean)],e.prototype,"shouldOverridePositionAndScale",void 0),n([h(cc.Vec3)],e.prototype,"diagramPosition",void 0),n([h(cc.Vec2)],e.prototype,"diagramScale",void 0),n([h(cc.Node)],e.prototype,"hintBox",void 0),n([h(c.default)],e.prototype,"hintTextLoader",void 0),n([h(cc.Sprite)],e.prototype,"hintButtonSprite",void 0),n([h(cc.SpriteFrame)],e.prototype,"enabledHintButtonSpriteFrame",void 0),n([h(cc.SpriteFrame)],e.prototype,"disabledHintButtonSpriteFrame",void 0),n([h(cc.Button)],e.prototype,"hintButton",void 0),n([h(cc.Node)],e.prototype,"hintOverlay",void 0),n([h({type:cc.AudioClip})],e.prototype,"buttonClickSfx",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/AudioManager":"AudioManager","../../scripts/StepsController":"StepsController","../../scripts/utilities/TextLoader":"TextLoader"}],Geometry_OptionHandler:[function(t,e,o){"use strict";cc._RF.push(e,"23b038CDN9PBaWE8bDAWRDP","Geometry_OptionHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/AudioManager"),a=t("../../scripts/StepsController"),c=t("../../scripts/utilities/TextLoader"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPosition=0,e.endPosition=0,e.optionBG=null,e.enabledOptionBGSpriteFrame=null,e.disabledOptionBGSpriteFrame=null,e.optionSprites=[],e.enabledOptionSpriteFrame=null,e.disabledOptionSpriteFrame=null,e.hightlightedOptionSpriteFrame=null,e.optionTextLoaders=[],e.sliderSprite=null,e.enabledSliderSpriteFrame=null,e.disabledSliderSpriteFrame=null,e.submitSprite=null,e.enabledSubmitSpriteFrame=null,e.disabledSubmitSpriteFrame=null,e.submitTextLoader=null,e.slider=null,e.pointerSprite=null,e.enabledPointerSpriteFrame=null,e.disabledPointerSpriteFrame=null,e.pointerButton=null,e.submitButton=null,e.canvas=null,e.optionSfx=null,e.optionChooseSfx=null,e.submitClickSfx=null,e.optionHideSfx=null,e.audioManager=null,e.isActivated=!1,e.selectedOption=-1,e.previousSelectedOption=-1,e}return i(e,t),e.prototype.onLoad=function(){this.audioManager=this.canvas.getComponent(r.default),this.analyticsManager=this.canvas.getComponent(s.default),this.stepsController=this.canvas.getComponent(a.default),this.slider.node.on("slide",this.onSlide.bind(this),this),this.slider.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.slider.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd.bind(this),this),this.pointerButton.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.pointerButton.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd.bind(this),this),this.submitSprite.spriteFrame=this.disabledSubmitSpriteFrame,this.submitButton.interactable=!1,this.sliderSprite.spriteFrame=this.disabledSliderSpriteFrame,this.slider.enabled=!1},e.prototype.onSlide=function(t){this.onSliderValueChange(!1)},e.prototype.onTouchEnd=function(){this.onSliderValueChange(!0)},e.prototype.onSliderValueChange=function(t){if(this.isActivated){var e=this.slider.progress,o=this.selectedOption;e>=.69?(e=.85,this.selectedOption=2):e>=.355?(e=.52,this.selectedOption=1):(e=.18,this.selectedOption=0),t&&cc.tween(this.slider).to(.1,{progress:e}).start(),o!=this.selectedOption&&this.onOptionChange(o,this.selectedOption)}},e.prototype.onOptionChange=function(t,e){this.optionChooseSfx&&this.audioManager.play("optionChoose",this.optionChooseSfx,!1,"SFX"),this.submitSprite.spriteFrame=this.enabledSubmitSpriteFrame,this.submitButton.interactable=!0,-1!=t&&(this.optionSprites[t].spriteFrame=this.enabledOptionSpriteFrame),this.optionSprites[e].spriteFrame=this.hightlightedOptionSpriteFrame,this.selectedOption=e,this.node.emit("onOptionChange",t,e)},e.prototype.showOptions=function(t,e){this.selectedOption=-1,this.previousSelectedOption=-1;for(var o=0;o<this.optionTextLoaders.length;o++)this.optionTextLoaders[o].changeLabel(t[o]);this.submitTextLoader.changeLabel(e),this.optionBG.spriteFrame=this.enabledOptionBGSpriteFrame,this.setOptionSprites(this.enabledOptionSpriteFrame),this.sliderSprite.spriteFrame=this.enabledSliderSpriteFrame,this.slider.progress=.025,this.pointerSprite.spriteFrame=this.enabledPointerSpriteFrame,this.pointerButton.interactable=!0,this.isActivated=!0,this.submitSprite.spriteFrame=this.disabledSubmitSpriteFrame,this.submitButton.interactable=!1,this.slider.enabled=!0,this.optionSfx&&this.audioManager.play("optionSfx",this.optionSfx,!1,"SFX"),this.move(this.endPosition)},e.prototype.move=function(t){cc.tween(this.node).to(.5,{y:t}).start()},e.prototype.setOptionSprites=function(t){this.optionSprites.forEach(function(e){e.spriteFrame=t})},e.prototype.onClickSubmit=function(){this.submitClickSfx&&this.audioManager.play("optionChoose",this.submitClickSfx,!1,"SFX"),this.slider.enabled=!1,this.optionBG.spriteFrame=this.disabledOptionBGSpriteFrame,this.setOptionSprites(this.disabledOptionSpriteFrame),this.sliderSprite.spriteFrame=this.disabledSliderSpriteFrame,this.pointerSprite.spriteFrame=this.disabledPointerSpriteFrame,this.pointerButton.interactable=!1,this.isActivated=!1,this.submitSprite.spriteFrame=this.disabledSubmitSpriteFrame,this.submitButton.interactable=!1,this.node.emit("onSubmit",this.selectedOption),this.scheduleOnce(this.hide.bind(this),.5)},e.prototype.hide=function(){this.move(this.startPosition),this.optionHideSfx&&this.audioManager.play("optionHide",this.optionHideSfx,!1,"SFX")},n([h({type:cc.Float})],e.prototype,"startPosition",void 0),n([h({type:cc.Float})],e.prototype,"endPosition",void 0),n([h(cc.Sprite)],e.prototype,"optionBG",void 0),n([h(cc.SpriteFrame)],e.prototype,"enabledOptionBGSpriteFrame",void 0),n([h(cc.SpriteFrame)],e.prototype,"disabledOptionBGSpriteFrame",void 0),n([h(cc.Sprite)],e.prototype,"optionSprites",void 0),n([h(cc.SpriteFrame)],e.prototype,"enabledOptionSpriteFrame",void 0),n([h(cc.SpriteFrame)],e.prototype,"disabledOptionSpriteFrame",void 0),n([h(cc.SpriteFrame)],e.prototype,"hightlightedOptionSpriteFrame",void 0),n([h(c.default)],e.prototype,"optionTextLoaders",void 0),n([h(cc.Sprite)],e.prototype,"sliderSprite",void 0),n([h(cc.SpriteFrame)],e.prototype,"enabledSliderSpriteFrame",void 0),n([h(cc.SpriteFrame)],e.prototype,"disabledSliderSpriteFrame",void 0),n([h(cc.Sprite)],e.prototype,"submitSprite",void 0),n([h(cc.SpriteFrame)],e.prototype,"enabledSubmitSpriteFrame",void 0),n([h(cc.SpriteFrame)],e.prototype,"disabledSubmitSpriteFrame",void 0),n([h(c.default)],e.prototype,"submitTextLoader",void 0),n([h(cc.Slider)],e.prototype,"slider",void 0),n([h(cc.Sprite)],e.prototype,"pointerSprite",void 0),n([h(cc.SpriteFrame)],e.prototype,"enabledPointerSpriteFrame",void 0),n([h(cc.SpriteFrame)],e.prototype,"disabledPointerSpriteFrame",void 0),n([h(cc.Button)],e.prototype,"pointerButton",void 0),n([h(cc.Button)],e.prototype,"submitButton",void 0),n([h(cc.Node)],e.prototype,"canvas",void 0),n([h({type:cc.AudioClip})],e.prototype,"optionSfx",void 0),n([h({type:cc.AudioClip})],e.prototype,"optionChooseSfx",void 0),n([h({type:cc.AudioClip})],e.prototype,"submitClickSfx",void 0),n([h({type:cc.AudioClip})],e.prototype,"optionHideSfx",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/AudioManager":"AudioManager","../../scripts/StepsController":"StepsController","../../scripts/utilities/TextLoader":"TextLoader"}],Geometry_StepsHandler:[function(t,e,o){"use strict";cc._RF.push(e,"f969f4pMp5JVqwxgwJgEnx9","Geometry_StepsHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AudioManager"),r=t("../../scripts/utilities/TextLoader"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.viewNode=null,e.contentLayout=null,e.stepTemplate=null,e.scrollview=null,e.stepAddSfx=null,e.numberOfSteps=0,e.steps=[],e}return i(e,t),e.prototype.onLoad=function(){this.audioManager=cc.find("CommonCanvas").getComponent(s.default)},e.prototype.addStep=function(){var t=cc.instantiate(this.stepTemplate);this.contentLayout.node.addChild(t),t.children[1].children[0].getComponent(cc.Label).string=(this.numberOfSteps+1).toString()+".";var e=t.children[1].children[1],o="step_"+(this.numberOfSteps+1);e.getComponent(r.default).changeLabel(o),t.active=!0,t.children[1].height=e.height,t.height=e.height+5,this.steps.push(t),this.numberOfSteps++,this.adjustHeightOfContent(),this.handleScrollbar(),this.stepAddSfx&&this.audioManager.play("stepAdd",this.stepAddSfx,!1,"SFX")},e.prototype.adjustHeightOfContent=function(){for(var t=0,e=0;e<this.numberOfSteps;e++)t+=this.steps[e].height;t+=(this.numberOfSteps-1)*this.contentLayout.spacingY,this.contentLayout.node.height=t},e.prototype.handleScrollbar=function(){this.scrollview.verticalScrollBar.node.active=this.contentLayout.node.height>this.viewNode.height,this.contentLayout.node.height<=this.viewNode.height?this.scrollview.scrollToTop():this.scrollview.scrollToBottom()},e.prototype.fadeOutHighlight=function(){cc.tween(this.steps[this.steps.length-1].children[0]).to(1,{opacity:0}).start()},n([p(cc.Node)],e.prototype,"viewNode",void 0),n([p(cc.Layout)],e.prototype,"contentLayout",void 0),n([p(cc.Node)],e.prototype,"stepTemplate",void 0),n([p(cc.ScrollView)],e.prototype,"scrollview",void 0),n([p({type:cc.AudioClip})],e.prototype,"stepAddSfx",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AudioManager":"AudioManager","../../scripts/utilities/TextLoader":"TextLoader"}],NodeUtility:[function(t,e,o){"use strict";cc._RF.push(e,"52b4frQ2jRI57AXEHdNAj+P","NodeUtility"),cc.Node.prototype.blinkNode=function(t,e,o){if(void 0===t&&(t=1),void 0===e&&(e=1),null!=this){this.active=!0;var i=cc.tween().to(t/2,{opacity:0}),n=cc.tween().to(t/2,{opacity:255});-1!=e?cc.tween(this).sequence(i,n).repeat(e).call(o).start():cc.tween(this).sequence(i,n).repeatForever().start()}},cc.Node.prototype.playAnimation=function(t,e,o){if(void 0===e&&(e=1),null==this)return 0;this.active=!0;var i=this.getComponent(cc.Animation);if(null==i)return 0;var n=i.play(t);if(n.wrapMode==cc.WrapMode.Loop)return 0;n.repeatCount=e;var s=n.duration/n.speed*e;return cc.tween(this).delay(s).call(o).start(),s},cc.Node.prototype.resetAnim=function(t){if(null!=this){var e=this.getComponent(cc.Animation);null!=e&&(e.stop(t),e.setCurrentTime(0,t))}},cc.Node.prototype.setActive=function(t,e,o,i){var n=this;if(void 0===e&&(e=1),void 0===i&&(i="cubicOut"),null!=this&&this.active!=t){if(t){this.opacity=0,this.active=!0;var s=255}else{this.opacity=255;s=0}cc.tween(this).to(e,{opacity:s},{easing:i}).call(function(){t||(n.active=!1),o&&o()}).start()}},cc.Node.prototype.moveNode=function(t,e,o,i){void 0===e&&(e=1),void 0===i&&(i="smooth"),null!=this&&cc.tween(this).to(e,{position:t},{easing:i}).call(o).start()},cc.Node.prototype.bezierMoveNode=function(t,e,o,i){if(void 0===e&&(e=200),void 0===o&&(o=1),null!=this){var n=this.getPosition(),s=t.sub(n),r=cc.v2(n.x+.4*s.x,n.y+e),a=cc.v2(n.x+.8*s.x,n.y+e);cc.tween(this).bezierTo(o,r,a,t).call(i).start()}},cc.Node.prototype.rotateNode=function(t,e,o,i){void 0===e&&(e=1),void 0===i&&(i="smooth"),null!=this&&cc.tween(this).to(e,{angle:t},{easing:i}).call(o).start()},cc.Node.prototype.scaleNode=function(t,e,o,i){void 0===e&&(e=1),void 0===i&&(i="smooth"),null!=this&&cc.tween(this).to(e,{scale:t},{easing:i}).call(o).start()},cc.Node.prototype.inverseTransform=function(t){if(null==this)return cc.Vec2.ZERO;var e=this.convertToWorldSpaceAR(cc.Vec2.ZERO);return t.convertToNodeSpaceAR(e)},cc.Node.prototype.setParentWithSamePos=function(t){if(null!=this){var e=this.inverseTransform(t);this.setParent(t),this.setPosition(e)}},cc._RF.pop()},{}],QuestionProgressBar:[function(t,e,o){"use strict";cc._RF.push(e,"7e4dccjsaRHcoGkkr+W3136","QuestionProgressBar");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../scripts/AudioManager"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.spr_iconempty=null,e.spr_iconfilled=null,e.spr_iconfilledAfterFirstAttempt=null,e.aud_progressbarfill=null,e.aud_highlighticon=null,e.noOfQs=5,e.offsePosx=0,e.offseProgression=-10,e.bgEffectiveLength=500,e.progressBarOffsetX=250,e.bgNode=null,e.progressionNode=null,e.highlightNode=null,e.questionsNode=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.canvas&&(this.audioManager=this.canvas.getComponent(s.default)),this.bgNode=this.node.getChildByName("bg"),this.progressionNode=this.bgNode.getChildByName("progression"),this.highlightNode=this.bgNode.getChildByName("highlight"),this.highlightNode.opacity=0,this.progressionNode.children.forEach(function(e){t.questionsNode.push(e)}),this.questionsNode[0].x=(this.bgEffectiveLength-(this.progressionNode.x+this.progressBarOffsetX))/this.noOfQs+this.offsePosx,this.questionsNode[0].width=46,this.questionsNode[0].height=46,this.progressionNode.width=0;for(var e=0;e<this.noOfQs;e++)if(e>0){var o=cc.instantiate(this.questionsNode[0]);o.parent=this.questionsNode[0].parent,o.name=this.questionsNode[0].name.substr(0,1)+(e+1).toString(),o.x=(this.bgEffectiveLength-(this.progressionNode.x+this.progressBarOffsetX))/this.noOfQs*(e+1)+this.offsePosx,e==this.noOfQs-1?(o.width=50,o.height=50):(o.width=46,o.height=46),this.questionsNode.push(o)}this.questionsNode.forEach(function(e){e.getComponent(cc.Sprite).spriteFrame=t.spr_iconempty})},e.prototype.UpdateProgressQuestionBar=function(t,e){var o=this,i=this.questionsNode[t-1].x+this.offseProgression;this.canvas&&this.audioManager.play("progressbarfill",this.aud_progressbarfill,!1,"SFX"),cc.tween(this.progressionNode).to(1,{width:i},{easing:"sineOut"}).call(function(){o.canvas&&o.audioManager.play("highlighticon",o.aud_highlighticon,!1,"SFX"),o.questionsNode[t-1].getComponent(cc.Sprite).spriteFrame=e?o.spr_iconfilled:o.spr_iconfilledAfterFirstAttempt}).start(),this.highlightNode.getComponent(cc.Sprite)&&this.highlightNode.runAction(cc.sequence(cc.fadeIn(.3),cc.fadeOut(.2)).repeat(4))},n([c(cc.Node)],e.prototype,"canvas",void 0),n([c(cc.SpriteFrame)],e.prototype,"spr_iconempty",void 0),n([c(cc.SpriteFrame)],e.prototype,"spr_iconfilled",void 0),n([c(cc.SpriteFrame)],e.prototype,"spr_iconfilledAfterFirstAttempt",void 0),n([c({type:cc.AudioClip})],e.prototype,"aud_progressbarfill",void 0),n([c({type:cc.AudioClip})],e.prototype,"aud_highlighticon",void 0),n([c],e.prototype,"noOfQs",void 0),n([c],e.prototype,"offsePosx",void 0),n([c],e.prototype,"offseProgression",void 0),n([c],e.prototype,"bgEffectiveLength",void 0),n([c],e.prototype,"progressBarOffsetX",void 0),e=n([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../scripts/AudioManager":"AudioManager"}],StepType_Empty:[function(t,e,o){"use strict";cc._RF.push(e,"1d46b/t/4BJtL4dDCVCbis2","StepType_Empty");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../StepsController"),r=t("../UIManager"),a=cc._decorator,c=a.ccclass,p=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowHints=!1,e.isLoadNextStep=!0,e}return i(e,t),e.prototype.onLoad=function(){this.scr_UIManager=this.node.getComponent(r.default),this.scr_stepController=this.node.getComponent(s.default)},e.prototype.initialise=function(t){this.isLoadNextStep=!0,this.scr_UIManager.hideFooterText(),this.scr_UIManager.hideHeaderText(),t.autoNext&&this.scheduleOnce(function(){this.isLoadNextStep&&this.scr_stepController.loadNextStep()}.bind(this),t.duration),t.hasOwnProperty("isShowHints")?this.isShowHints=t.isShowHints:this.isShowHints=!1,this.scr_UIManager.setActiveHintButton(this.isShowHints)},e=n([c],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../StepsController":"StepsController","../UIManager":"UIManager"}],StepType_Info:[function(t,e,o){"use strict";cc._RF.push(e,"8cc95XDAmlCzaJPO8T8GhoY","StepType_Info");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../AudioManager"),r=t("../StepsController"),a=t("../UIManager"),c=cc._decorator,p=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowHints=!1,e.isLoadNextStep=!0,e}return i(e,t),e.prototype.onLoad=function(){this.scr_UIManager=this.node.getComponent(a.default),this.scr_stepController=this.node.getComponent(r.default),this.audioManager=this.node.getComponent(s.default)},e.prototype.initialise=function(t){this.isLoadNextStep=!0;var e=1;t.hasOwnProperty("delay")&&(e=t.delay),this.scheduleOnce(function(){this.scr_UIManager.showHeaderText(t.text),this.scheduleOnce(function(){this.playAudio(t.audioFile)}.bind(this),1),t.autoNext&&this.scheduleOnce(function(){this.isLoadNextStep&&this.scr_stepController.loadNextStep()}.bind(this),t.duration)}.bind(this),e),t.hasOwnProperty("isShowHints")?this.isShowHints=t.isShowHints:this.isShowHints=!1,this.scr_UIManager.setActiveHintButton(this.isShowHints)},e.prototype.playAudio=function(t){cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.warn(t.message||t):this.audioManager.play(e.name,e,!1,"VO")}.bind(this))},e=n([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../StepsController":"StepsController","../UIManager":"UIManager"}],StepType_Question_1:[function(t,e,o){"use strict";cc._RF.push(e,"25c4f8Oc4tNYJXfcEPSVBja","StepType_Question_1");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../AnalyticsManager"),r=t("../AudioManager"),a=t("../UIManager"),c=t("../StepsController"),p=cc._decorator,l=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastOptionDropped=0,e.isAutoShowNextButton=!0,e.isAutoPlayFeedback=!0,e.isShowHints=!1,e}return i(e,t),e.prototype.onLoad=function(){this.scr_uiManager=this.node.getComponent(a.default),this.audioManager=this.node.getComponent(r.default),this.scr_analyticsManager=this.node.getComponent(s.default),this.scr_stepsController=this.node.getComponent(c.default),this.node.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this))},e.prototype.initialise=function(t){this.node.emit("OnQuestionStart",{questionIndex:t.questionNumber}),this.currentStepJsonData=t;var e=1;t.hasOwnProperty("delay")&&(e=t.delay),t.hasOwnProperty("isAutoShowNextButton")?this.isAutoShowNextButton=t.isAutoShowNextButton:this.isAutoShowNextButton=!0,this.scheduleOnce(function(){this.scr_uiManager.showHeaderText(t.question.text),this.scheduleOnce(function(){this.playAudio(t.question.audioFile)}.bind(this),1)}.bind(this),e),this.currentStepJsonData.hasOwnProperty("isAutoPlayFeedback")&&(this.isAutoPlayFeedback=this.currentStepJsonData.isAutoPlayFeedback),t.hasOwnProperty("isShowHints")?this.isShowHints=t.isShowHints:this.isShowHints=!1,this.scr_uiManager.setActiveHintButton(this.isShowHints),t.hasOwnProperty("hints")&&this.scr_uiManager.populateHints(t.hints)},e.prototype.onOptionDragStarted=function(t){var e=t.optionName;this.currentStepJsonData.questionNumber,this.currentStepJsonData.userInput.indexOf(e)},e.prototype.onOptionDropped=function(t){var e=t.optionName,o=(this.currentStepJsonData.questionNumber,this.currentStepJsonData.userInput.indexOf(e));if(this.lastOptionDropped=o,1==this.currentStepJsonData.answer.length)if(e==this.currentStepJsonData.answer){if(this.node.emit("OnAnswerVerification",{isCorrect:!0,answer:e}),this.isAutoPlayFeedback)if(Array.isArray(this.currentStepJsonData.feedBack[o].text))for(var i=this.currentStepJsonData.feedBack[o],n=0,s=function(t){r.scheduleOnce(function(e,n){void 0===n&&(n=t),n<i.text.length&&(i.text[n].length>1?void 0!==i.headerText?this.scr_uiManager.showFooterText(i.text[n],i.headerText[n]):this.scr_uiManager.showFooterText(i.text[n]):this.scr_uiManager.hideFooterText(),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[n])),n==i.text.length-1&&this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveNextButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration[n])}.bind(r),n),n+=r.currentStepJsonData.feedBack[o].duration[t]},r=this,a=0;a<i.text.length;a++)s(a);else this.scr_uiManager.showFooterText(this.currentStepJsonData.feedBack[o].text,this.currentStepJsonData.feedBack[o].headerText),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile),this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveNextButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration)}else if(this.node.emit("OnAnswerVerification",{isCorrect:!1,answer:e}),this.isAutoPlayFeedback)if(Array.isArray(this.currentStepJsonData.feedBack[o].text)){var c=this.currentStepJsonData.feedBack[o],p=(n=0,function(t){l.scheduleOnce(function(e,i){void 0===i&&(i=t),i<c.text.length&&(c.text[i].length>1?void 0!==c.headerText?this.scr_uiManager.showFooterText(c.text[i],c.headerText[i]):this.scr_uiManager.showFooterText(c.text[i]):this.scr_uiManager.hideFooterText(),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[i])),i==c.text.length-1&&this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveTryAgainButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration[i])}.bind(l),n),n+=l.currentStepJsonData.feedBack[o].duration[t]}),l=this;for(a=0;a<c.text.length;a++)p(a)}else this.scr_uiManager.showFooterText(this.currentStepJsonData.feedBack[o].text,this.currentStepJsonData.feedBack[o].headerText),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile),this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveTryAgainButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration)},e.prototype.onOptionTap=function(t){var e=t.optionName,o=(this.currentStepJsonData.questionNumber,this.currentStepJsonData.userInput.indexOf(e));if(this.lastOptionDropped=o,1==this.currentStepJsonData.answer.length)if(e==this.currentStepJsonData.answer)if(this.node.emit("OnAnswerVerification",{isCorrect:!0,answer:e}),Array.isArray(this.currentStepJsonData.feedBack[o].text))for(var i=this.currentStepJsonData.feedBack[o],n=0,s=function(t){r.scheduleOnce(function(e,n){void 0===n&&(n=t),n<i.text.length&&(i.text[n].length>1?void 0!==i.headerText?this.scr_uiManager.showFooterText(i.text[n],i.headerText[n]):this.scr_uiManager.showFooterText(i.text[n]):this.scr_uiManager.hideFooterText(),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[n])),n==i.text.length-1&&this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveNextButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration[n])}.bind(r),n),n+=r.currentStepJsonData.feedBack[o].duration[t]},r=this,a=0;a<i.text.length;a++)s(a);else this.scr_uiManager.showFooterText(this.currentStepJsonData.feedBack[o].text,this.currentStepJsonData.feedBack[o].headerText),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile),this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveNextButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration);else if(this.node.emit("OnAnswerVerification",{isCorrect:!1,answer:e}),Array.isArray(this.currentStepJsonData.feedBack[o].text)){var c=this.currentStepJsonData.feedBack[o],p=(n=0,function(t){l.scheduleOnce(function(e,i){void 0===i&&(i=t),i<c.text.length&&(c.text[i].length>1?void 0!==c.headerText?this.scr_uiManager.showFooterText(c.text[i],c.headerText[i]):this.scr_uiManager.showFooterText(c.text[i]):this.scr_uiManager.hideFooterText(),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[i])),i==c.text.length-1&&this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveTryAgainButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration[i])}.bind(l),n),n+=l.currentStepJsonData.feedBack[o].duration[t]}),l=this;for(a=0;a<c.text.length;a++)p(a)}else this.scr_uiManager.showFooterText(this.currentStepJsonData.feedBack[o].text,this.currentStepJsonData.feedBack[o].headerText),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile),this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveTryAgainButton(!0),this.node.emit("OnFeedbackPlayComplete",{})}.bind(this),this.currentStepJsonData.feedBack[o].duration)},e.prototype.onCommonButtonClick=function(t){void 0!=this.currentStepJsonData&&this.currentStepJsonData.questionNumber===this.scr_stepsController.getCurrentQuestionIndex()&&(this.scr_uiManager.CommonButtonType.NextQuestion==t?(this.scr_uiManager.hideHeaderText(),this.scr_analyticsManager.sendNextQuestionStart(this.scr_stepsController.getCurrentQuestionIndex(),!1,this.scr_analyticsManager.Phylum.Click),this.audioManager.stopVOAudios()):this.scr_uiManager.CommonButtonType.TryAgain==t&&(this.scr_analyticsManager.sendOnTryAgain(this.scr_stepsController.getCurrentQuestionIndex(),this.lastOptionDropped+1),this.audioManager.stopVOAudios()))},e.prototype.playAudio=function(t){cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.warn(t.message||t):this.audioManager.play(e.name,e,!1,"VO")}.bind(this))},e.prototype.playFeedback=function(t,e,o){var i=this.currentStepJsonData.feedBack[t[0]];void 0!==i.headerText?this.scr_uiManager.showFooterText(i.text,i.headerText):this.scr_uiManager.showFooterText(i.text),this.scheduleOnce(function(){this.playAudio(this.currentStepJsonData.feedBack[t[0]].audioFile)}.bind(this),1),t.length>1?this.scheduleOnce(function(){t.shift();this.playFeedback(t,e,o)}.bind(this),i.duration):this.scheduleOnce(function(){this.isAutoShowNextButton&&(e?this.scr_uiManager.setActiveNextButton(!0):this.scr_uiManager.setActiveTryAgainButton(!0)),this.node.emit("OnFeedbackPlayComplete",{}),o&&this.scr_uiManager.hideFooterText()}.bind(this),i.duration)},e=n([l],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../AnalyticsManager":"AnalyticsManager","../AudioManager":"AudioManager","../StepsController":"StepsController","../UIManager":"UIManager"}],StepType_Question_2:[function(t,e,o){"use strict";cc._RF.push(e,"2cb95SbHjND1qlskjjuOG7+","StepType_Question_2");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../AnalyticsManager"),r=t("../AudioManager"),a=t("../UIManager"),c=t("../StepsController"),p=cc._decorator,l=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastOptionDropped=0,e.isAutoPlayFeedback=!0,e.isAutoShowNextButton=!0,e.isShowHints=!1,e}return i(e,t),e.prototype.onLoad=function(){this.scr_uiManager=this.node.getComponent(a.default),this.audioManager=this.node.getComponent(r.default),this.scr_analyticsManager=this.node.getComponent(s.default),this.scr_stepsController=this.node.getComponent(c.default),this.node.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this))},e.prototype.initialise=function(t){this.node.emit("OnQuestionStart",{questionIndex:t.questionNumber}),this.currentStepJsonData=t;var e=1;t.hasOwnProperty("delay")&&(e=t.delay),t.hasOwnProperty("isAutoShowNextButton")&&(this.isAutoShowNextButton=t.isAutoShowNextButton),this.scheduleOnce(function(){this.scr_uiManager.showHeaderText(t.question.text),this.scheduleOnce(function(){this.playAudio(t.question.audioFile)}.bind(this),1)}.bind(this),e),this.currentStepJsonData.hasOwnProperty("isAutoPlayFeedback")&&(this.isAutoPlayFeedback=this.currentStepJsonData.isAutoPlayFeedback),t.hasOwnProperty("isShowHints")?this.isShowHints=t.isShowHints:this.isShowHints=!1,this.scr_uiManager.setActiveHintButton(this.isShowHints),t.hasOwnProperty("hints")&&this.scr_uiManager.populateHints(t.hints)},e.prototype.onCommonButtonClick=function(t){void 0!=this.currentStepJsonData&&this.currentStepJsonData.questionNumber===this.scr_stepsController.getCurrentQuestionIndex()&&(this.scr_uiManager.CommonButtonType.NextQuestion==t?(this.scr_uiManager.hideHeaderText(),this.scr_analyticsManager.sendNextQuestionStart(this.scr_stepsController.getCurrentQuestionIndex(),!1,this.scr_analyticsManager.Phylum.Click)):this.scr_uiManager.CommonButtonType.TryAgain==t&&this.scr_analyticsManager.sendOnTryAgain(this.scr_stepsController.getCurrentQuestionIndex(),this.lastOptionDropped+1))},e.prototype.playAudio=function(t){cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.warn(t.message||t):this.audioManager.play(e.name,e,!1,"VO")}.bind(this))},e.prototype.onOptionDragStarted=function(t){t.optionName;var e=this.currentStepJsonData.questionNumber,o=t.optionIndex,i="not_applicable";void 0!=t.isCorrect&&(i=t.isCorrect),this.scr_analyticsManager.sendOnOptionDrag(e,o,i)},e.prototype.onOptionDropped=function(t){t.optionName;var e=this.currentStepJsonData.questionNumber,o=t.optionIndex;this.lastOptionDropped=o;var i="";if(i=t.isCorrect?"correct":"incorrect",void 0!=t.totalDropzones&&t.totalDropzones>1&&(i+=","+t.totalDropzones+","+t.dropZone+","+t.dropCountInCurrentZone+","+t.isDropCompletedInCurrentZone),this.scr_analyticsManager.sendOnOptionDrop(e,o,i),t.isAllDropComplete&&1==this.currentStepJsonData.answer.length)if(t.finalValue==this.currentStepJsonData.answer){if(this.node.emit("OnAnswerVerification",{isCorrect:!0,answer:t.finalValue}),this.isAutoPlayFeedback)if(Array.isArray(this.currentStepJsonData.feedBack[o].text)){var n=0,s=this.currentStepJsonData.feedBack[o];void 0!==s.headerText?this.scr_uiManager.showFooterText(s.text[n],s.headerText[n]):this.scr_uiManager.showFooterText(s.text[n]),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[n]),n++,this.schedule(function(){void 0!==s.headerText?this.scr_uiManager.showFooterText(s.text[n],s.headerText[n]):this.scr_uiManager.showFooterText(s.text[n]),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[n]),n==s.text.length-1&&this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveNextButton(!0)}.bind(this),this.currentStepJsonData.feedBack[o].duration),n++}.bind(this),s.duration[n],s.text.length-1,0)}else this.scr_uiManager.showFooterText(this.currentStepJsonData.feedBack[o].text,this.currentStepJsonData.feedBack[o].headerText),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile),this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveNextButton(!0)}.bind(this),this.currentStepJsonData.feedBack[o].duration)}else if(this.node.emit("OnAnswerVerification",{isCorrect:!1,answer:t.finalValue}),this.isAutoPlayFeedback)if(Array.isArray(this.currentStepJsonData.feedBack[o].text)){var r=0,a=this.currentStepJsonData.feedBack[o];void 0!==a.headerText?this.scr_uiManager.showFooterText(a.text[r],a.headerText[r]):this.scr_uiManager.showFooterText(a.text[r]),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[r]),r++,this.schedule(function(){r<a.text.length&&(void 0!==a.headerText?this.scr_uiManager.showFooterText(a.text[r],a.headerText[r]):this.scr_uiManager.showFooterText(a.text[r]),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile[r])),r==a.text.length-1&&this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveTryAgainButton(!0)}.bind(this),a.duration[r]),r++}.bind(this),a.duration[r],a.text.length-1)}else this.scr_uiManager.showFooterText(this.currentStepJsonData.feedBack[o].text,this.currentStepJsonData.feedBack[o].headerText),this.playAudio(this.currentStepJsonData.feedBack[o].audioFile),this.scheduleOnce(function(){this.isAutoShowNextButton&&this.scr_uiManager.setActiveTryAgainButton(!0)}.bind(this),this.currentStepJsonData.feedBack[o].duration)},e.prototype.playFeedback=function(t,e,o){var i=this.currentStepJsonData.feedBack[t[0]];void 0!==i.headerText?this.scr_uiManager.showFooterText(i.text,i.headerText):this.scr_uiManager.showFooterText(i.text),this.scheduleOnce(function(){this.playAudio(this.currentStepJsonData.feedBack[t[0]].audioFile)}.bind(this),1),t.length>1?this.scheduleOnce(function(){t.shift();this.playFeedback(t,e)}.bind(this),i.duration):this.scheduleOnce(function(){this.isAutoShowNextButton&&(e?this.scr_uiManager.setActiveNextButton(!0):this.scr_uiManager.setActiveTryAgainButton(!0)),this.node.emit("OnFeedbackPlayComplete",{}),o&&this.scr_uiManager.hideFooterText()}.bind(this),i.duration)},e=n([l],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../AnalyticsManager":"AnalyticsManager","../AudioManager":"AudioManager","../StepsController":"StepsController","../UIManager":"UIManager"}],StepType_Question_3:[function(t,e,o){"use strict";cc._RF.push(e,"f2356pn5cNBJqnobvp3YK/D","StepType_Question_3");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../AnalyticsManager"),r=t("../AudioManager"),a=t("../UIManager"),c=t("../StepsController"),p=cc._decorator,l=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowHints=!1,e}return i(e,t),e.prototype.onLoad=function(){this.scr_uiManager=this.node.getComponent(a.default),this.scr_audioManager=this.node.getComponent(r.default),this.scr_analyticsManager=this.node.getComponent(s.default),this.scr_stepsController=this.node.getComponent(c.default),this.node.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this))},e.prototype.initialise=function(t){this.node.emit("OnQuestionStart",{questionIndex:t.questionNumber}),this.currentStepJsonData=t;var e=1;t.hasOwnProperty("delay")&&(e=t.delay),this.scheduleOnce(function(){this.scr_uiManager.showHeaderText(t.question.text),this.scheduleOnce(function(){this.playAudio(t.question.audioFile)}.bind(this),1)}.bind(this),e),t.hasOwnProperty("isShowHints")?this.isShowHints=t.isShowHints:this.isShowHints=!1,this.scr_uiManager.setActiveHintButton(this.isShowHints),t.hasOwnProperty("hints")&&this.scr_uiManager.populateHints(t.hints)},e.prototype.playAudio=function(t){cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.warn(t.message||t):this.scr_audioManager.play(e.name,e,!1,"VO")}.bind(this))},e.prototype.playFeedback=function(t,e,o){var i=this.currentStepJsonData.feedBack[t[0]];void 0!==i.headerText?this.scr_uiManager.showFooterText(i.text,i.headerText):this.scr_uiManager.showFooterText(i.text),this.scheduleOnce(function(){this.playAudio(this.currentStepJsonData.feedBack[t[0]].audioFile)}.bind(this),this.scr_uiManager.transitionTime),t.length>1?this.scheduleOnce(function(){t.shift();this.scr_uiManager.hideFooterText(),this.scheduleOnce(function(){this.playFeedback(t,e)}.bind(this),this.scr_uiManager.transitionTime)}.bind(this),i.duration):this.scheduleOnce(function(){this.node.emit("OnFeedbackPlayComplete",{}),o&&this.scr_uiManager.hideFooterText()}.bind(this),i.duration)},e.prototype.onCommonButtonClick=function(t){void 0!=this.currentStepJsonData&&void 0!==this.scr_stepsController.getCurrentStepJson()&&this.currentStepJsonData.type===this.scr_stepsController.getCurrentStepJson().type&&(this.scr_uiManager.CommonButtonType.NextQuestion==t?this.scr_audioManager.stopVOAudios():this.scr_uiManager.CommonButtonType.TryAgain==t&&this.scr_audioManager.stopVOAudios())},e=n([l],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../AnalyticsManager":"AnalyticsManager","../AudioManager":"AudioManager","../StepsController":"StepsController","../UIManager":"UIManager"}],StepType_Question_4:[function(t,e,o){"use strict";cc._RF.push(e,"9833eUtI9tIx71aRMW0kjlj","StepType_Question_4");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../AnalyticsManager"),r=t("../AudioManager"),a=t("../UIManager"),c=t("../StepsController"),p=cc._decorator,l=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowHints=!1,e}return i(e,t),e.prototype.onLoad=function(){this.scr_uiManager=this.node.getComponent(a.default),this.scr_audioManager=this.node.getComponent(r.default),this.scr_analyticsManager=this.node.getComponent(s.default),this.scr_stepsController=this.node.getComponent(c.default),this.node.on("OnCommonButtonClick",this.onCommonButtonClick.bind(this))},e.prototype.initialise=function(t){this.node.emit("OnQuestionStart",{questionIndex:t.questionNumber}),this.currentStepJsonData=t;var e=1;t.hasOwnProperty("delay")&&(e=t.delay),this.scheduleOnce(function(){this.scr_uiManager.showHeaderText(t.question.text),this.scheduleOnce(function(){this.playAudio(t.question.audioFile)}.bind(this),1)}.bind(this),e),t.hasOwnProperty("isShowHints")?this.isShowHints=t.isShowHints:this.isShowHints=!1,this.scr_uiManager.setActiveHintButton(this.isShowHints),t.hasOwnProperty("hints")&&this.scr_uiManager.populateHints(t.hints)},e.prototype.playAudio=function(t){cc.loader.loadRes(t,cc.AudioClip,function(t,e){t?cc.warn(t.message||t):this.scr_audioManager.play(e.name,e,!1,"VO")}.bind(this))},e.prototype.playFeedback=function(t,e,o){var i=this.currentStepJsonData.feedBack[t[0]];void 0!==i.headerText?this.scr_uiManager.showHeaderText(i.text,i.headerText):this.scr_uiManager.showHeaderText(i.text),this.scheduleOnce(function(){this.playAudio(this.currentStepJsonData.feedBack[t[0]].audioFile)}.bind(this),this.scr_uiManager.transitionTime),t.length>1?this.scheduleOnce(function(){t.shift();this.scr_uiManager.hideHeaderText(),this.scheduleOnce(function(){this.playFeedback(t,e)}.bind(this),this.scr_uiManager.transitionTime)}.bind(this),i.duration):this.scheduleOnce(function(){this.node.emit("OnFeedbackPlayComplete",{}),o&&this.scr_uiManager.hideHeaderText()}.bind(this),i.duration)},e.prototype.onCommonButtonClick=function(t){void 0!=this.currentStepJsonData&&void 0!==this.scr_stepsController.getCurrentStepJson()&&this.currentStepJsonData.type===this.scr_stepsController.getCurrentStepJson().type&&(this.scr_uiManager.CommonButtonType.NextQuestion==t?this.scr_audioManager.stopVOAudios():this.scr_uiManager.CommonButtonType.TryAgain==t&&this.scr_audioManager.stopVOAudios())},e.prototype.playQuestion=function(t){void 0===t&&(t=!0),this.scr_uiManager.showHeaderText(this.currentStepJsonData.question.text),t&&this.scheduleOnce(function(){this.playAudio(this.currentStepJsonData.question.audioFile)}.bind(this),this.scr_uiManager.transitionTime)},e=n([l],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../AnalyticsManager":"AnalyticsManager","../AudioManager":"AudioManager","../StepsController":"StepsController","../UIManager":"UIManager"}],StepsController:[function(t,e,o){"use strict";cc._RF.push(e,"8883ePC5M5Dn4rmlEzgNlVu","StepsController");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./AnalyticsManager"),r=t("./stepsTypes/StepType_Empty"),a=t("./stepsTypes/StepType_Info"),c=t("./stepsTypes/StepType_Question_1"),p=t("./stepsTypes/StepType_Question_2"),l=t("./stepsTypes/StepType_Question_3"),h=t("./stepsTypes/StepType_Question_4"),d=t("./UIManager"),u=cc._decorator,g=u.ccclass,y=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentStep=0,e.currentQuestionIndex=1,e}return i(e,t),e.prototype.onLoad=function(){this.scr_StepType_Empty=this.node.getComponent(r.default),this.scr_StepType_Info=this.node.getComponent(a.default),this.scr_StepType_Question_1=this.node.getComponent(c.default),this.scr_StepType_Question_2=this.node.getComponent(p.default),this.scr_StepType_Question_3=this.node.getComponent(l.default),this.scr_StepType_Question_4=this.node.getComponent(h.default),this.scr_analyticsManager=this.node.getComponent(s.default),this.scr_uiManager=this.node.getComponent(d.default),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.skipCurrentStep,this)},e.prototype.Initialise=function(t){this.loadJsonFile(t),this.scr_analyticsManager.sendInteractionStart()},e.prototype.loadJsonFile=function(t){cc.loader.loadRes(t+"/storyBoard.json",Object,function(t,e){t?cc.error(t.message||t):(this.jsonData=e.json,this.jsonData.uiElements.hasOwnProperty("gameStartScreen")||this.onJsonLoadComplete(),this.node.emit("OnJsonLoadComplete",this.jsonData))}.bind(this))},e.prototype.onJsonLoadComplete=function(){this.loadNextStep(0)},e.prototype.loadNextStep=function(t){void 0===t&&(t=-1),this.hidePreviousStepUIElements(),this.scheduleOnce(function(){-1==t?this.currentStep++:this.currentStep=t,this.currentStep<this.jsonData.steps.length?(this.showCurrentStepDetails(this.currentStep),this.node.emit("OnLoadStep",this.currentStep)):this.onAllStepsComplete()}.bind(this),1.3)},e.prototype.showCurrentStepDetails=function(t){switch(this.jsonData.steps[t].type){case"empty":this.scr_currentStep=this.scr_StepType_Empty,this.scr_StepType_Empty.initialise(this.jsonData.steps[t]);break;case"info":this.scr_currentStep=this.scr_StepType_Info,this.scr_StepType_Info.initialise(this.jsonData.steps[t]);break;case"question_type_1":this.scr_currentStep=this.scr_StepType_Question_1,this.currentQuestionIndex=this.jsonData.steps[t].questionNumber,this.scr_StepType_Question_1.initialise(this.jsonData.steps[t]);break;case"question_type_2":this.scr_currentStep=this.scr_StepType_Question_2,this.currentQuestionIndex=this.jsonData.steps[t].questionNumber,this.scr_StepType_Question_2.initialise(this.jsonData.steps[t]);break;case"question_type_3":this.scr_currentStep=this.scr_StepType_Question_3,this.currentQuestionIndex=this.jsonData.steps[t].questionNumber,this.scr_StepType_Question_3.initialise(this.jsonData.steps[t]);break;case"question_type_4":this.scr_currentStep=this.scr_StepType_Question_4,this.currentQuestionIndex=this.jsonData.steps[t].questionNumber,this.scr_StepType_Question_4.initialise(this.jsonData.steps[t])}},e.prototype.onOptionTap=function(t){this.scr_currentStep.onOptionTap(t)},e.prototype.onOptionDragStarted=function(t){this.scr_currentStep.onOptionDragStarted(t)},e.prototype.onOptionDropped=function(t){this.scr_currentStep.onOptionDropped(t)},e.prototype.playFeedback=function(t,e,o){void 0===o&&(o=!0),this.scr_currentStep.playFeedback(t,e,o)},e.prototype.playQuestion=function(t){void 0===t&&(t=!0),this.scr_currentStep.playQuestion(t)},e.prototype.getCurrentStep=function(){return this.currentStep},e.prototype.getCurrentStepJson=function(){return this.jsonData.steps[this.currentStep]},e.prototype.getCurrentQuestionIndex=function(){return this.currentQuestionIndex},e.prototype.setCurrentQuestionIndex=function(t){this.currentQuestionIndex=t},e.prototype.getCurrentStepType=function(){return this.jsonData.steps[this.currentStep].type},e.prototype.getTextByKey=function(t){return this.jsonData&&this.jsonData.gameTexts.hasOwnProperty(t)?this.jsonData.gameTexts[t]:t},e.prototype.onAllStepsComplete=function(){this.node.emit("OnAllStepComplete",{}),this.scr_analyticsManager.sendInteractionEnd()},e.prototype.getTotalQuestions=function(){return this.jsonData.totalQuestions},e.prototype.getGameID=function(){return this.jsonData.gameID},e.prototype.hidePreviousStepUIElements=function(){this.scr_uiManager.hideFooterText(),this.scr_uiManager.hideHeaderText()},e.prototype.skipCurrentStep=function(t){t.keyCode==cc.macro.KEY.n&&(console.log("Skiping current step"),this.scr_StepType_Info.isLoadNextStep=!1,this.scr_StepType_Empty.isLoadNextStep=!1,this.loadNextStep())},e=n([g],e)}(cc.Component));o.default=y,cc._RF.pop()},{"./AnalyticsManager":"AnalyticsManager","./UIManager":"UIManager","./stepsTypes/StepType_Empty":"StepType_Empty","./stepsTypes/StepType_Info":"StepType_Info","./stepsTypes/StepType_Question_1":"StepType_Question_1","./stepsTypes/StepType_Question_2":"StepType_Question_2","./stepsTypes/StepType_Question_3":"StepType_Question_3","./stepsTypes/StepType_Question_4":"StepType_Question_4"}],Template11_ItemSelection:[function(t,e,o){"use strict";cc._RF.push(e,"a0001u6EiRG5rl4CIanx7r+","Template11_ItemSelection");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=cc.Enum({YES:0,NO:1}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.itemName="",e.correctFeedbackAudio=null,e.wrongFeedbackAudio=null,e.isNeeded=c.YES,e}return i(e,t),e.prototype.start=function(){},e.prototype.getIconTexture=function(){return this.icon},e.prototype.getItemName=function(){return this.itemName},e.prototype.getDescription=function(){return this.itemName},e.prototype.getItemsBuyStatus=function(){return this.isNeeded},e.prototype.getCorrectFeedbackText=function(){return this.itemName+"_CF"},e.prototype.getCorrectFeedbackAudio=function(){return this.correctFeedbackAudio},e.prototype.getWrongFeedbackText=function(){return this.itemName+"_WF"},e.prototype.getWrongFeedbackAudio=function(){return this.wrongFeedbackAudio},n([a({type:cc.Texture2D})],e.prototype,"icon",void 0),n([a],e.prototype,"itemName",void 0),n([a({type:cc.AudioClip})],e.prototype,"correctFeedbackAudio",void 0),n([a({type:cc.AudioClip})],e.prototype,"wrongFeedbackAudio",void 0),n([a({type:c})],e.prototype,"isNeeded",void 0),e=n([r],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Template11:[function(t,e,o){"use strict";cc._RF.push(e,"1af77WgVZlIcJi3JCt2ERlp","Template11");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/AudioManager"),a=t("../../scripts/StepsController"),c=t("./Template11_ItemSelection"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.fontColor=cc.Color.BLACK,e.popupNode=null,e.blanket=null,e.itemIcon=null,e.itemName=null,e.description=null,e.buyNode=null,e.nextButtonNode=null,e.tryAgainButtonNode=null,e.items=[],e.itemsNeeded=[],e.itemsNotNeeded=[],e.showOnlyIcons=!1,e.iconBox=null,e.tapSound=null,e.popupSound=null,e.correctAudio=null,e.wrongAudio=null,e.mActiveItem=null,e.mActiveItemComponent=null,e.mAcceptedItemCount=0,e.mRejectedItemCount=0,e.mCallback=null,e.mButtonTapped=0,e}return i(e,t),e.prototype.onLoad=function(){this.audioManager=this.canvas.getComponent(r.default),this.analyticsManager=this.canvas.getComponent(s.default),this.stepController=this.canvas.getComponent(a.default),this.blanket.on(cc.Node.EventType.TOUCH_START,this.onTapOutsidePopupArea.bind(this))},e.prototype.initialize=function(t){var e=this;this.mCallback=t,this.enableInteraction(!1),this.itemsNeeded.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e.iconBox),t.getChildByName("Name").color=e.fontColor}),this.itemsNotNeeded.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e.iconBox),t.getChildByName("Name").color=e.fontColor}),this.itemName.node.color=this.fontColor,this.description.node.color=this.fontColor,this.itemsNeeded[0].getParent().getChildByName("Title").color=this.fontColor,this.itemsNotNeeded[0].getParent().getChildByName("Title").color=this.fontColor,this.buyNode.getChildByName("Buy_Btn").getChildByName("Background").getChildByName("Label").color=this.fontColor,this.buyNode.getChildByName("DontBuy_Btn").getChildByName("Background").getChildByName("Label").color=this.fontColor,this.nextButtonNode.getChildByName("Background").getChildByName("Label").color=this.fontColor,this.tryAgainButtonNode.getChildByName("Background").getChildByName("Label").color=this.fontColor},e.prototype.enableInteraction=function(t){this.items.forEach(function(e){e.getComponent(cc.Button).enabled=t})},e.prototype.onItemTapped=function(t,e){this.audioManager.play("Tap Sound",this.tapSound,!1,"SFX"),this.mActiveItem=this.items[parseInt(e)],this.mActiveItemComponent=this.mActiveItem.getComponent(c.default),this.itemIcon.spriteFrame=new cc.SpriteFrame(this.mActiveItemComponent.getIconTexture()),this.itemName.string=this.mActiveItemComponent.getItemName(),this.description.string=this.stepController.getTextByKey(this.mActiveItemComponent.getDescription()),this.popupNode.active=!0,this.audioManager.play("Popup Sound",this.popupSound,!1,"SFX"),this.buyNode.active=!0,this.nextButtonNode.active=!1,this.tryAgainButtonNode.active=!1},e.prototype.onBuyButtonTapped=function(t,e){var o;this.audioManager.play("Tap Sound",this.tapSound,!1,"SFX"),this.mButtonTapped=parseInt(e)+1,o="0"==e?this.buyNode.getChildByName("Buy_Btn").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string.toLowerCase():this.buyNode.getChildByName("DontBuy_Btn").getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string.toLowerCase(),this.analyticsManager.sendOnGenericButtonClick(1,o),parseInt(e)==this.mActiveItemComponent.getItemsBuyStatus()?this.showCorrectFeedBack():this.showWrongFeedback(),this.buyNode.active=!1},e.prototype.showCorrectFeedBack=function(){this.description.string=this.stepController.getTextByKey(this.mActiveItemComponent.getCorrectFeedbackText()),this.audioManager.play("Correct",this.correctAudio,!1,"SFX");var t=this.mActiveItemComponent.getCorrectFeedbackAudio();this.scheduleOnce(function(){this.playAudio(t,!0)}.bind(this),1)},e.prototype.showWrongFeedback=function(){this.description.string=this.stepController.getTextByKey(this.mActiveItemComponent.getWrongFeedbackText()),this.audioManager.play("Wrong",this.wrongAudio,!1,"SFX");var t=this.mActiveItemComponent.getWrongFeedbackAudio();this.scheduleOnce(function(){this.playAudio(t,!1)}.bind(this),.5)},e.prototype.playAudio=function(t,e){var o=2;if(null!=t){var i=this.audioManager.play(t.name,t,!1,"VO");o=cc.audioEngine.getDuration(i)}this.scheduleOnce(function(){e?this.nextButtonNode.active=!0:this.tryAgainButtonNode.active=!0}.bind(this),o)},e.prototype.onNextButtonTapped=function(){var t=this.nextButtonNode.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string.toLowerCase();this.analyticsManager.sendOnGenericButtonClick(1,t),this.audioManager.play("Tap Sound",this.tapSound,!1,"SFX"),this.popupNode.active=!1,this.mActiveItem.active=!1,this.updateItemBoard()},e.prototype.OnTryAgainButtonTapped=function(){var t=this.tryAgainButtonNode.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string.toLowerCase();this.analyticsManager.sendOnGenericButtonClick(1,t),this.audioManager.play("Tap Sound",this.tapSound,!1,"SFX"),this.popupNode.active=!1},e.prototype.onTapOutsidePopupArea=function(){},e.prototype.updateItemBoard=function(){0==this.mActiveItemComponent.getItemsBuyStatus()?(this.itemsNeeded[this.mAcceptedItemCount].getChildByName("Item").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.mActiveItemComponent.getIconTexture()),this.showOnlyIcons||(this.itemsNeeded[this.mAcceptedItemCount].getChildByName("Name").getComponent(cc.Label).string=this.mActiveItemComponent.getItemName()),this.itemsNeeded[this.mAcceptedItemCount++].active=!0):(this.itemsNotNeeded[this.mRejectedItemCount].getChildByName("Item").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(this.mActiveItemComponent.getIconTexture()),this.showOnlyIcons||(this.itemsNotNeeded[this.mRejectedItemCount].getChildByName("Name").getComponent(cc.Label).string=this.mActiveItemComponent.getItemName()),this.itemsNotNeeded[this.mRejectedItemCount++].active=!0),this.mAcceptedItemCount+this.mRejectedItemCount>=this.items.length&&this.mCallback&&this.mCallback()},n([h(cc.Node)],e.prototype,"canvas",void 0),n([h(cc.color)],e.prototype,"fontColor",void 0),n([h(cc.Node)],e.prototype,"popupNode",void 0),n([h(cc.Node)],e.prototype,"blanket",void 0),n([h(cc.Sprite)],e.prototype,"itemIcon",void 0),n([h(cc.Label)],e.prototype,"itemName",void 0),n([h(cc.Label)],e.prototype,"description",void 0),n([h(cc.Node)],e.prototype,"buyNode",void 0),n([h(cc.Node)],e.prototype,"nextButtonNode",void 0),n([h(cc.Node)],e.prototype,"tryAgainButtonNode",void 0),n([h(cc.Node)],e.prototype,"items",void 0),n([h(cc.Node)],e.prototype,"itemsNeeded",void 0),n([h(cc.Node)],e.prototype,"itemsNotNeeded",void 0),n([h(cc.Boolean)],e.prototype,"showOnlyIcons",void 0),n([h({type:cc.Texture2D})],e.prototype,"iconBox",void 0),n([h({type:cc.AudioClip})],e.prototype,"tapSound",void 0),n([h({type:cc.AudioClip})],e.prototype,"popupSound",void 0),n([h({type:cc.AudioClip})],e.prototype,"correctAudio",void 0),n([h({type:cc.AudioClip})],e.prototype,"wrongAudio",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/AudioManager":"AudioManager","../../scripts/StepsController":"StepsController","./Template11_ItemSelection":"Template11_ItemSelection"}],Template1SelectionPanel:[function(t,e,o){"use strict";cc._RF.push(e,"3c55bAOJfdE2oYphFSbaR+/","Template1SelectionPanel");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AudioManager"),r=t("../../scripts/AnalyticsManager"),a=t("../../scripts/StepsController"),c=t("../../scripts/utilities/TextLoader"),p=cc._decorator,l=p.ccclass,h=p.property,d=cc.Enum({COLOR:0,SPRITE:1,NONE:2}),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.gameNode=null,e.tutorial=null,e.slider_options=null,e.sliderbutton=null,e.btn_submit=null,e.isInfoPanelNeeded=!1,e.infoTextPanel=null,e.options=[],e.optionButtonTransition=d.COLOR,e.spr_normal=null,e.spr_highlighted=null,e.color_optionsNormal=cc.Color.WHITE,e.color_optionsSelected=cc.Color.WHITE,e.aud_submit=null,e.selectedOptionId=5,e.fireButtonEnableOption=5,e.isTutorialShown=!1,e.tutorialcount=0,e.isTutorialClosed=!1,e.onloadNfirecallback=null,e}return i(e,t),e.prototype.onLoad=function(){this.audioManager=this.canvas.getComponent(s.default),this.scr_analyticsManager=this.canvas.getComponent(r.default),this.scr_stepsController=this.canvas.getComponent(a.default),this.isInfoPanelNeeded&&(this.infoTextPanel.parent.active=!0),this.sliderbutton.on("touchend",this.OnOptionsDragged,this),this.sliderbutton.on("touchcancel",this.OnOptionsDragged,this),this.slider_options.node.on("touchend",this.OnOptionsDragged,this),this.slider_options.node.on("touchcancel",this.OnOptionsDragged,this),this.tutorial.opacity=0,this.tutorial.getComponent(cc.Button).interactable=!1,this.btn_submit.node.on("touchstart",this.onSubmitButtonPressStart,this),this.btn_submit.node.on("touchend",this.onSubmitButtonPressEnd,this),this.btn_submit.node.on("touchcancel",this.onSubmitButtonPressEnd,this),this.tutorial.active=!1},e.prototype.onSubmitButtonPressStart=function(){this.btn_submit.interactable&&this.btn_submit.node.runAction(cc.scaleTo(.05,.9))},e.prototype.onSubmitButtonPressEnd=function(){this.btn_submit.node.runAction(cc.scaleTo(.05,1))},e.prototype.ShowTutorial=function(){this.tutorialcount++,1==this.tutorialcount&&this.scr_analyticsManager.sendOnViewTutorial(this.scr_stepsController.getCurrentQuestionIndex()),this.isTutorialClosed||(this.tutorial.active=!0),this.isTutorialShown=!0,this.scheduleOnce(function(){this.tutorial.getComponent(cc.Button).interactable=!0}.bind(this),2);var t=this.tutorial.getChildByName("MainPanelMiniature"),e=t.getChildByName("slider_options").getComponent(cc.Slider);e.enabled=!1;var o=t.getChildByName("sliderbutton").getChildByName("handicon");o.setPosition(0,-30);var i=t.getChildByName("options").children[2];i.getComponent(cc.Sprite).spriteFrame=this.spr_normal,i.color=this.color_optionsNormal;var n=t.getChildByName("options").children[3];n.getComponent(cc.Sprite).spriteFrame=this.spr_normal,n.color=this.color_optionsNormal;var s=t.getChildByName("submitbutton").getComponent(cc.Button);s.interactable=!1,this.tutorial.parent=this.gameNode.parent,this.tutorial.zIndex=1,this.tutorial.setPosition(this.gameNode.getPosition()),console.log("Tutorial ",this.tutorial),e.progress=.5;this.tutorial.runAction(cc.fadeIn(.5)),this.scheduleOnce(function(){var t=this;cc.tween(e).to(.6,{progress:.625}).call(function(){t.optionButtonTransition==d.SPRITE?i.getComponent(cc.Sprite).spriteFrame=t.spr_highlighted:t.optionButtonTransition==d.COLOR&&(i.color=t.color_optionsSelected),s.interactable=!0}).start()},1.75),this.scheduleOnce(function(){var t=this;cc.tween(e).to(.6,{progress:.875}).call(function(){t.optionButtonTransition==d.SPRITE?(i.getComponent(cc.Sprite).spriteFrame=t.spr_normal,n.getComponent(cc.Sprite).spriteFrame=t.spr_highlighted):t.optionButtonTransition==d.COLOR&&(i.color=t.color_optionsNormal,n.color=t.color_optionsSelected)}).start()},3),this.scheduleOnce(function(){o.runAction(cc.moveTo(1,cc.v2(200,30))),this.scheduleOnce(function(){o.runAction(cc.sequence(cc.scaleTo(.25,.75),cc.delayTime(.1),cc.scaleTo(.25,1))),this.scheduleOnce(function(){s.transition==d.SPRITE&&(s.node.getComponent(cc.Sprite).spriteFrame=s.pressedSprite),s.node.runAction(cc.scaleTo(.05,.9)),this.scheduleOnce(function(){s.transition==d.SPRITE&&(s.node.getComponent(cc.Sprite).spriteFrame=s.normalSprite),s.node.runAction(cc.scaleTo(.05,1)),this.scheduleOnce(function(){this.tutorialcount<2?this.ShowTutorial():this.tutorial.activeInHierarchy&&this.OnCloseTutorial()},1)},.35)},.2)},1.2)},3.6)},e.prototype.OnCloseTutorial=function(){console.log("close button clicked"),this.tutorial.active=!1,this.isTutorialClosed=!0,this.unscheduleAllCallbacks(),this.gameNode.emit("OnTutorialClosed")},e.prototype.InitializeSelectionPanelWithInfo=function(t,e,o,i){void 0===i&&(i=5),this.onloadNfirecallback=e,this.infoTextPanel.getComponent(c.default).changeLabel(o),this.fireButtonEnableOption=i,this.slider_options.progress=.5;for(var n="",s=0;s<this.options.length;s++)n=t[s],this.options[s].getChildByName("text").getComponent(c.default).changeLabel(n);this.SetOptions(5,!0),this.btn_submit.interactable=!1,this.btn_submit.node.opacity=125,this.selectedOptionId=5},e.prototype.InitializeSelectionPanel=function(t,e,o){void 0===o&&(o=5),this.onloadNfirecallback=e,this.fireButtonEnableOption=o,this.slider_options.progress=.5;for(var i="",n=0;n<this.options.length;n++)i=t[n],this.options[n].getChildByName("text").getComponent(c.default).changeLabel(i);this.SetOptions(5,!0),this.btn_submit.interactable=!1,this.btn_submit.node.opacity=125,this.selectedOptionId=5},e.prototype.ResetSelectionPanel=function(){this.slider_options.progress=.5,this.SetOptions(5,!0),this.btn_submit.interactable=!1,this.btn_submit.node.opacity=125,this.selectedOptionId=5},e.prototype.OnLoadNFire=function(){this.btn_submit.interactable=!1,this.onloadNfirecallback(this.selectedOptionId),this.audioManager.play("loadnfire",this.aud_submit,!1,"SFX"),this.scheduleOnce(function(){this.HideSelectionPanel()}.bind(this),.25)},e.prototype.ShowSelectionPanel=function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,-280)))},e.prototype.HideSelectionPanel=function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,-620)))},e.prototype.OnOptionsDragged=function(t){this.btn_submit.interactable=!0,this.slider_options.progress>=0&&this.slider_options.progress<=.25?(cc.tween(this.slider_options).to(.2,{progress:.125}).start(),this.SetOptions(0)):this.slider_options.progress>.25&&this.slider_options.progress<=.5?(cc.tween(this.slider_options).to(.2,{progress:.375}).start(),this.SetOptions(1)):this.slider_options.progress>.5&&this.slider_options.progress<=.75?(cc.tween(this.slider_options).to(.2,{progress:.625}).start(),this.SetOptions(2)):this.slider_options.progress>.75&&this.slider_options.progress<=1&&(cc.tween(this.slider_options).to(.2,{progress:.875}).start(),this.SetOptions(3))},e.prototype.SetOptions=function(t,e){var o=this;void 0===e&&(e=!1),this.selectedOptionId=t,this.fireButtonEnableOption<4?t==this.fireButtonEnableOption?(this.btn_submit.interactable=!0,this.btn_submit.node.opacity=255):(this.btn_submit.interactable=!1,this.btn_submit.node.opacity=125):(this.btn_submit.interactable=!0,this.btn_submit.node.opacity=255),this.options.forEach(function(t){o.optionButtonTransition==d.SPRITE?t.getComponent(cc.Sprite).spriteFrame=o.spr_normal:o.optionButtonTransition==d.COLOR&&(t.color=o.color_optionsNormal)}),t<this.options.length&&(this.optionButtonTransition==d.SPRITE?this.options[t].getComponent(cc.Sprite).spriteFrame=this.spr_highlighted:this.optionButtonTransition==d.COLOR&&(this.options[t].color=this.color_optionsSelected))},n([h(cc.Node)],e.prototype,"canvas",void 0),n([h(cc.Node)],e.prototype,"gameNode",void 0),n([h(cc.Node)],e.prototype,"tutorial",void 0),n([h(cc.Slider)],e.prototype,"slider_options",void 0),n([h(cc.Node)],e.prototype,"sliderbutton",void 0),n([h(cc.Button)],e.prototype,"btn_submit",void 0),n([h],e.prototype,"isInfoPanelNeeded",void 0),n([h(cc.Node)],e.prototype,"infoTextPanel",void 0),n([h(cc.Node)],e.prototype,"options",void 0),n([h({type:d})],e.prototype,"optionButtonTransition",void 0),n([h(cc.SpriteFrame)],e.prototype,"spr_normal",void 0),n([h(cc.SpriteFrame)],e.prototype,"spr_highlighted",void 0),n([h(cc.Color)],e.prototype,"color_optionsNormal",void 0),n([h(cc.Color)],e.prototype,"color_optionsSelected",void 0),n([h({type:cc.AudioClip})],e.prototype,"aud_submit",void 0),e=n([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/AudioManager":"AudioManager","../../scripts/StepsController":"StepsController","../../scripts/utilities/TextLoader":"TextLoader"}],Template2_OptionHandler:[function(t,e,o){"use strict";cc._RF.push(e,"55f1c6L7V1PToW0olQFhqaH","Template2_OptionHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AudioManager"),r=t("../../scripts/utilities/TextLoader"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPosition=0,e.endPosition=0,e.autoHideOnSubmit=!0,e.handleAutoGrayEffect=!1,e.defautlSliderValue=0,e.sliderValuesForOptions=[],e.optionBG=null,e.enabledOptionBGSprite=null,e.disabledOptionBGSpriteFrame=null,e.toggleContainer=null,e.disabledOptionSprite=null,e.optionHighlightSprite=null,e.optionCorrectSprite=null,e.optionWrongSprite=null,e.slider=null,e.enabledSliderSprite=null,e.disabledSliderSprite=null,e.pointerButton=null,e.enabledPointerSprite=null,e.disabledPointerSprite=null,e.submitButton=null,e.enabledSubmitSprite=null,e.disabledSubmitSprite=null,e.showOptionsSfx=null,e.hideOptionsSfx=null,e.optionChooseSfx=null,e.submitClickSfx=null,e.correctAnswerSfx=null,e.wrongAnswerSfx=null,e.audioManager=null,e.optionToggles=[],e.optionSprites=[],e.optionHighlightSprites=[],e.optionImages=[],e.optionLabels=[],e.optionTextLoaders=[],e.sliderSprite=null,e.pointerSprite=null,e.submitSprite=null,e.submitImage=null,e.submitLabel=null,e.submitTextLoader=null,e.isActivated=!1,e.selectedOption=-1,e.correctOption=-1,e.isCorrect=!1,e.timeToShowOrHide=1,e}return i(e,t),e.prototype.onLoad=function(){this.getReferences(),this.subscribeEvents(),this.initialize()},e.prototype.getReferences=function(){var t=this;this.audioManager=cc.find("CommonCanvas").getComponent(s.default),this.optionToggles=this.toggleContainer.toggleItems,this.optionToggles.forEach(function(e){t.optionSprites.push(e.target.getComponent(cc.Sprite)),t.optionHighlightSprites.push(e.checkMark),t.optionImages.push(e.node.getChildByName("Image").getComponent(cc.Sprite));var o=e.node.getChildByName("Label").getComponent(cc.Label);t.optionLabels.push(o),t.optionTextLoaders.push(o.node.getComponent(r.default))}),this.sliderSprite=this.slider.node.getChildByName("Background").getComponent(cc.Sprite),this.pointerSprite=this.pointerButton.target.getComponent(cc.Sprite),this.submitSprite=this.submitButton.target.getComponent(cc.Sprite),this.submitImage=this.submitButton.target.getChildByName("Image").getComponent(cc.Sprite),this.submitLabel=this.submitButton.target.getChildByName("Label").getComponent(cc.Label),this.submitTextLoader=this.submitLabel.getComponent(r.default)},e.prototype.subscribeEvents=function(){this.slider.node.on("slide",this.onSlide,this),this.slider.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.slider.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.pointerButton.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.pointerButton.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.initialize=function(){this.node.y=this.startPosition,this.optionToggles.forEach(function(t){t.interactable=!1})},e.prototype.show=function(t,e,o,i,n){var s=this;this.correctOption=t,this.selectedOption=-1,this.isCorrect=!1,this.enabledOptionBGSprite&&(this.optionBG.spriteFrame=this.enabledOptionBGSprite),this.handleAutoGrayEffect&&this.optionToggles.forEach(function(t){t.enableAutoGrayEffect=!1});var r=e&&e.length>0&&i&&i.length>0;if(this.optionLabels.forEach(function(t){t.verticalAlign=r?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER}),e&&e.length>0)for(var a=0;a<this.optionTextLoaders.length;a++)this.optionTextLoaders[a].changeLabel(e[a]),this.optionTextLoaders[a].node.active=!0;else for(a=0;a<this.optionTextLoaders.length;a++)this.optionTextLoaders[a].node.active=!1;if(i&&i.length>0)for(a=0;a<this.optionImages.length;a++)this.optionImages[a].spriteFrame=i[a],this.optionImages[a].node.active=!0;else for(a=0;a<this.optionImages.length;a++)this.optionImages[a].node.active=!0;return this.optionHighlightSprite&&this.optionHighlightSprites.forEach(function(t){t.spriteFrame=s.optionHighlightSprite}),this.toggleContainer.allowSwitchOff=!0,this.optionToggles.forEach(function(t){t.isChecked=!1}),this.slider.enabled=!1,this.slider.progress=this.defautlSliderValue,this.enabledSliderSprite&&(this.sliderSprite.spriteFrame=this.enabledSliderSprite),this.pointerButton.interactable=!1,this.handleAutoGrayEffect&&(this.pointerButton.enableAutoGrayEffect=!1),this.enabledPointerSprite&&(this.pointerSprite.spriteFrame=this.enabledPointerSprite),r=o&&o.length>0&&null!=n,this.submitLabel.verticalAlign=r?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER,null!=o&&""!=o?(this.submitTextLoader.changeLabel(o),this.submitTextLoader.node.active=!0):this.submitTextLoader.node.active=!1,n?(this.submitImage.spriteFrame=n,this.submitImage.node.active=!0):this.submitImage.node.active=!1,this.submitButton.interactable=!1,this.disabledSubmitSprite?(this.submitSprite.spriteFrame=this.disabledSubmitSprite,this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!1)):this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!0),cc.tween(this.node).to(this.timeToShowOrHide,{y:this.endPosition}).call(function(){s.slider.enabled=!0,s.pointerButton.interactable=!0,s.handleAutoGrayEffect&&(s.pointerButton.enableAutoGrayEffect=!1),s.isActivated=!0,s.node.emit("onOptionsShown")}).start(),this.showOptionsSfx&&this.audioManager.play("showOptionsSfx",this.showOptionsSfx,!1,"SFX"),this.timeToShowOrHide},e.prototype.onSlide=function(t){this.onSliderValueChange(!1)},e.prototype.onTouchEnd=function(){this.onSliderValueChange(!0)},e.prototype.onSliderValueChange=function(t){if(this.isActivated){for(var e=this.slider.progress,o=this.selectedOption,i=!1,n=this.sliderValuesForOptions.length-1;n>0;n--)if(e>=(this.sliderValuesForOptions[n]+this.sliderValuesForOptions[n-1])/2){e=this.sliderValuesForOptions[n],this.selectedOption=n,i=!0;break}i||(e=this.sliderValuesForOptions[0],this.selectedOption=0),t&&cc.tween(this.slider).to(.1,{progress:e}).start(),o!=this.selectedOption&&this.onOptionChange(o,this.selectedOption)}},e.prototype.onOptionChange=function(t,e){this.optionChooseSfx&&this.audioManager.play("optionChoose",this.optionChooseSfx,!1,"SFX"),this.optionToggles[this.selectedOption].isChecked=!0,this.enabledSubmitSprite&&(this.submitSprite.spriteFrame=this.enabledSubmitSprite),this.submitButton.interactable=!0,this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!1),this.selectedOption=e,this.node.emit("onOptionChange",t,e)},e.prototype.onClickSubmit=function(){var t=this;this.isActivated=!1,this.submitClickSfx&&this.audioManager.play("optionChoose",this.submitClickSfx,!1,"SFX"),this.disabledOptionBGSpriteFrame&&(this.optionBG.spriteFrame=this.disabledOptionBGSpriteFrame),this.disabledOptionSprite?(this.optionSprites.forEach(function(e){e.spriteFrame=t.disabledOptionSprite}),this.handleAutoGrayEffect&&this.optionToggles.forEach(function(t){t.enableAutoGrayEffect=!1})):this.handleAutoGrayEffect&&this.optionToggles.forEach(function(t){t.enableAutoGrayEffect=!0}),this.slider.enabled=!1,this.disabledSliderSprite&&(this.sliderSprite.spriteFrame=this.disabledSliderSprite),this.pointerButton.interactable=!1,this.disabledPointerSprite?(this.pointerSprite.spriteFrame=this.disabledPointerSprite,this.handleAutoGrayEffect&&(this.pointerButton.enableAutoGrayEffect=!1)):this.handleAutoGrayEffect&&(this.pointerButton.enableAutoGrayEffect=!0),this.submitButton.interactable=!1,this.disabledSubmitSprite?(this.submitSprite.spriteFrame=this.disabledSubmitSprite,this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!1)):this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!0),this.isCorrect=this.selectedOption==this.correctOption,this.scheduleOnce(this.playAnswer.bind(this),.5),this.node.emit("onSubmit",this.selectedOption,this.isCorrect),this.autoHideOnSubmit&&this.scheduleOnce(this.hide.bind(this),.5)},e.prototype.playAnswer=function(){this.isCorrect?(this.optionCorrectSprite&&(this.optionHighlightSprites[this.selectedOption].spriteFrame=this.optionCorrectSprite),this.correctAnswerSfx&&this.audioManager.play("correctAnswerSfx",this.correctAnswerSfx,!1,"SFX")):(this.optionWrongSprite&&(this.optionHighlightSprites[this.selectedOption].spriteFrame=this.optionWrongSprite),this.wrongAnswerSfx&&this.audioManager.play("wrongAnswerSfx",this.wrongAnswerSfx,!1,"SFX"))},e.prototype.hide=function(){var t=this;return cc.tween(this.node).to(this.timeToShowOrHide,{y:this.startPosition}).call(function(){t.node.emit("onOptionsHide")}).start(),this.hideOptionsSfx&&this.audioManager.play("hideOptionsSfx",this.hideOptionsSfx,!1,"SFX"),this.timeToShowOrHide},n([p(cc.Float)],e.prototype,"startPosition",void 0),n([p(cc.Float)],e.prototype,"endPosition",void 0),n([p(cc.Boolean)],e.prototype,"autoHideOnSubmit",void 0),n([p(cc.Boolean)],e.prototype,"handleAutoGrayEffect",void 0),n([p({type:cc.Float})],e.prototype,"defautlSliderValue",void 0),n([p({type:cc.Float})],e.prototype,"sliderValuesForOptions",void 0),n([p(cc.Sprite)],e.prototype,"optionBG",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledOptionBGSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledOptionBGSpriteFrame",void 0),n([p(cc.ToggleContainer)],e.prototype,"toggleContainer",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledOptionSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"optionHighlightSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"optionCorrectSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"optionWrongSprite",void 0),n([p(cc.Slider)],e.prototype,"slider",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledSliderSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledSliderSprite",void 0),n([p(cc.Button)],e.prototype,"pointerButton",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledPointerSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledPointerSprite",void 0),n([p(cc.Button)],e.prototype,"submitButton",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledSubmitSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledSubmitSprite",void 0),n([p({type:cc.AudioClip})],e.prototype,"showOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"hideOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"optionChooseSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"submitClickSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"correctAnswerSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"wrongAnswerSfx",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AudioManager":"AudioManager","../../scripts/utilities/TextLoader":"TextLoader"}],Template2_Tutorial:[function(t,e,o){"use strict";cc._RF.push(e,"a3072lErwNDv5xk0jpI/F6+","Template2_Tutorial");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/StepsController"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeat=2,e.hand=null,e.handPositionAtPointer=cc.v3(0,0,0),e.handPositionAtOption1=cc.v3(0,0,0),e.handPositionAtOption2=cc.v3(0,0,0),e.handPositionAtSubmit=cc.v3(0,0,0),e.handScaleDownTo=.7,e.submitButtonScaleDownTo=.9,e.optionHighlight1=null,e.optionHighlight2=null,e.slider=null,e.pointer=null,e.submit=null,e.overlayButton=null,e.closeButton=null,e.analyticsManager=null,e.stepsController=null,e.pointerDefaultPosition=cc.v3(0,0,0),e.handDefaultPosition=cc.v3(0,0,0),e.handOriginalScale=0,e.submitOriginalScale=0,e.timeToMoveToPointer=.75,e.timeToMoveToOption1=.5,e.timeToMoveToOption2=.6,e.timeToMoveToSubmit=.75,e.timeToScale=.3,e.delay=.3,e}return i(e,t),e.prototype.onLoad=function(){this.analyticsManager=cc.find("CommonCanvas").getComponent(s.default),this.stepsController=cc.find("CommonCanvas").getComponent(r.default),this.pointerDefaultPosition=this.pointer.position,this.handDefaultPosition=this.hand.position,this.handOriginalScale=this.hand.scale,this.submitOriginalScale=this.submit.scale,this.node.active=!1},e.prototype.show=function(){var t=this;this.analyticsManager.sendOnViewTutorial(this.stepsController.getCurrentQuestionIndex()),this.overlayButton.interactable=!1,this.closeButton.interactable=!1,this.node.opacity=0,this.node.active=!0,cc.tween(this.node).to(1,{opacity:255}).call(function(){t.overlayButton.interactable=!0,t.closeButton.interactable=!0}).start(),this.scheduleOnce(this.moveHand.bind(this),1)},e.prototype.moveHand=function(){var t=this;cc.tween(this.hand).repeat(this.repeat,cc.tween().call(function(){t.pointer.position=t.pointerDefaultPosition,t.hand.position=t.handDefaultPosition,t.optionHighlight1.active=!1,t.optionHighlight2.active=!1,t.submit.scale=1}).to(this.timeToMoveToPointer,{position:this.handPositionAtPointer}).to(this.timeToScale,{scale:this.handScaleDownTo}).delay(this.delay).call(function(){t.hand.position=t.handPositionAtOption1;var e=t.hand.convertToWorldSpaceAR(cc.v3(0,0,0)),o=t.slider.convertToNodeSpaceAR(e);t.hand.position=t.handPositionAtPointer,cc.tween(t.pointer).to(t.timeToMoveToOption1,{position:o}).start()}).to(this.timeToMoveToOption1,{position:this.handPositionAtOption1}).call(function(){t.optionHighlight1.active=!0}).delay(this.delay).call(function(){t.hand.position=t.handPositionAtOption2;var e=t.hand.convertToWorldSpaceAR(cc.v3(0,0,0)),o=t.slider.convertToNodeSpaceAR(e);t.hand.position=t.handPositionAtOption1,cc.tween(t.pointer).to(t.timeToMoveToOption2,{position:o}).start()}).to(this.timeToMoveToOption2,{position:this.handPositionAtOption2}).call(function(){t.optionHighlight1.active=!1,t.optionHighlight2.active=!0}).delay(this.delay).to(this.timeToScale,{scale:this.handOriginalScale}).delay(this.delay).to(this.timeToMoveToSubmit,{position:this.handPositionAtSubmit}).to(this.timeToScale,{scale:this.handScaleDownTo}).call(function(){t.submit.scale=t.submitButtonScaleDownTo}).to(this.timeToScale,{scale:this.handOriginalScale}).call(function(){t.submit.scale=t.submitOriginalScale}).delay(.5)).call(function(){t.stop()}).start()},e.prototype.onClickStop=function(){this.stop()},e.prototype.stop=function(){cc.Tween.stopAllByTarget(this.node),cc.Tween.stopAllByTarget(this.hand),cc.Tween.stopAllByTarget(this.pointer),this.unscheduleAllCallbacks(),this.node.opacity=0,this.node.active=!1,this.node.emit("onTutorialStop")},n([p({type:cc.Integer})],e.prototype,"repeat",void 0),n([p(cc.Node)],e.prototype,"hand",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtPointer",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtOption1",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtOption2",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtSubmit",void 0),n([p({type:cc.Float})],e.prototype,"handScaleDownTo",void 0),n([p({type:cc.Float})],e.prototype,"submitButtonScaleDownTo",void 0),n([p(cc.Node)],e.prototype,"optionHighlight1",void 0),n([p(cc.Node)],e.prototype,"optionHighlight2",void 0),n([p(cc.Node)],e.prototype,"slider",void 0),n([p(cc.Node)],e.prototype,"pointer",void 0),n([p(cc.Node)],e.prototype,"submit",void 0),n([p(cc.Button)],e.prototype,"overlayButton",void 0),n([p(cc.Button)],e.prototype,"closeButton",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/StepsController":"StepsController"}],Template3_OptionHandler:[function(t,e,o){"use strict";cc._RF.push(e,"c2a7aRTJzxJMKVwupGjNHh2","Template3_OptionHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AudioManager"),r=t("../../scripts/utilities/TextLoader"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPosition=0,e.endPosition=0,e.autoHideOnSubmit=!0,e.toggleContainer=null,e.optionLabels=[],e.optionTextLoaders=[],e.optionSprites=[],e.submitLabel=null,e.submitTextLoader=null,e.submitButtonSprite=null,e.submitInactiveSpriteFrame=null,e.submitSprite=null,e.optionToggles=[],e.submitButton=null,e.optionHighlightsSprites=[],e.highlightSpriteFrame=null,e.correctSpriteFrame=null,e.wrongSpriteFrame=null,e.showOptionsSfx=null,e.hideOptionsSfx=null,e.optionClickSfx=null,e.submitClickSfx=null,e.submitActiveSpriteFrame=null,e.audioManager=null,e.previousSelectedOption=-1,e.selectedOption=-1,e.correctOption=-1,e}return i(e,t),e.prototype.onLoad=function(){this.audioManager=cc.find("CommonCanvas").getComponent(s.default),this.node.y=this.startPosition,this.submitActiveSpriteFrame=this.submitButtonSprite.spriteFrame},e.prototype.show=function(t,e,o,i,n){var s=this;this.correctOption=t,this.enableOrDisableOptions(!1),this.submitButton.interactable=!1,this.submitInactiveSpriteFrame&&(this.submitButtonSprite.spriteFrame=this.submitInactiveSpriteFrame);var r=e&&e.length>0&&i&&i.length>0;if(this.optionLabels.forEach(function(t){t.verticalAlign=r?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER}),r=o&&o.length>0&&null!=n,this.submitLabel.verticalAlign=r?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER,e&&e.length>0)for(var a=0;a<this.optionTextLoaders.length;a++)this.optionTextLoaders[a].changeLabel(e[a]),this.optionTextLoaders[a].node.active=!0;else for(a=0;a<this.optionTextLoaders.length;a++)this.optionTextLoaders[a].node.active=!1;if(null!=o&&""!=o?(this.submitTextLoader.changeLabel(o),this.submitTextLoader.node.active=!0):this.submitTextLoader.node.active=!1,i)for(a=0;a<this.optionSprites.length;a++)this.optionSprites[a].spriteFrame=i[a],this.optionSprites[a].node.active=!0;else for(a=0;a<this.optionSprites.length;a++)this.optionSprites[a].node.active=!0;n?(this.submitSprite.spriteFrame=n,this.submitSprite.node.active=!0):this.submitSprite.node.active=!1,this.optionHighlightsSprites.forEach(function(t){t.spriteFrame=s.highlightSpriteFrame}),this.toggleContainer.allowSwitchOff=!0,this.optionToggles.forEach(function(t){t.isChecked=!1}),cc.tween(this.node).to(1,{y:this.endPosition}).call(function(){s.enableOrDisableOptions(!0),s.node.emit("onOptionsShown")}).start(),this.showOptionsSfx&&this.audioManager.play("showOptionsSfx",this.showOptionsSfx,!1,"SFX")},e.prototype.enableOrDisableOptions=function(t){this.optionToggles.forEach(function(e){e.interactable=t})},e.prototype.hide=function(){var t=this;cc.tween(this.node).to(1,{y:this.startPosition}).call(function(){t.node.emit("onOptionsHide")}).start(),this.hideOptionsSfx&&this.audioManager.play("hideOptionsSfx",this.hideOptionsSfx,!1,"SFX")},e.prototype.onClickOption=function(t,e){e=parseInt(e.toString()),this.toggleContainer.allowSwitchOff=!1,this.previousSelectedOption=this.selectedOption,this.selectedOption=e,this.submitButton.interactable=!0,this.submitButtonSprite.spriteFrame=this.submitActiveSpriteFrame,this.optionClickSfx&&this.audioManager.play("optionClickSfx",this.optionClickSfx,!1,"SFX"),this.node.emit("onOptionChange",this.previousSelectedOption,this.selectedOption)},e.prototype.onClickSubmit=function(){this.enableOrDisableOptions(!1),this.submitButton.interactable=!1,this.submitInactiveSpriteFrame&&(this.submitButtonSprite.spriteFrame=this.submitInactiveSpriteFrame),this.autoHideOnSubmit&&this.scheduleOnce(this.hide.bind(this),.5);var t=this.selectedOption==this.correctOption;this.optionHighlightsSprites[this.selectedOption].spriteFrame=t?this.correctSpriteFrame:this.wrongSpriteFrame,this.submitClickSfx&&this.audioManager.play("submitClickSfx",this.submitClickSfx,!1,"SFX"),this.node.emit("onSubmit",this.selectedOption,t)},n([p(cc.Float)],e.prototype,"startPosition",void 0),n([p(cc.Float)],e.prototype,"endPosition",void 0),n([p(cc.Boolean)],e.prototype,"autoHideOnSubmit",void 0),n([p(cc.ToggleContainer)],e.prototype,"toggleContainer",void 0),n([p(cc.Label)],e.prototype,"optionLabels",void 0),n([p(r.default)],e.prototype,"optionTextLoaders",void 0),n([p(cc.Sprite)],e.prototype,"optionSprites",void 0),n([p(cc.Label)],e.prototype,"submitLabel",void 0),n([p(r.default)],e.prototype,"submitTextLoader",void 0),n([p(cc.Sprite)],e.prototype,"submitButtonSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"submitInactiveSpriteFrame",void 0),n([p(cc.Sprite)],e.prototype,"submitSprite",void 0),n([p(cc.Toggle)],e.prototype,"optionToggles",void 0),n([p(cc.Button)],e.prototype,"submitButton",void 0),n([p(cc.Sprite)],e.prototype,"optionHighlightsSprites",void 0),n([p(cc.SpriteFrame)],e.prototype,"highlightSpriteFrame",void 0),n([p(cc.SpriteFrame)],e.prototype,"correctSpriteFrame",void 0),n([p(cc.SpriteFrame)],e.prototype,"wrongSpriteFrame",void 0),n([p({type:cc.AudioClip})],e.prototype,"showOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"hideOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"optionClickSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"submitClickSfx",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AudioManager":"AudioManager","../../scripts/utilities/TextLoader":"TextLoader"}],Template3_Tutorial:[function(t,e,o){"use strict";cc._RF.push(e,"38983vvhhRLS5TYIMxvl3lY","Template3_Tutorial");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/StepsController"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeat=2,e.hand=null,e.option1Checkmark=null,e.option2Checkmark=null,e.handPositionAtOption1=cc.v3(-302.224,-46.52,0),e.handPositionAtOption2=cc.v3(55.912,-46.52,0),e.handPositionAtSubmit=cc.v3(379.193,-44.83,0),e.scaleDownHandTo=.7,e.timeToMoveToOption1=.8,e.timeToMoveToOption2=1,e.timeToMoveToSubmit=1,e.timeToScaleHand=.2,e.delay=.3,e.overlayButton=null,e.closeButton=null,e.submitButton=null,e.handDefaultPosition=cc.v3(0,0,0),e.handOriginalScale=0,e}return i(e,t),e.prototype.onLoad=function(){this.analyticsManager=cc.find("CommonCanvas").getComponent(s.default),this.stepsController=cc.find("CommonCanvas").getComponent(r.default),null==this.hand&&(this.hand=this.node.getChildByName("HandIcon")),this.handDefaultPosition=this.hand.position,this.handOriginalScale=this.hand.scale;var t=this.node.getChildByName("Options").getChildByName("ToggleContainer");null==this.option1Checkmark&&(this.option1Checkmark=t.getChildByName("toggle1").getChildByName("checkmark_1")),null==this.option2Checkmark&&(this.option2Checkmark=t.getChildByName("toggle2").getChildByName("checkmark_2")),this.node.active=!1},e.prototype.show=function(){var t=this;this.analyticsManager.sendOnViewTutorial(this.stepsController.getCurrentQuestionIndex()),this.overlayButton.interactable=!1,this.closeButton.interactable=!1,this.submitButton.interactable=!1,this.node.opacity=0,this.node.active=!0,cc.tween(this.node).to(1,{opacity:255}).call(function(){t.overlayButton.interactable=!0,t.closeButton.interactable=!0}).start(),this.scheduleOnce(this.moveHand.bind(this),1)},e.prototype.moveHand=function(){var t=this;cc.tween(this.hand).repeat(this.repeat,cc.tween().call(function(){t.hand.position=t.handDefaultPosition,t.hand.scale=t.handOriginalScale,t.option1Checkmark.active=!1,t.option2Checkmark.active=!1,t.submitButton.interactable=!1,t.submitButton.node.scale=1}).to(this.timeToMoveToOption1,{position:this.handPositionAtOption1}).to(this.timeToScaleHand,{scale:this.scaleDownHandTo}).call(function(){t.option1Checkmark.active=!0,t.submitButton.interactable=!0}).to(this.timeToScaleHand,{scale:this.handOriginalScale}).delay(this.delay).to(this.timeToMoveToOption2,{position:this.handPositionAtOption2}).to(this.timeToScaleHand,{scale:this.scaleDownHandTo}).call(function(){t.option1Checkmark.active=!1,t.option2Checkmark.active=!0}).to(this.timeToScaleHand,{scale:this.handOriginalScale}).delay(this.delay).to(this.timeToMoveToSubmit,{position:this.handPositionAtSubmit}).to(this.timeToScaleHand,{scale:this.scaleDownHandTo}).call(function(){t.submitButton.node.scale=.9}).delay(this.delay).to(this.timeToScaleHand,{scale:this.handOriginalScale}).call(function(){t.submitButton.node.scale=1}).delay(.5)).call(function(){t.stopTutorial()}).start()},e.prototype.stopTutorial=function(){cc.Tween.stopAllByTarget(this.node),cc.Tween.stopAllByTarget(this.hand),this.unscheduleAllCallbacks(),this.node.opacity=0,this.node.active=!1,this.node.emit("onTutorialStop")},n([p({type:cc.Integer})],e.prototype,"repeat",void 0),n([p(cc.Node)],e.prototype,"hand",void 0),n([p(cc.Node)],e.prototype,"option1Checkmark",void 0),n([p(cc.Node)],e.prototype,"option2Checkmark",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtOption1",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtOption2",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtSubmit",void 0),n([p({type:cc.Float})],e.prototype,"scaleDownHandTo",void 0),n([p({type:cc.Float})],e.prototype,"timeToMoveToOption1",void 0),n([p({type:cc.Float})],e.prototype,"timeToMoveToOption2",void 0),n([p({type:cc.Float})],e.prototype,"timeToMoveToSubmit",void 0),n([p({type:cc.Float})],e.prototype,"timeToScaleHand",void 0),n([p({type:cc.Float})],e.prototype,"delay",void 0),n([p(cc.Button)],e.prototype,"overlayButton",void 0),n([p(cc.Button)],e.prototype,"closeButton",void 0),n([p(cc.Button)],e.prototype,"submitButton",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/StepsController":"StepsController"}],Template4_OptionHandler:[function(t,e,o){"use strict";cc._RF.push(e,"c1b1bcixVpBqLh1jcTVPWBc","Template4_OptionHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AudioManager"),r=t("../../scripts/utilities/TextLoader"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPosition=0,e.endPosition=0,e.autoHideOnSubmit=!0,e.handleAutoGrayEffect=!1,e.correctOption=-1,e.bgSprite=null,e.enabledBGSprite=null,e.disabledBGSprite=null,e.optionNode=null,e.enabledOptionBGSprite=null,e.disabledOptionBGSprite=null,e.leftButton=null,e.rightButton=null,e.submitButton=null,e.enabledSubmitSprite=null,e.disabledSubmitSprite=null,e.showOptionsSfx=null,e.hideOptionsSfx=null,e.optionChooseSfx=null,e.submitClickSfx=null,e.correctAnswerSfx=null,e.wrongAnswerSfx=null,e.audioManager=null,e.optionBGSprite=null,e.optionImage=null,e.optionLabel=null,e.optionTextLoader=null,e.submitSprite=null,e.submitImage=null,e.submitLabel=null,e.submitTextLoader=null,e.numberOfOptions=0,e.optionImages=[],e.optionKeys=[],e.isUsingImages=!1,e.isUsingTexts=!1,e.selectedOption=-1,e.isCorrect=!1,e.timeToShowOrHide=.5,e}return i(e,t),e.prototype.onLoad=function(){this.getReferences(),this.initialize()},e.prototype.getReferences=function(){this.audioManager=cc.find("CommonCanvas").getComponent(s.default),this.optionBGSprite=this.optionNode.getChildByName("Background").getComponent(cc.Sprite),this.optionImage=this.optionNode.getChildByName("Image").getComponent(cc.Sprite),this.optionLabel=this.optionNode.getChildByName("Label").getComponent(cc.Label),this.optionTextLoader=this.optionLabel.getComponent(r.default),this.submitSprite=this.submitButton.target.getComponent(cc.Sprite),this.submitImage=this.submitButton.target.getChildByName("Image").getComponent(cc.Sprite),this.submitLabel=this.submitButton.target.getChildByName("Label").getComponent(cc.Label),this.submitTextLoader=this.submitLabel.getComponent(r.default)},e.prototype.initialize=function(){this.node.y=this.startPosition},e.prototype.onClickLeftButton=function(){var t=-1;t=-1==this.selectedOption||0==this.selectedOption?this.numberOfOptions-1:this.selectedOption-1,this.onOptionChange(t)},e.prototype.onClickRightButton=function(){var t=-1;t=this.selectedOption==this.numberOfOptions-1?0:this.selectedOption+1,this.onOptionChange(t)},e.prototype.onOptionChange=function(t){if(t!=this.selectedOption){this.isUsingImages&&(this.optionImage.spriteFrame=this.optionImages[t]),this.isUsingTexts&&this.optionTextLoader.changeLabel(this.optionKeys[t]),this.optionImage.node.active=this.isUsingImages,this.optionTextLoader.node.active=this.isUsingTexts,this.optionChooseSfx&&this.audioManager.play("optionChooseSfx",this.optionChooseSfx,!1,"SFX"),this.enabledSubmitSprite&&(this.submitSprite.spriteFrame=this.enabledSubmitSprite),this.submitButton.interactable=!0,this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!1);var e=this.selectedOption;this.selectedOption=t,this.node.emit("onOptionChange",e,this.selectedOption)}},e.prototype.onClickSubmit=function(){this.submitClickSfx&&this.audioManager.play("submitClickSfx",this.submitClickSfx,!1,"SFX"),this.disabledBGSprite&&(this.bgSprite.spriteFrame=this.disabledBGSprite),this.disabledOptionBGSprite&&(this.optionBGSprite.spriteFrame=this.disabledOptionBGSprite),this.leftButton.interactable=!1,this.rightButton.interactable=!1,this.submitButton.interactable=!1,this.disabledSubmitSprite?(this.submitSprite.spriteFrame=this.disabledSubmitSprite,this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!1)):this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!0),this.isCorrect=this.selectedOption==this.correctOption,this.scheduleOnce(this.playFeedback.bind(this),.5),this.node.emit("onSubmit",this.selectedOption,this.isCorrect),this.autoHideOnSubmit&&this.scheduleOnce(this.hide.bind(this),.5)},e.prototype.playFeedback=function(){this.isCorrect&&this.correctAnswerSfx&&this.audioManager.play("correctAnswerSfx",this.correctAnswerSfx,!1,"SFX"),!this.isCorrect&&this.wrongAnswerSfx&&this.audioManager.play("wrongAnswerSfx",this.wrongAnswerSfx,!1,"SFX")},e.prototype.show=function(t,e,o,i,n,s){var r=this;this.correctOption=t,this.selectedOption=-1,this.isCorrect=!1,this.optionImages=i,this.optionKeys=o,this.isUsingImages=i&&i.length>0,this.isUsingTexts=o&&o.length>0,this.isUsingImages?this.numberOfOptions=i.length:this.numberOfOptions=o.length,this.enabledBGSprite&&(this.bgSprite.spriteFrame=this.enabledBGSprite),this.enabledOptionBGSprite&&(this.optionBGSprite.spriteFrame=this.enabledOptionBGSprite);var a=this.isUsingImages&&this.isUsingTexts;this.optionLabel.verticalAlign=a?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER,this.optionTextLoader.changeLabel(e),this.optionTextLoader.node.active=!0,this.optionImage.node.active=!1,this.leftButton.interactable=!1,this.rightButton.interactable=!1,a=n&&n.length>0&&null!=s,this.submitLabel.verticalAlign=a?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER,null!=n&&""!=n?(this.submitTextLoader.changeLabel(n),this.submitTextLoader.node.active=!0):this.submitTextLoader.node.active=!1,s?(this.submitImage.spriteFrame=s,this.submitImage.node.active=!0):this.submitImage.node.active=!1,this.submitButton.interactable=!1,this.disabledSubmitSprite?(this.submitSprite.spriteFrame=this.disabledSubmitSprite,this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!1)):this.handleAutoGrayEffect&&(this.submitButton.enableAutoGrayEffect=!0),cc.tween(this.node).to(this.timeToShowOrHide,{y:this.endPosition}).call(function(){r.leftButton.interactable=!0,r.rightButton.interactable=!0,r.node.emit("onOptionsShown")}).start(),this.showOptionsSfx&&this.audioManager.play("showOptionsSfx",this.showOptionsSfx,!1,"SFX")},e.prototype.hide=function(){var t=this;cc.tween(this.node).to(this.timeToShowOrHide,{y:this.startPosition}).call(function(){t.node.emit("onOptionsHide")}).start(),this.hideOptionsSfx&&this.audioManager.play("hideOptionsSfx",this.hideOptionsSfx,!1,"SFX")},n([p({type:cc.Float})],e.prototype,"startPosition",void 0),n([p({type:cc.Float})],e.prototype,"endPosition",void 0),n([p(cc.Boolean)],e.prototype,"autoHideOnSubmit",void 0),n([p(cc.Boolean)],e.prototype,"handleAutoGrayEffect",void 0),n([p({type:cc.Integer})],e.prototype,"correctOption",void 0),n([p(cc.Sprite)],e.prototype,"bgSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledBGSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledBGSprite",void 0),n([p(cc.Node)],e.prototype,"optionNode",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledOptionBGSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledOptionBGSprite",void 0),n([p(cc.Button)],e.prototype,"leftButton",void 0),n([p(cc.Button)],e.prototype,"rightButton",void 0),n([p(cc.Button)],e.prototype,"submitButton",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledSubmitSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledSubmitSprite",void 0),n([p({type:cc.AudioClip})],e.prototype,"showOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"hideOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"optionChooseSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"submitClickSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"correctAnswerSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"wrongAnswerSfx",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AudioManager":"AudioManager","../../scripts/utilities/TextLoader":"TextLoader"}],Template4_Tutorial:[function(t,e,o){"use strict";cc._RF.push(e,"00a74zK/TND2ajVV5xjQhY1","Template4_Tutorial");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/StepsController"),a=t("../../scripts/utilities/TextLoader"),c=cc._decorator,p=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeat=2,e.hand=null,e.leftButtonSprite=null,e.rightButtonSprite=null,e.submitSprite=null,e.disabledSubmitSprite=null,e.buttonPressedColor=cc.Color.GRAY,e.handPositionAtLeftButton=cc.v3(0,0,0),e.handPositionAtRightButton=cc.v3(0,0,0),e.handPositionAtSubmittButton=cc.v3(0,0,0),e.handScaleDownTo=.7,e.timeToMoveToLeftButton=1,e.timeToMoveToRightButton=1,e.timeToMoveToSubmitButton=1,e.timeToScale=1,e.delay=.3,e.textLoader=null,e.defaultKey="",e.optionKeys=[],e.overlayButton=null,e.closeButton=null,e.analyticsManager=null,e.handDefaultPosition=cc.v3(0,0,0),e.originalScaleOfHand=0,e.normalColorOfButtons=cc.Color.WHITE,e.defaultDisabledColorOfButtons=cc.Color.GRAY,e.enabeldSubmitSprite=null,e.stepsController=null,e}return i(e,t),e.prototype.onLoad=function(){this.analyticsManager=cc.find("CommonCanvas").getComponent(s.default),this.stepsController=cc.find("CommonCanvas").getComponent(r.default),this.handDefaultPosition=this.hand.position,this.originalScaleOfHand=this.hand.scale,this.normalColorOfButtons=this.leftButtonSprite.node.color,this.enabeldSubmitSprite=this.submitSprite.spriteFrame,this.node.active=!1},e.prototype.start=function(){this.textLoader.changeLabel(this.defaultKey)},e.prototype.show=function(){var t=this;this.analyticsManager.sendOnViewTutorial(this.stepsController.getCurrentQuestionIndex()),this.overlayButton.interactable=!1,this.closeButton.interactable=!1,this.node.opacity=0,this.node.active=!0,cc.tween(this.node).to(1,{opacity:255}).call(function(){t.overlayButton.interactable=!0,t.closeButton.interactable=!0}).start(),this.scheduleOnce(this.moveHand.bind(this),1)},e.prototype.moveHand=function(){var t=this;cc.tween(this.hand).repeat(this.repeat,cc.tween().call(function(){t.hand.position=t.handDefaultPosition,t.leftButtonSprite.node.color=t.normalColorOfButtons,t.rightButtonSprite.node.color=t.normalColorOfButtons,t.disabledSubmitSprite&&(t.submitSprite.spriteFrame=t.disabledSubmitSprite),t.textLoader.changeLabel(t.defaultKey)}).to(this.timeToMoveToLeftButton,{position:this.handPositionAtLeftButton}).to(this.timeToScale,{scale:this.handScaleDownTo}).call(function(){t.leftButtonSprite.node.color=t.buttonPressedColor,t.enabeldSubmitSprite&&(t.submitSprite.spriteFrame=t.enabeldSubmitSprite),t.textLoader.changeLabel(t.optionKeys[t.optionKeys.length-1])}).delay(this.delay).call(function(){t.leftButtonSprite.node.color=t.normalColorOfButtons}).to(this.timeToScale,{scale:this.originalScaleOfHand}).delay(this.delay).to(this.timeToScale,{scale:this.handScaleDownTo}).call(function(){t.leftButtonSprite.node.color=t.buttonPressedColor,t.textLoader.changeLabel(t.optionKeys[t.optionKeys.length-2])}).delay(this.delay).call(function(){t.leftButtonSprite.node.color=t.normalColorOfButtons}).to(this.timeToScale,{scale:this.originalScaleOfHand}).delay(this.delay).to(this.timeToMoveToRightButton,{position:this.handPositionAtRightButton}).to(this.timeToScale,{scale:this.handScaleDownTo}).call(function(){t.rightButtonSprite.node.color=t.buttonPressedColor,t.textLoader.changeLabel(t.optionKeys[t.optionKeys.length-1])}).delay(this.delay).call(function(){t.rightButtonSprite.node.color=t.normalColorOfButtons}).to(this.timeToScale,{scale:this.originalScaleOfHand}).delay(this.delay).to(this.timeToMoveToSubmitButton,{position:this.handPositionAtSubmittButton}).to(this.timeToScale,{scale:this.handScaleDownTo}).call(function(){t.submitSprite.node.scale=.9}).delay(this.delay).call(function(){t.submitSprite.node.scale=1}).to(this.timeToScale,{scale:this.originalScaleOfHand}).delay(this.delay)).call(function(){t.stop()}).start()},e.prototype.onClickStop=function(){this.stop()},e.prototype.stop=function(){cc.Tween.stopAllByTarget(this.node),cc.Tween.stopAllByTarget(this.hand),this.unscheduleAllCallbacks(),this.node.opacity=0,this.node.active=!1,this.node.emit("onTutorialStop")},n([l({type:cc.Integer})],e.prototype,"repeat",void 0),n([l(cc.Node)],e.prototype,"hand",void 0),n([l(cc.Sprite)],e.prototype,"leftButtonSprite",void 0),n([l(cc.Sprite)],e.prototype,"rightButtonSprite",void 0),n([l(cc.Sprite)],e.prototype,"submitSprite",void 0),n([l(cc.SpriteFrame)],e.prototype,"disabledSubmitSprite",void 0),n([l(cc.Color)],e.prototype,"buttonPressedColor",void 0),n([l(cc.Vec3)],e.prototype,"handPositionAtLeftButton",void 0),n([l(cc.Vec3)],e.prototype,"handPositionAtRightButton",void 0),n([l(cc.Vec3)],e.prototype,"handPositionAtSubmittButton",void 0),n([l({type:cc.Float})],e.prototype,"handScaleDownTo",void 0),n([l({type:cc.Float})],e.prototype,"timeToMoveToLeftButton",void 0),n([l({type:cc.Float})],e.prototype,"timeToMoveToRightButton",void 0),n([l({type:cc.Float})],e.prototype,"timeToMoveToSubmitButton",void 0),n([l({type:cc.Float})],e.prototype,"timeToScale",void 0),n([l({type:cc.Float})],e.prototype,"delay",void 0),n([l(a.default)],e.prototype,"textLoader",void 0),n([l({type:cc.String})],e.prototype,"defaultKey",void 0),n([l({type:cc.String})],e.prototype,"optionKeys",void 0),n([l(cc.Button)],e.prototype,"overlayButton",void 0),n([l(cc.Button)],e.prototype,"closeButton",void 0),e=n([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/StepsController":"StepsController","../../scripts/utilities/TextLoader":"TextLoader"}],Template5_OptionDrag:[function(t,e,o){"use strict";cc._RF.push(e,"1f256bXt3xAVJPGSr8mte6+","Template5_OptionDrag");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Template5_OptionHandler"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.optionHandler=null,e.targetPos=cc.v3(0,0,0),e.minDistanceFromTarget=20,e.canvas=null,e.gameNode=null,e.originalParent=null,e.initialPos=cc.v3(0,0,0),e.offsetPos=cc.v3(0,0,0),e.optionIndex=-1,e.isActivated=!1,e.isDragStarted=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.canvas=cc.find("CommonCanvas"),this.gameNode=cc.find("GameNode"),this.originalParent=this.node.parent,this.initialPos=this.node.position},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd.bind(this),this)},e.prototype.onTouchStart=function(t){if(this.isActivated&&!this.isAnyOtherOptionsBeingDragged()){o.currentDraggedOption=this,this.isDragStarted=!1;var e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),i=this.canvas.convertToNodeSpaceAR(e);this.node.parent=this.gameNode,this.node.position=cc.v3(i),this.offsetPos=cc.Vec3.subtract(this.offsetPos,this.node.position,cc.v3(t.getLocation()))}},e.prototype.isAnyOtherOptionsBeingDragged=function(){return null!=o.currentDraggedOption&&o.currentDraggedOption!=this},e.prototype.onTouchMove=function(t){if(this.isActivated&&o.currentDraggedOption==this){this.isDragStarted||(this.isDragStarted=!0,this.optionHandler.onDragStart(this.optionIndex));var e=cc.v3(0,0,0);e=cc.Vec3.add(e,this.offsetPos,cc.v3(t.getLocation())),this.node.position=e}},e.prototype.onTouchEnd=function(t){this.isActivated&&(o.currentDraggedOption==this&&(o.currentDraggedOption=null,this.optionHandler.onDragEnd(this.optionIndex),cc.Vec3.distance(this.node.position,this.targetPos)<=this.minDistanceFromTarget?(this.deactivate(),this.node.active=!1,this.node.parent=this.originalParent,this.node.position=this.initialPos,this.optionHandler.onOptionPlaced(this.optionIndex)):(this.node.parent=this.originalParent,this.node.position=this.initialPos)))},e.prototype.activate=function(t){void 0!=t&&(this.optionIndex=t),this.isActivated=!0},e.prototype.deactivate=function(){this.isActivated=!1},e.prototype.reset=function(){this.node.parent=this.originalParent,this.node.position=this.initialPos,this.node.active=!0,this.activate()},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd.bind(this),this)},e.currentDraggedOption=null,n([c(s.default)],e.prototype,"optionHandler",void 0),n([c(cc.Vec3)],e.prototype,"targetPos",void 0),n([c(cc.Boolean)],e.prototype,"minDistanceFromTarget",void 0),e=o=n([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Template5_OptionHandler":"Template5_OptionHandler"}],Template5_OptionHandler:[function(t,e,o){"use strict";cc._RF.push(e,"f08195nLeJMJIDvSimmk03t","Template5_OptionHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AudioManager"),r=t("../../scripts/utilities/TextLoader"),a=t("./Template5_OptionDrag"),c=cc._decorator,p=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPosition=-700,e.endPosition=-300,e.autoHide=!0,e.enabledOption=null,e.disabledOption=null,e.showOptionsSfx=null,e.hideOptionsSfx=null,e.dragStartSfx=null,e.optionPlacedSfx=null,e.options=[],e.optionBGs=[],e.optionImages=[],e.optionLabels=[],e.optionTextLoaders=[],e.optionDrags=[],e.timeToShowOrHide=.5,e.delayToAutoHide=.5,e.audioManager=null,e.correctOption=-1,e}return i(e,t),e.prototype.onLoad=function(){this.getReferences()},e.prototype.getReferences=function(){var t=this;this.audioManager=cc.find("CommonCanvas").getComponent(s.default);var e=this.node.getChildByName("Options");this.options=e.children,this.options.forEach(function(e){t.optionDrags.push(e.getComponent(a.default));var o=e.getChildByName("Background").getComponent(cc.Sprite);t.optionBGs.push(o),t.optionImages.push(o.node.getChildByName("Image").getComponent(cc.Sprite));var i=o.node.getChildByName("Label").getComponent(cc.Label);t.optionLabels.push(i),t.optionTextLoaders.push(i.node.getComponent(r.default))})},e.prototype.show=function(t,e,o,i){var n=this;this.correctOption=t;var s,r;if(s=e&&e.length>0,r=o&&o.length>0,void 0==i||i){var a=s&&r;this.optionLabels.forEach(function(t){t.verticalAlign=a?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER})}if(s)for(var c=0;c<this.optionTextLoaders.length;c++)this.optionTextLoaders[c].changeLabel(e[c]);if(this.optionLabels.forEach(function(t){t.node.active=s}),r)for(c=0;c<this.optionImages.length;c++)this.optionImages[c].spriteFrame=o[c];this.optionImages.forEach(function(t){t.node.active=r}),this.enabledOption&&this.optionBGs.forEach(function(t){t.spriteFrame=n.enabledOption}),this.optionDrags.forEach(function(t){t.reset(),t.deactivate()}),cc.tween(this.node).to(this.timeToShowOrHide,{y:this.endPosition}).call(function(){for(var t=0;t<n.optionDrags.length;t++)n.optionDrags[t].activate(t);n.node.emit("onOptionsShown")}).start(),this.showOptionsSfx&&this.audioManager.play("showOptionsSfx",this.showOptionsSfx,!1,"SFX")},e.prototype.onDragStart=function(t){this.dragStartSfx&&this.audioManager.play("dragStartSfx",this.dragStartSfx,!1,"SFX"),this.node.emit("onDragStart",t)},e.prototype.onDragEnd=function(t){this.node.emit("onDragEnd",t)},e.prototype.onOptionPlaced=function(t){var e=t==this.correctOption;this.optionPlacedSfx&&this.audioManager.play("optionPlacedSfx",this.optionPlacedSfx,!1,"SFX"),this.optionDrags.forEach(function(t){t.deactivate()}),this.node.emit("onOptionPlaced",e,t),this.autoHide&&this.scheduleOnce(this.hide.bind(this),this.delayToAutoHide)},e.prototype.hide=function(){var t=this;cc.tween(this.node).to(this.timeToShowOrHide,{y:this.startPosition}).call(function(){t.node.emit("onOptionsHide")}).start(),this.hideOptionsSfx&&this.audioManager.play("hideOptionsSfx",this.hideOptionsSfx,!1,"SFX")},e.prototype.changeTargetPosition=function(t){this.optionDrags.forEach(function(e){e.targetPos=t})},n([l({type:cc.Float})],e.prototype,"startPosition",void 0),n([l({type:cc.Float})],e.prototype,"endPosition",void 0),n([l(cc.Boolean)],e.prototype,"autoHide",void 0),n([l(cc.SpriteFrame)],e.prototype,"enabledOption",void 0),n([l(cc.SpriteFrame)],e.prototype,"disabledOption",void 0),n([l({type:cc.AudioClip})],e.prototype,"showOptionsSfx",void 0),n([l({type:cc.AudioClip})],e.prototype,"hideOptionsSfx",void 0),n([l({type:cc.AudioClip})],e.prototype,"dragStartSfx",void 0),n([l({type:cc.AudioClip})],e.prototype,"optionPlacedSfx",void 0),e=n([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../scripts/AudioManager":"AudioManager","../../scripts/utilities/TextLoader":"TextLoader","./Template5_OptionDrag":"Template5_OptionDrag"}],Template5_Tutorial:[function(t,e,o){"use strict";cc._RF.push(e,"174fcE/g4NAhYDHy33SR6I9","Template5_Tutorial");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/StepsController"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeat=2,e.hand=null,e.option=null,e.handPositionAtOption=cc.v3(0,0,0),e.handPositionAtTarget=cc.v3(0,0,0),e.timeToMoveToOption=1,e.timeToMoveToTarget=1,e.timeToScale=.2,e.handScaleDownTo=.7,e.delay=.2,e.overlayButton=null,e.closeButton=null,e.analyticsManager=null,e.stepsController=null,e.handDefaultPosition=cc.v3(0,0,0),e.handOriginalScale=0,e}return i(e,t),e.prototype.onLoad=function(){this.analyticsManager=cc.find("CommonCanvas").getComponent(s.default),this.stepsController=cc.find("CommonCanvas").getComponent(r.default),this.handDefaultPosition=this.hand.position,this.handOriginalScale=this.hand.scale,this.node.active=!1},e.prototype.show=function(){var t=this;this.analyticsManager.sendOnViewTutorial(this.stepsController.getCurrentQuestionIndex()),this.overlayButton.interactable=!1,this.closeButton.interactable=!1,this.node.opacity=0,this.node.active=!0,cc.tween(this.node).to(1,{opacity:255}).call(function(){t.overlayButton.interactable=!0,t.closeButton.interactable=!0}).start(),this.scheduleOnce(this.moveHand.bind(this),1)},e.prototype.moveHand=function(){var t=this;cc.tween(this.hand).repeat(this.repeat,cc.tween().call(function(){t.hand.position=t.handDefaultPosition,t.hand.scale=t.handOriginalScale,t.option.position=t.handPositionAtOption}).delay(this.delay).to(this.timeToMoveToOption,{position:this.handPositionAtOption}).delay(this.delay).to(this.timeToScale,{scale:this.handScaleDownTo}).delay(this.delay).call(function(){cc.tween(t.option).to(t.timeToMoveToTarget,{position:t.handPositionAtTarget}).start()}).to(this.timeToMoveToTarget,{position:this.handPositionAtTarget}).to(this.timeToScale,{scale:this.handOriginalScale}).delay(this.delay).delay(.5)).call(function(){t.stop()}).start()},e.prototype.stop=function(){cc.Tween.stopAllByTarget(this.node),cc.Tween.stopAllByTarget(this.hand),cc.Tween.stopAllByTarget(this.option),this.unscheduleAllCallbacks(),this.node.opacity=0,this.node.active=!1,this.node.emit("onTutorialStop")},e.prototype.onClickStop=function(){this.stop()},n([p({type:cc.Integer})],e.prototype,"repeat",void 0),n([p(cc.Node)],e.prototype,"hand",void 0),n([p(cc.Node)],e.prototype,"option",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtOption",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtTarget",void 0),n([p({type:cc.Float})],e.prototype,"timeToMoveToOption",void 0),n([p({type:cc.Float})],e.prototype,"timeToMoveToTarget",void 0),n([p({type:cc.Float})],e.prototype,"timeToScale",void 0),n([p({type:cc.Float})],e.prototype,"handScaleDownTo",void 0),n([p({type:cc.Float})],e.prototype,"delay",void 0),n([p(cc.Button)],e.prototype,"overlayButton",void 0),n([p(cc.Button)],e.prototype,"closeButton",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/StepsController":"StepsController"}],Template7_OptionHandler:[function(t,e,o){"use strict";cc._RF.push(e,"567cd0XTlRPNJP1KmqDGBxp","Template7_OptionHandler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AudioManager"),r=t("../../scripts/utilities/TextLoader"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPosition=0,e.endPosition=0,e.autoHide=!0,e.handleAutoGrayEffect=!1,e.enabledBGSprite=null,e.disabledBGSprite=null,e.toggleContainer=null,e.enabledOptionSprite=null,e.disabledOptionSprite=null,e.showOptionsSfx=null,e.hideOptionsSfx=null,e.optionChooseSfx=null,e.correctAnswerSfx=null,e.wrongAnswerSfx=null,e.audioManager=null,e.timeToShowOrHide=.5,e.bg=null,e.toggles=[],e.toggleSprites=[],e.toggleImages=[],e.toggleLabels=[],e.toggleTextLoaders=[],e.correctOption=-1,e.isCorrect=!1,e}return i(e,t),e.prototype.onLoad=function(){this.getReferences(),this.initialize()},e.prototype.getReferences=function(){var t=this;this.audioManager=cc.find("CommonCanvas").getComponent(s.default),this.bg=this.node.getChildByName("BG").getComponent(cc.Sprite),this.toggles=this.toggleContainer.toggleItems,this.toggles.forEach(function(e){var o=e.node.getChildByName("Background");t.toggleSprites.push(o.getComponent(cc.Sprite)),t.toggleImages.push(o.getChildByName("Image").getComponent(cc.Sprite)),t.toggleLabels.push(o.getChildByName("Label").getComponent(cc.Label)),t.toggleTextLoaders.push(o.getChildByName("Label").getComponent(r.default))})},e.prototype.initialize=function(){var t=this;this.node.y=this.startPosition,this.toggles.forEach(function(e){e.node.on("toggle",t.onClickToggle.bind(t),t)})},e.prototype.onClickToggle=function(t){var e=this;this.toggleContainer.allowSwitchOff=!1,this.disabledBGSprite&&(this.bg.spriteFrame=this.disabledBGSprite),this.disabledOptionSprite&&this.toggleSprites.forEach(function(t){t.spriteFrame=e.disabledOptionSprite}),this.toggles.forEach(function(t){t.interactable=!1,e.handleAutoGrayEffect&&(t.enableAutoGrayEffect=!0)});var o=this.toggles.indexOf(t);this.isCorrect=o==this.correctOption,this.optionChooseSfx&&this.audioManager.play("optionChooseSfx",this.optionChooseSfx,!1,"SFX"),this.scheduleOnce(this.playFeedback.bind(this),.5),this.node.emit("onOptionSelected",o,this.isCorrect),this.autoHide&&this.scheduleOnce(this.hide.bind(this),.5)},e.prototype.playFeedback=function(){this.isCorrect&&this.correctAnswerSfx&&this.audioManager.play("correctAnswerSfx",this.correctAnswerSfx,!1,"SFX"),!this.isCorrect&&this.wrongAnswerSfx&&this.audioManager.play("wrongAnswerSfx",this.wrongAnswerSfx,!1,"SFX")},e.prototype.show=function(t,e,o){var i=this;this.correctOption=t,this.isCorrect=!1;var n=e&&e.length>0,s=o&&o.length>0,r=n&&s;if(this.toggleLabels.forEach(function(t){t.verticalAlign=r?cc.Label.VerticalAlign.BOTTOM:cc.Label.VerticalAlign.CENTER}),this.enabledBGSprite&&(this.bg.spriteFrame=this.enabledBGSprite),n)for(var a=0;a<this.toggleTextLoaders.length;a++)this.toggleTextLoaders[a].changeLabel(e[a]),this.toggleTextLoaders[a].node.active=!0;else this.toggleTextLoaders.forEach(function(t){t.node.active=!1});if(s)for(a=0;a<this.toggleImages.length;a++)this.toggleImages[a].spriteFrame=o[a],this.toggleImages[a].node.active=!0;else this.toggleImages.forEach(function(t){t.node.active=!1});this.enabledOptionSprite&&this.toggleSprites.forEach(function(t){t.spriteFrame=i.enabledOptionSprite}),this.toggleContainer.allowSwitchOff=!0,this.toggles.forEach(function(t){t.interactable=!1,t.enableAutoGrayEffect=!1,t.isChecked=!1}),cc.tween(this.node).to(this.timeToShowOrHide,{y:this.endPosition}).call(function(){i.toggles.forEach(function(t){t.interactable=!0,i.handleAutoGrayEffect&&(t.enableAutoGrayEffect=!1),i.node.emit("onOptionsShown")})}).start(),this.showOptionsSfx&&this.audioManager.play("showOptionsSfx",this.showOptionsSfx,!1,"SFX")},e.prototype.hide=function(){var t=this;cc.tween(this.node).to(this.timeToShowOrHide,{y:this.startPosition}).call(function(){t.node.emit("onOptionsHide")}).start(),this.hideOptionsSfx&&this.audioManager.play("hideOptionsSfx",this.hideOptionsSfx,!1,"SFX")},n([p({type:cc.Float})],e.prototype,"startPosition",void 0),n([p({type:cc.Float})],e.prototype,"endPosition",void 0),n([p(cc.Boolean)],e.prototype,"autoHide",void 0),n([p(cc.Boolean)],e.prototype,"handleAutoGrayEffect",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledBGSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledBGSprite",void 0),n([p(cc.ToggleContainer)],e.prototype,"toggleContainer",void 0),n([p(cc.SpriteFrame)],e.prototype,"enabledOptionSprite",void 0),n([p(cc.SpriteFrame)],e.prototype,"disabledOptionSprite",void 0),n([p({type:cc.AudioClip})],e.prototype,"showOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"hideOptionsSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"optionChooseSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"correctAnswerSfx",void 0),n([p({type:cc.AudioClip})],e.prototype,"wrongAnswerSfx",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AudioManager":"AudioManager","../../scripts/utilities/TextLoader":"TextLoader"}],Template7_Turorial:[function(t,e,o){"use strict";cc._RF.push(e,"498e7OnaTVOIrQEx+ypZCHb","Template7_Turorial");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/StepsController"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.repeat=2,e.hand=null,e.option=null,e.handPositionAtOption=cc.v3(0,0,0),e.handScaleDownTo=.7,e.timeToMoveToOption=.5,e.timeToScale=.2,e.delay=.3,e.overlayButton=null,e.closeButton=null,e.analyticsManager=null,e.stepsController=null,e.handDefaultPosition=cc.v3(0,0,0),e.handOriginalScale=0,e.optionHighlight=null,e}return i(e,t),e.prototype.onLoad=function(){this.analyticsManager=cc.find("CommonCanvas").getComponent(s.default),this.stepsController=cc.find("CommonCanvas").getComponent(r.default),this.handDefaultPosition=this.hand.position,this.handOriginalScale=this.hand.scale,this.optionHighlight=this.option.getChildByName("checkmark"),this.node.active=!1},e.prototype.show=function(){var t=this;this.analyticsManager.sendOnViewTutorial(this.stepsController.getCurrentQuestionIndex()),this.overlayButton.interactable=!1,this.closeButton.interactable=!1,this.node.opacity=0,this.node.active=!0,cc.tween(this.node).to(1,{opacity:255}).call(function(){t.overlayButton.interactable=!0,t.closeButton.interactable=!0}).start(),this.scheduleOnce(this.moveHand.bind(this),1)},e.prototype.moveHand=function(){var t=this;cc.tween(this.hand).repeat(this.repeat,cc.tween().call(function(){t.hand.position=t.handDefaultPosition,t.option.scale=1,t.optionHighlight&&(t.optionHighlight.active=!1)}).to(this.timeToMoveToOption,{position:this.handPositionAtOption}).to(this.timeToScale,{scale:this.handScaleDownTo}).call(function(){t.option.scale=.9,t.optionHighlight&&(t.optionHighlight.active=!0)}).delay(this.delay).to(this.timeToScale,{scale:this.handOriginalScale}).call(function(){t.option.scale=1}).delay(.5)).call(function(){t.stop()}).start()},e.prototype.onClickStop=function(){this.stop()},e.prototype.stop=function(){cc.Tween.stopAllByTarget(this.node),cc.Tween.stopAllByTarget(this.hand),this.unscheduleAllCallbacks(),this.node.opacity=0,this.node.active=!1,this.node.emit("onTutorialStop")},n([p({type:cc.Integer})],e.prototype,"repeat",void 0),n([p(cc.Node)],e.prototype,"hand",void 0),n([p(cc.Node)],e.prototype,"option",void 0),n([p(cc.Vec3)],e.prototype,"handPositionAtOption",void 0),n([p({type:cc.Float})],e.prototype,"handScaleDownTo",void 0),n([p({type:cc.Float})],e.prototype,"timeToMoveToOption",void 0),n([p({type:cc.Float})],e.prototype,"timeToScale",void 0),n([p({type:cc.Float})],e.prototype,"delay",void 0),n([p(cc.Button)],e.prototype,"overlayButton",void 0),n([p(cc.Button)],e.prototype,"closeButton",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/StepsController":"StepsController"}],TemplateQuantitativeFeedback:[function(t,e,o){"use strict";cc._RF.push(e,"d98bdh1Dy1O+KogIrglzRxN","TemplateQuantitativeFeedback");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../scripts/utilities/TextLoader"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spr_iconbg=null,e.spr_statementsbg=null,e.spr_numbg=null,e.spr_feedbackbg=null,e.iconnode=null,e.totalquestionanswerednode=null,e.firstattemptanswers=null,e.numbg1node=null,e.numbg2node=null,e.feedbacknode=null,e}return i(e,t),e.prototype.onLoad=function(){this.iconnode=this.node.getChildByName("icon"),this.totalquestionanswerednode=this.node.getChildByName("totalquestionanswered"),this.firstattemptanswers=this.node.getChildByName("firstattemptanswers"),this.numbg1node=this.node.getChildByName("numbg1"),this.numbg2node=this.node.getChildByName("numbg2"),this.feedbacknode=this.node.getChildByName("feedbackbg")},e.prototype.SetQuantitativeFeedback=function(t,e){this.iconnode.getComponent(cc.Sprite).spriteFrame=this.spr_iconbg,this.totalquestionanswerednode.getComponent(cc.Sprite).spriteFrame=this.spr_statementsbg,this.totalquestionanswerednode.getChildByName("text").getComponent(s.default).changeLabel("totalquestionanswered"),this.firstattemptanswers.getComponent(cc.Sprite).spriteFrame=this.spr_statementsbg,this.firstattemptanswers.getChildByName("text").getComponent(s.default).changeLabel("firstattemptanswers"),this.numbg1node.getComponent(cc.Sprite).spriteFrame=this.spr_numbg,this.numbg1node.getChildByName("text").getComponent(s.default).changeLabel(t.toString()),this.numbg2node.getComponent(cc.Sprite).spriteFrame=this.spr_numbg,this.feedbacknode.getComponent(cc.Sprite).spriteFrame=this.spr_feedbackbg,this.numbg2node.getChildByName("text").getComponent(s.default).changeLabel(e.toString()),e<t?this.feedbacknode.getChildByName("text").getComponent(s.default).changeLabel("endscreenincomplete"):this.feedbacknode.getChildByName("text").getComponent(s.default).changeLabel("endscreencomplete")},n([c(cc.SpriteFrame)],e.prototype,"spr_iconbg",void 0),n([c(cc.SpriteFrame)],e.prototype,"spr_statementsbg",void 0),n([c(cc.SpriteFrame)],e.prototype,"spr_numbg",void 0),n([c(cc.SpriteFrame)],e.prototype,"spr_feedbackbg",void 0),e=n([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../scripts/utilities/TextLoader":"TextLoader"}],TextLoader:[function(t,e,o){"use strict";cc._RF.push(e,"12492sHvd9F37N/GAfwOXlp","TextLoader");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../StepsController"),r=cc._decorator,a=r.ccclass,c=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.key="hello",e.commmonCanvas=null,e.jsonData=null,e.richTextLabel=null,e}return i(e,t),e.prototype.start=function(){this.node.getComponent(cc.RichText)?(this.richTextLabel=this.node.getComponent(cc.RichText),this.richTextLabel.string=this.key):(this.label=this.node.getComponent(cc.Label),this.label.string=this.key),this.commmonCanvas=cc.find("CommonCanvas"),this.scr_stepsController=this.commmonCanvas.getComponent(s.default),this.scr_stepsController.getTextByKey(this.key)&&(this.node.getComponent(cc.RichText)?this.richTextLabel.string=this.scr_stepsController.getTextByKey(this.key):this.label.string=this.scr_stepsController.getTextByKey(this.key)),this.commmonCanvas.on("OnJsonLoadComplete",function(t){this.jsonData=t,t.gameTexts.hasOwnProperty(this.key)&&(this.node.getComponent(cc.RichText)?this.richTextLabel.string=t.gameTexts[this.key]:this.label.string=t.gameTexts[this.key])}.bind(this))},e.prototype.changeLabel=function(t){this.node.getComponent(cc.RichText)?(this.richTextLabel=this.node.getComponent(cc.RichText),this.richTextLabel.string=t):(this.label=this.node.getComponent(cc.Label),this.label.string=t),this.key=t,this.commmonCanvas=cc.find("CommonCanvas"),this.scr_stepsController=this.commmonCanvas.getComponent(s.default),this.scr_stepsController.getTextByKey(t)&&(this.node.getComponent(cc.RichText)?this.richTextLabel.string=this.scr_stepsController.getTextByKey(this.key):this.label.string=this.scr_stepsController.getTextByKey(this.key))},n([c],e.prototype,"key",void 0),e=n([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../StepsController":"StepsController"}],TutorialTemplate:[function(t,e,o){"use strict";cc._RF.push(e,"2c3f57ACWdAmKo2KzkSVih0","TutorialTemplate");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../scripts/AnalyticsManager"),r=t("../../scripts/StepsController"),a=cc._decorator,c=a.ccclass,p=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.hand=null,e.activateTapTutorial=!1,e.repeatTapTutorial=-1,e.startPositionTapTutorial=new cc.Vec2(0,0),e.activateDragTutorial=!1,e.repeatDragTutorial=-1,e.startPositionDragTutorial=new cc.Vec2(0,0),e.endPositionDragTutorial=new cc.Vec2(0,0),e.mCounter=0,e.mStartPosition=null,e.mEndPosition=null,e.mRepeatCount=0,e.mAnalyticManager=null,e.mStepController=null,e.mInitialize=!1,e}return i(e,t),e.prototype.onLoad=function(){this.bg.on(cc.Node.EventType.TOUCH_START,this.stopTutorial,this),this.mCounter=0},e.prototype.initialize=function(){this.mInitialize||(this.mAnalyticManager=cc.find("CommonCanvas").getComponent(s.default),this.mStepController=cc.find("CommonCanvas").getComponent(r.default),this.mInitialize=!0)},e.prototype.stopTutorial=function(){this.mCounter<1||(this.mCallback&&this.mCallback(),this.node.stopAllActions(),this.hand.stopAllActions(),this.node.active=!1)},e.prototype.playTapTutorial=function(t){this.mCallback=t,this.activateTapTutorial?(this.initialize(),this.mAnalyticManager.sendOnViewTutorial(this.mStepController.getCurrentQuestionIndex()),this.mStartPosition=this.startPositionTapTutorial,this.mRepeatCount=this.repeatTapTutorial,this.hand.setPosition(this.mStartPosition),this.node.active=!0,this.repeatTapTutorial>0?this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(this.scaleHand,this),cc.delayTime(2),cc.callFunc(this.checkAnimationCompletion,this)),this.repeatTapTutorial)):this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(this.scaleHand,this),cc.delayTime(2),cc.callFunc(this.checkAnimationCompletion,this))))):this.mCallback&&this.mCallback()},e.prototype.playDragTutorial=function(t){this.mCallback=t,this.activateDragTutorial?(this.initialize(),this.activateDragTutorial=!1,this.mAnalyticManager.sendOnViewTutorial(this.mStepController.getCurrentQuestionIndex()),this.mStartPosition=this.startPositionDragTutorial,this.mRepeatCount=this.repeatDragTutorial,this.mEndPosition=this.endPositionDragTutorial,this.hand.setPosition(this.mStartPosition),this.node.active=!0,this.repeatDragTutorial>0?this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(this.setStartPosition,this),cc.callFunc(this.scaleDown,this),cc.delayTime(.75),cc.callFunc(this.moveHand,this),cc.delayTime(1.25),cc.callFunc(this.scaleUp,this),cc.delayTime(.75),cc.callFunc(this.checkAnimationCompletion,this),cc.delayTime(.25)),this.repeatDragTutorial)):this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(this.setStartPosition,this),cc.callFunc(this.scaleDown,this),cc.delayTime(.75),cc.callFunc(this.moveHand,this),cc.delayTime(1.25),cc.callFunc(this.scaleUp,this),cc.delayTime(.75),cc.callFunc(this.checkAnimationCompletion,this),cc.delayTime(.25))))):this.mCallback&&this.mCallback()},e.prototype.setStartPosition=function(){this.hand.setPosition(this.mStartPosition)},e.prototype.moveHand=function(){this.setStartPosition(),this.hand.runAction(cc.moveTo(1,this.mEndPosition))},e.prototype.scaleUp=function(){this.hand.runAction(cc.scaleTo(.5,1))},e.prototype.scaleDown=function(){this.hand.runAction(cc.scaleTo(.5,.8))},e.prototype.scaleHand=function(){this.hand.runAction(cc.sequence(cc.scaleTo(.5,.8),cc.scaleTo(.5,1),cc.delayTime(.5)))},e.prototype.checkAnimationCompletion=function(){this.mCounter++,this.mCounter==this.mRepeatCount&&this.stopTutorial()},n([p(cc.Node)],e.prototype,"bg",void 0),n([p(cc.Node)],e.prototype,"hand",void 0),n([p(cc.Boolean)],e.prototype,"activateTapTutorial",void 0),n([p({type:Number,visible:function(){return this.activateTapTutorial}})],e.prototype,"repeatTapTutorial",void 0),n([p({type:cc.Vec2,visible:function(){return this.activateTapTutorial}})],e.prototype,"startPositionTapTutorial",void 0),n([p(cc.Boolean)],e.prototype,"activateDragTutorial",void 0),n([p({type:Number,visible:function(){return this.activateDragTutorial}})],e.prototype,"repeatDragTutorial",void 0),n([p({type:cc.Vec2,visible:function(){return this.activateDragTutorial}})],e.prototype,"startPositionDragTutorial",void 0),n([p({type:cc.Vec2,visible:function(){return this.activateDragTutorial}})],e.prototype,"endPositionDragTutorial",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../scripts/AnalyticsManager":"AnalyticsManager","../../scripts/StepsController":"StepsController"}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"d1167OD2SNCs48bKYHEbyTE","UIManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./AnalyticsManager"),r=t("./StepsController"),a=t("./AudioManager"),c=t("./ExitPayloadManager"),p=t("./ExpressionGenerateManager"),l=cc._decorator,h=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.headerMargin=[0,0,0,0],e.headerDefaultPosY=380,e.headerDefaultPosX=0,e.headerLabelOffset=[0,0],e.footerMargin=[0,0,0,0],e.footerDefaultShowPosY=-280,e.footerDefaultHidePosY=-700,e.footerDefaultPosX=0,e.footerLabelOffset=[0,0],e.footerButtonDefaultPosX=0,e.footerButtonDefaultPosY=-340,e.isHeaderCharacterEnabled=!1,e.transitionTime=1,e.CommonButtonType=cc.Enum({NextQuestion:0,TryAgain:1,Close:2,PlayAgain:3,NextGame:4,Hint:5,StartScreenPlay:6}),e.EventNames=cc.Enum({OnCommonButtonClick:"OnCommonButtonClick"}),e.clipButtonTap=null,e.isFooterTextHiding=!1,e}return i(e,t),e.prototype.onLoad=function(){this.scr_analyticsManager=this.node.getComponent(s.default),this.scr_stepsController=this.node.getComponent(r.default),this.scr_audioManager=this.node.getComponent(a.default),this.scr_bridgeIntegration=this.node.getComponent("BridgeIntegration"),this.scr_exitPayloadManager=this.node.getComponent(c.default),this.nodeHeader=this.node.getChildByName("PlayArea").getChildByName("HeaderText"),this.labelHeader=this.nodeHeader.getChildByName("HeaderBG").getChildByName("label").getComponent(cc.RichText),this.labelHeaderTitle=this.nodeHeader.getChildByName("HeaderBG").getChildByName("title").getComponent(cc.RichText),this.nodeFooter=this.node.getChildByName("PlayArea").getChildByName("FooterText"),this.labelFooter=this.nodeFooter.getChildByName("FooterBG").getChildByName("mainContent").getComponent(cc.RichText),this.labelFooterTitle=this.nodeFooter.getChildByName("FooterBG").getChildByName("title").getComponent(cc.RichText),this.endScreenButtons=this.node.getChildByName("PlayArea").getChildByName("EndScreenButtons"),this.footerButtons=this.node.getChildByName("PlayArea").getChildByName("FooterButtons"),this.nodeCloseButton=this.node.getChildByName("PlayArea").getChildByName("CloseButton"),this.hintsPanel=this.node.getChildByName("PlayArea").getChildByName("HintsPanel"),this.startScreen=this.node.getChildByName("PlayArea").getChildByName("StartScreen"),this.node.on("OnAllStepComplete",this.onAllStepComplete.bind(this)),this.node.on("OnJsonLoadComplete",this.onJosnLoadComplete.bind(this)),cc.loader.loadRes("common/audio/button_click",cc.AudioClip,function(t,e){t?cc.error(t.message||t):this.clipButtonTap=e}.bind(this))},e.prototype.onJosnLoadComplete=function(t){var e=cc.color(0,0,0,255);if(t.hasOwnProperty("uiElements")){if(t.uiElements.hasOwnProperty("gameStartScreen")&&this.loadGameStartScreen(t.uiElements.gameStartScreen),t.uiElements.hasOwnProperty("headerText")&&(this.loadCustomUIBackgroundForHeaderText(t.uiElements.headerText,this.nodeHeader.getChildByName("HeaderBG"),this.nodeHeader.getChildByName("HeaderBG").getChildByName("label")),t.uiElements.headerText.hasOwnProperty("color"))){var o=t.uiElements.headerText;e=new cc.Color(o.color[0],o.color[1],o.color[2],o.color[3])}t.uiElements.hasOwnProperty("footerText")&&this.loadCustomUIBackgroundForFooterText(t.uiElements.footerText,this.nodeFooter.getChildByName("FooterBG"),this.nodeFooter.getChildByName("FooterBG").getChildByName("mainContent")),t.uiElements.hasOwnProperty("nextButton")&&(this.loadCustomUIBackgroundForButton(t.uiElements.nextButton,this.footerButtons.getChildByName("Button_Next").getChildByName("Background")),this.loadCustomUIBackgroundForButton(t.uiElements.nextButton,this.endScreenButtons.getChildByName("Button_Next").getChildByName("Background"))),t.uiElements.hasOwnProperty("tryAgainButton")&&this.loadCustomUIBackgroundForButton(t.uiElements.tryAgainButton,this.footerButtons.getChildByName("Button_TryAgain").getChildByName("Background")),t.uiElements.hasOwnProperty("replayButton")&&this.loadCustomUIBackgroundForButton(t.uiElements.replayButton,this.endScreenButtons.getChildByName("Button_Replay").getChildByName("Background")),t.uiElements.hasOwnProperty("closeButton")&&this.loadCustomUIBackgroundForButton(t.uiElements.closeButton,this.nodeCloseButton),t.uiElements.hasOwnProperty("headerCharacter")&&this.loadHeaderCharacter(t.uiElements.headerCharacter,this.nodeHeader.getChildByName("Character")),t.uiElements.hasOwnProperty("hints")&&this.loadCustomUIForHints(t.uiElements.hints)}if(t.hasOwnProperty("expressionsRichText")){var i=t.expressionsRichText;p.default.getInstance().createAtlasForMathExpression(i,e,40)}if(t.hasOwnProperty("expressionsCustomSprite")){i=t.expressionsCustomSprite;p.default.getInstance().createAtlasFromImage(i)}if(t.hasOwnProperty("version")){var n=cc.find("CustomUI",this.node.parent.getChildByName("GameNode"));null!=n?n.getChildByName("Version").getComponent(cc.Label).string=t.version:null!=(n=cc.find("Version",this.node.parent.getChildByName("GameNode")))&&(n.getChildByName("Label").getComponent(cc.Label).string=t.version)}},e.prototype.loadHeaderCharacter=function(t,e){this.isHeaderCharacterEnabled=!0,cc.loader.loadRes(t.background,cc.SpriteFrame,function(t,o){t?cc.error(t.message||t):(e.active=!0,e.getComponent(cc.Sprite).spriteFrame=o)}.bind(this)),t.hasOwnProperty("spacing")&&(e.parent.getComponent(cc.Layout).spacingX=t.spacing),t.hasOwnProperty("size")&&(e.width=t.size[0],e.height=t.size[1])},e.prototype.loadCustomUIBackgroundForHeaderText=function(t,e,o){t.hasOwnProperty("background")&&(o.getParent().getComponent(cc.Layout).enabled=!1,o.getParent().getComponent(cc.Sprite).type=cc.Sprite.Type.SIMPLE,o.getParent().getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,Array.isArray(t.background)?(this.sprite_headerTextBG=new Array(3),cc.loader.loadRes(t.background[0],cc.SpriteFrame,function(t,e){t?cc.error(t.message||t):this.sprite_headerTextBG[0]=e}.bind(this)),cc.loader.loadRes(t.background[1],cc.SpriteFrame,function(t,e){t?cc.error(t.message||t):this.sprite_headerTextBG[1]=e}.bind(this)),cc.loader.loadRes(t.background[2],cc.SpriteFrame,function(t,o){t?cc.error(t.message||t):(this.sprite_headerTextBG[2]=o,e.getComponent(cc.Sprite).spriteFrame=o)}.bind(this))):cc.loader.loadRes(t.background,cc.SpriteFrame,function(t,o){t?cc.error(t.message||t):e.getComponent(cc.Sprite).spriteFrame=o}.bind(this))),t.hasOwnProperty("margin")&&(this.headerMargin[0]=t.margin[0],this.headerMargin[1]=t.margin[1],this.headerMargin[2]=t.margin[2],this.headerMargin[3]=t.margin[3]),t.hasOwnProperty("labelWidth")?this.labelHeader.maxWidth=t.labelWidth:this.labelHeader.maxWidth=800,t.hasOwnProperty("labelOffset")&&(this.headerLabelOffset=t.labelOffset,o.position.x=this.headerLabelOffset[0],o.position.y=this.headerLabelOffset[1]),t.hasOwnProperty("color")&&void 0!==o&&(o.color=new cc.Color(t.color[0],t.color[1],t.color[2],t.color[3]))},e.prototype.loadCustomUIBackgroundForFooterText=function(t,e,o){t.hasOwnProperty("background")&&(o.getParent().getComponent(cc.Layout).enabled=!1,o.getParent().getComponent(cc.Sprite).type=cc.Sprite.Type.SIMPLE,o.getParent().getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,Array.isArray(t.background)?(this.sprite_footerTextBG=new Array(3),cc.loader.loadRes(t.background[0],cc.SpriteFrame,function(t,e){t?cc.error(t.message||t):this.sprite_footerTextBG[0]=e}.bind(this)),cc.loader.loadRes(t.background[1],cc.SpriteFrame,function(t,e){t?cc.error(t.message||t):this.sprite_footerTextBG[1]=e}.bind(this)),cc.loader.loadRes(t.background[2],cc.SpriteFrame,function(t,o){t?cc.error(t.message||t):(this.sprite_footerTextBG[2]=o,e.getComponent(cc.Sprite).spriteFrame=o)}.bind(this))):cc.loader.loadRes(t.background,cc.SpriteFrame,function(t,o){t?cc.error(t.message||t):e.getComponent(cc.Sprite).spriteFrame=o}.bind(this))),t.hasOwnProperty("margin")&&(this.footerMargin[0]=t.margin[0],this.footerMargin[1]=t.margin[1],this.footerMargin[2]=t.margin[2],this.footerMargin[3]=t.margin[3],this.scheduleOnce(function(){this.nodeFooter.x=this.footerMargin[0]}.bind(this),1)),t.hasOwnProperty("labelWidth")?this.labelFooter.maxWidth=t.labelWidth:this.labelFooter.maxWidth=800,t.hasOwnProperty("labelOffset")&&(this.footerLabelOffset=t.labelOffset,o.position.x=this.footerLabelOffset[0],o.position.y=this.footerLabelOffset[1]),t.hasOwnProperty("color")&&void 0!==o&&(o.color=new cc.Color(t.color[0],t.color[1],t.color[2],t.color[3]))},e.prototype.loadCustomUIBackgroundForButton=function(t,e){t.hasOwnProperty("background")&&cc.loader.loadRes(t.background,cc.SpriteFrame,function(o,i){if(o)cc.error(o.message||o);else{e.getComponent(cc.Sprite).spriteFrame=i;var n=e.getChildByName("Label");t.hasOwnProperty("color")&&n&&(n.color=new cc.Color(t.color[0],t.color[1],t.color[2],t.color[3])),t.hasOwnProperty("labelOffset")&&(n.x=t.labelOffset[0],n.y=t.labelOffset[1]),null!==n&&(n.getComponent(cc.Label).fontSize=26)}}.bind(this))},e.prototype.loadCustomUIForHints=function(t){cc.loader.loadRes(t.hintsButtonIcon,cc.SpriteFrame,function(t,e){t?cc.error(t.message||t):this.node.getChildByName("PlayArea").getChildByName("HintsButton").getComponent(cc.Sprite).spriteFrame=e}.bind(this)),cc.loader.loadRes(t.closeButtonBG,cc.SpriteFrame,function(t,e){if(t)cc.error(t.message||t);else{var o=this.node.getChildByName("PlayArea").getChildByName("HintsPanel").getChildByName("HintCloseButton");o.active=!0,o.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=e}}.bind(this)),this.populateHints(t)},e.prototype.loadGameStartScreen=function(t){var e=this.startScreen.getChildByName("PanelBG").getChildByName("Title");e.getComponent(cc.RichText).string=t.titleText;var o=this.startScreen.getChildByName("PanelBG").getChildByName("PlayButton").getChildByName("Background").getChildByName("Label");o.getComponent(cc.Label).string="Play",t.hasOwnProperty("buttonLabelOffset")&&(o.x=t.buttonLabelOffset[0],o.y=t.buttonLabelOffset[1]),t.hasOwnProperty("buttonLabelColor")&&(o.color=new cc.Color(t.buttonLabelColor[0],t.buttonLabelColor[1],t.buttonLabelColor[2],t.buttonLabelColor[3])),t.hasOwnProperty("titleLabelColor")&&(e.color=new cc.Color(t.titleLabelColor[0],t.titleLabelColor[1],t.titleLabelColor[2],t.titleLabelColor[3])),cc.loader.loadRes(t.panelBG,cc.SpriteFrame,function(t,e){t?cc.error(t.message||t):this.startScreen.getChildByName("PanelBG").getComponent(cc.Sprite).spriteFrame=e}.bind(this)),cc.loader.loadRes(t.buttonBG,cc.SpriteFrame,function(t,e){t?cc.error(t.message||t):this.startScreen.getChildByName("PanelBG").getChildByName("PlayButton").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=e}.bind(this)),this.startScreen.active=!0},e.prototype.populateHints=function(t){cc.loader.loadRes(t.hintBG,cc.SpriteFrame,function(t,e){if(t)cc.error(t.message||t);else{var o=this.node.getChildByName("PlayArea").getChildByName("HintsPanel").getChildByName("Hints");o.active=!0,o.getComponent(cc.Sprite).spriteFrame=e;var i=this.hintsPanel.getChildByName("Hints").width/2,n=this.hintsPanel.getChildByName("Hints").height/2;this.hintsPanel.getChildByName("HintCloseButton").position=cc.v3(i,n)}}.bind(this))},e.prototype.showHeaderText=function(t,e){var o=this;void 0===e&&(e="");this.isHeaderCharacterEnabled,this.nodeHeader.active?cc.tween(this.nodeHeader).to(this.transitionTime,{position:cc.v2(100,this.nodeHeader.position.y),opacity:0}).call(function(){o.labelHeader.string=t,e.length>1?(o.labelHeaderTitle.string=e,o.labelHeaderTitle.node.active=!0):o.labelHeaderTitle.node.active=!1}).call(function(){o.labelHeader.string=t,o.nodeHeader.position=new cc.Vec3(-100+o.headerMargin[0],o.headerDefaultPosY+o.headerMargin[2],0),void 0!=o.sprite_headerTextBG?o.scheduleOnce(function(){this.labelHeader.node.height<40?this.labelHeader.node.parent.getComponent(cc.Sprite).spriteFrame=this.sprite_headerTextBG[0]:this.labelHeader.node.height>40&&this.labelHeader.node.height<70?this.labelHeader.node.parent.getComponent(cc.Sprite).spriteFrame=this.sprite_headerTextBG[1]:this.labelHeader.node.parent.getComponent(cc.Sprite).spriteFrame=this.sprite_headerTextBG[2],this.labelHeader.node.y=this.headerLabelOffset[1]+-this.labelHeader.node.parent.height/2,this.labelHeader.node.x=this.headerLabelOffset[0],this.nodeHeader.getChildByName("Character").y=-this.labelHeader.node.parent.height/2}.bind(o)):o.scheduleOnce(function(){this.nodeHeader.getChildByName("Character").y=-this.labelHeader.node.parent.height/2}.bind(o),.05)}).to(this.transitionTime,{position:cc.v2(this.headerDefaultPosX+this.headerMargin[0],this.headerDefaultPosY+this.headerMargin[2]),opacity:255}).call(function(){console.log("Sprite frame name ",o.labelHeader.node.parent.getComponent(cc.Sprite).spriteFrame.name)}).start():(this.nodeHeader.active=!0,this.labelHeader.string=t,this.nodeHeader.position=new cc.Vec3(-100,380,0),cc.tween(this.nodeHeader).to(this.transitionTime,{position:cc.v2(this.headerDefaultPosX+this.headerMargin[0],this.headerDefaultPosY+this.headerMargin[2]),opacity:255}).start()),this.setActiveHeaderCharacter(this.isHeaderCharacterEnabled,!0)},e.prototype.hideHeaderText=function(){cc.tween(this.nodeHeader).to(this.transitionTime,{position:cc.v2(100-this.headerDefaultPosX+this.headerMargin[0],this.nodeHeader.position.y),opacity:0}).start()},e.prototype.setHeaderYpos=function(t){void 0===t&&(t=380),this.headerDefaultPosY=t},e.prototype.setHeaderXpos=function(t){void 0===t&&(t=0),this.headerDefaultPosX=t},e.prototype.setFooterYpos=function(t){void 0===t&&(t=-300),this.footerDefaultShowPosY=t},e.prototype.setFooterXpos=function(t){void 0===t&&(t=0),this.footerDefaultPosX=t,this.nodeFooter.x=t},e.prototype.showFooterText=function(t,e){var o=this;void 0===e&&(e=""),cc.tween(this.nodeFooter).call(function(){e.length>1?(o.labelFooterTitle.string=e,o.labelFooterTitle.node.active=!0):o.labelFooterTitle.node.active=!1,o.labelFooter.string=t,void 0!=o.sprite_footerTextBG&&o.scheduleOnce(function(){this.labelFooterTitle.node.active?this.labelFooter.node.height<40?this.nodeFooter.getChildByName("FooterBG").getComponent(cc.Sprite).spriteFrame=this.sprite_footerTextBG[1]:this.nodeFooter.getChildByName("FooterBG").getComponent(cc.Sprite).spriteFrame=this.sprite_footerTextBG[2]:this.labelFooter.node.height<40?this.nodeFooter.getChildByName("FooterBG").getComponent(cc.Sprite).spriteFrame=this.sprite_footerTextBG[0]:this.labelFooter.node.height>40&&this.labelFooter.node.height<70?this.nodeFooter.getChildByName("FooterBG").getComponent(cc.Sprite).spriteFrame=this.sprite_footerTextBG[1]:this.nodeFooter.getChildByName("FooterBG").getComponent(cc.Sprite).spriteFrame=this.sprite_footerTextBG[2],this.labelFooter.node.y=this.footerLabelOffset[1]+this.nodeFooter.getChildByName("FooterBG").height/2,this.labelFooter.node.x=this.footerLabelOffset[0]}.bind(o))}).to(this.transitionTime,{position:cc.v2(this.footerDefaultPosX+this.footerMargin[0],this.footerDefaultShowPosY+this.footerMargin[3])}).start()},e.prototype.hideFooterText=function(){cc.tween(this.nodeFooter).to(this.transitionTime,{position:cc.v2(this.footerDefaultPosX+this.footerMargin[0],this.footerDefaultHidePosY)}).start()},e.prototype.setWidthOfLabelNode=function(t,e,o){void 0===o&&(o=14);var i=e.length*o;t.width=i>800?800:i<700?800:i},e.prototype.setActiveTryAgainButton=function(t){var e=this,o=this.node.getChildByName("PlayArea").getChildByName("FooterButtons");o.getChildByName("Button_TryAgain").getComponent(cc.Button).interactable=t,t?cc.tween(o).call(function(){e.node.getChildByName("PlayArea").getChildByName("FooterButtons").getChildByName("Button_TryAgain").active=t}).to(this.transitionTime,{position:cc.v2(this.footerButtonDefaultPosX,this.footerButtonDefaultPosY)}).start():cc.tween(o).to(this.transitionTime,{position:cc.v2(this.footerButtonDefaultPosX,-750)}).call(function(){e.node.getChildByName("PlayArea").getChildByName("FooterButtons").getChildByName("Button_TryAgain").active=t}).start()},e.prototype.setActiveNextButton=function(t){var e=this,o=this.node.getChildByName("PlayArea").getChildByName("FooterButtons");o.getChildByName("Button_Next").getComponent(cc.Button).interactable=t,t?cc.tween(o).call(function(){e.node.getChildByName("PlayArea").getChildByName("FooterButtons").getChildByName("Button_Next").active=t}).to(this.transitionTime,{position:cc.v2(this.footerButtonDefaultPosX,this.footerButtonDefaultPosY)}).start():cc.tween(o).to(this.transitionTime,{position:cc.v2(this.footerButtonDefaultPosX,-750)}).call(function(){e.node.getChildByName("PlayArea").getChildByName("FooterButtons").getChildByName("Button_Next").active=t}).start()},e.prototype.setActiveHeaderCharacter=function(t,e){void 0===e&&(e=!1),this.isHeaderCharacterEnabled=t,e&&(this.nodeHeader.getChildByName("Character").active=this.isHeaderCharacterEnabled)},e.prototype.setFooterButtonXpos=function(t){void 0===t&&(t=0),this.footerButtonDefaultPosX=t,this.node.getChildByName("PlayArea").getChildByName("FooterButtons").x=t},e.prototype.setFooterButtonYpos=function(t){void 0===t&&(t=0),this.footerButtonDefaultPosY=t},e.prototype.setActiveCloseButton=function(t){this.node.getChildByName("PlayArea").getChildByName("CloseButton").active=t},e.prototype.setActiveHintButton=function(t){this.node.getChildByName("PlayArea").getChildByName("HintsButton").active=t},e.prototype.onClickNextButton=function(){cc.audioEngine.play(this.clipButtonTap,!1,1),this.node.emit(this.EventNames.OnCommonButtonClick,this.CommonButtonType.NextQuestion),this.setActiveNextButton(!1),this.hideFooterText()},e.prototype.onClickTryAgainButton=function(){cc.audioEngine.play(this.clipButtonTap,!1,1),this.node.emit(this.EventNames.OnCommonButtonClick,this.CommonButtonType.TryAgain),this.setActiveTryAgainButton(!1),this.hideFooterText()},e.prototype.onClickReplayButton=function(){this.node.getChildByName("PlayArea").getChildByName("EndScreenButtons").getChildByName("Button_Replay").getComponent(cc.Button).interactable=!1,cc.audioEngine.play(this.clipButtonTap,!1,1),this.scr_analyticsManager.sendOnPlayAgainButtonClick(this.scr_stepsController.getTotalQuestions()),this.node.emit(this.EventNames.OnCommonButtonClick,this.CommonButtonType.PlayAgain),this.scheduleOnce(function(){this.scr_audioManager.stopAll(),cc.director.loadScene(cc.director.getScene().name)}.bind(this),.2)},e.prototype.onClickNextGameButton=function(){this.node.getChildByName("PlayArea").getChildByName("EndScreenButtons").getChildByName("Button_Next").getComponent(cc.Button).interactable=!1,cc.audioEngine.play(this.clipButtonTap,!1,1),this.scr_analyticsManager.sendNextQuestionStart(this.scr_stepsController.getTotalQuestions(),!0,this.scr_analyticsManager.Phylum.Click),this.scr_exitPayloadManager.sendExitPayload(),this.node.emit(this.EventNames.OnCommonButtonClick,this.CommonButtonType.NextGame)},e.prototype.onCloseButtonClick=function(){this.scr_analyticsManager.sendCloseButtonClick(this.scr_stepsController.getCurrentQuestionIndex())},e.prototype.onAllStepComplete=function(t){var e=this;cc.tween(this.endScreenButtons).to(this.transitionTime,{position:cc.v2(0,-300)}).call(function(){e.nodeFooter.active=!1}).start()},e.prototype.onHintsButtonClick=function(){this.scr_analyticsManager.sendOnHintButtonClick(this.scr_stepsController.getCurrentQuestionIndex()),this.hintsPanel.active=!0,this.scr_analyticsManager.sendOnHintView(this.scr_stepsController.getCurrentQuestionIndex()),this.scheduleOnce(function(){var t=this.hintsPanel.getChildByName("Hints").width/2,e=this.hintsPanel.getChildByName("Hints").height/2;this.hintsPanel.getChildByName("HintCloseButton").position=cc.v3(t,e)}.bind(this),.1)},e.prototype.onHintsCloseButtonClick=function(){this.hintsPanel.active=!1},e.prototype.changeHeaderCharacter=function(t){this.nodeHeader.getChildByName("Character").getComponent(cc.Sprite).spriteFrame=t},e.prototype.onPlayButtonClick=function(){cc.audioEngine.play(this.clipButtonTap,!1,1),this.startScreen.active=!1,this.node.emit(this.EventNames.OnCommonButtonClick,this.CommonButtonType.StartScreenPlay),this.scr_stepsController.onJsonLoadComplete()},e=n([h],e)}(cc.Component));o.default=d,cc._RF.pop()},{"./AnalyticsManager":"AnalyticsManager","./AudioManager":"AudioManager","./ExitPayloadManager":"ExitPayloadManager","./ExpressionGenerateManager":"ExpressionGenerateManager","./StepsController":"StepsController"}],Utilities:[function(t,e,o){"use strict";cc._RF.push(e,"5a767mogr5KLYv6/RjeZZbE","Utilities"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator;i.ccclass,i.property;cc._RF.pop()},{}],disabler:[function(t,e,o){"use strict";cc._RF.push(e,"330e7olV1FINbeq5cYHjaXY","disabler");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,o,r):n(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,a=s.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disableNode=null,e}return i(e,t),e.prototype.start=function(){this.disableNode.active=!1},n([a(cc.Node)],e.prototype,"disableNode",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],dsbridge:[function(t,e,o){"use strict";function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}cc._RF.push(e,"f5db2wsQrJO26qBanoifxfH","dsbridge");var n={default:void 0,call:function(t,e,o){var i="";if("function"==typeof e&&(o=e,e={}),e={data:void 0===e?null:e},"function"==typeof o){var n="dscb"+window.dscb++;window[n]=o,e._dscbstub=n}return e=JSON.stringify(e),window._dsbridge?i=_dsbridge.call(t,e):(window._dswk||-1!=navigator.userAgent.indexOf("_dsbridge"))&&(i=prompt("_dsbridge="+t,e)),JSON.parse(i||"{}").data},register:function(t,e,o){o=o?window._dsaf:window._dsf,window._dsInit||(window._dsInit=!0,setTimeout(function(){n.call("_dsb.dsinit")},0)),"object"==i(e)?o._obs[t]=e:o[t]=e},registerAsyn:function(t,e){this.register(t,e,!0)},hasNativeMethod:function(t,e){return this.call("_dsb.hasNativeMethod",{name:t,type:e||"all"})},disableJavascriptDialogBlock:function(t){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==t})}};!function(){if(!window._dsf){var t,e={_dsf:{_obs:{}},_dsaf:{_obs:{}},dscb:0,dsBridge:n,close:function(){n.call("_dsb.closePage")},_handleMessageFromNative:function(t){var e=JSON.parse(t.data),o={id:t.callbackId,complete:!0},i=this._dsf[t.method],s=this._dsaf[t.method],r=function(t,i){o.data=t.apply(i,e),n.call("_dsb.returnValue",o)},a=function(t,i){e.push(function(t,e){o.data=t,o.complete=!1!==e,n.call("_dsb.returnValue",o)}),t.apply(i,e)};if(i)r(i,this._dsf);else if(s)a(s,this._dsaf);else if(!(2>(i=t.method.split(".")).length)){t=i.pop();i=i.join(".");var c=(s=(s=this._dsf._obs)[i]||{})[t];c&&"function"==typeof c?r(c,s):(c=(s=(s=this._dsaf._obs)[i]||{})[t])&&"function"==typeof c&&a(c,s)}}};for(t in e)window[t]=e[t];n.register("_hasJavascriptMethod",function(t,e){return 2>(e=t.split(".")).length?!(!_dsf[e]&&!_dsaf[e]):(t=e.pop(),e=e.join("."),(e=_dsf._obs[e]||_dsaf._obs[e])&&!!e[t])})}}(),e.exports=n,cc._RF.pop()},{}],jsFile2:[function(t,e,o){"use strict";cc._RF.push(e,"614707NjFlPSoEB6td36aaf","jsFile2");var i={callJSFile2:function(){console.log("Hurray callJSFile2")}};e.exports=i,cc._RF.pop()},{}]},{},["dsbridge","QuestionProgressBar","Template11","Template11_ItemSelection","TemplateQuantitativeFeedback","TutorialTemplate","Geometry_Highlight","Geometry_Hint","Geometry_OptionHandler","Geometry_StepsHandler","Template1SelectionPanel","Template2_OptionHandler","Template2_Tutorial","Template3_OptionHandler","Template3_Tutorial","Template4_OptionHandler","Template4_Tutorial","Template5_OptionDrag","Template5_OptionHandler","Template5_Tutorial","Template7_OptionHandler","Template7_Turorial","AnalyticsManager","AudioManager","BridgeIntegration","ExitPayloadManager","ExpressionGenerateManager","StepsController","UIManager","Utilities","StepType_Empty","StepType_Info","StepType_Question_1","StepType_Question_2","StepType_Question_3","StepType_Question_4","CustomPositioningUI","Drag_Drop","ExpressionLoader","NodeUtility","TextLoader","19EXPL04SCI08E01_Rotate_Around","19EXPL04SCI08E01_drag_drop","19EXPL04SCI08E01_solar_system","jsFile2","EXPL04MAT13E01_dragNdrop","EXPL04MAT13E01_patterns1","CBSE05SCI05E01_OptionsHandler","CBSE05SCI05E01_TasteBuds","CBSE05SCI05E01_BaseQuestion","CBSE05SCI05E01_QuestionTypeOne","EXPL06SCI08E01_Bones","EXPL06SCI08E01_dragNdrop","disabler","EXPL06SCI16E01_Drag_Drop","EXPL06SCI16E01_Tap_Detect","EXPL06SCI16E01_Vermicompost","EXPL07_Sample","EXPL_selectionpanel"]);